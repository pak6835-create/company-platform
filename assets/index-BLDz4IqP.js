import{a as pt,j as t}from"./index-4umeWZWE.js";import{f as da,a as r}from"./vendor-react-BLQjSpGA.js";function ha(l,c){const d=["red","orange","yellow","lime","green","teal","cyan","blue","indigo","purple","magenta","pink"],g=Math.floor((l+15)%360/30),y=c<30?"dark ":c>70?"light ":"";return c<15?"black":c>90?"white":y+d[g]}function le(l,c=70,d=50){const g=ne(l,c,d),y=ha(l,d);return`${g} ${y}`}function ma(l,c){const d=["ë¹¨ê°•","ì£¼í™©","ë…¸ë‘","ì—°ë‘","ë…¹ìƒ‰","ì²­ë¡","í•˜ëŠ˜","íŒŒë‘","ë‚¨ìƒ‰","ë³´ë¼","ìì£¼","ë¶„í™"],g=Math.floor((l+15)%360/30),y=c<30?"ì–´ë‘ìš´ ":c>70?"ë°ì€ ":"";return c<15?"ê²€ì •":c>90?"í°ìƒ‰":y+d[g]}function ne(l,c,d){d/=100;const g=c*Math.min(d,1-d)/100,y=u=>{const w=(u+l/30)%12,h=d-g*Math.max(Math.min(w-3,9-w,1),-1);return Math.round(255*h).toString(16).padStart(2,"0")};return`#${y(0)}${y(8)}${y(4)}`}const ga={basic:{name:"ê¸°ë³¸",icon:"ğŸ‘¤",items:{species:{name:"ì¢…ì¡±",icon:"ğŸ§¬",tags:[["human","ì¸ê°„"],["elf","ì—˜í”„"],["vampire","ë±€íŒŒì´ì–´"],["angel","ì²œì‚¬"],["demon","ì•…ë§ˆ"],["orc","ì˜¤í¬"],["dwarf","ë“œì›Œí”„"],["fairy","ìš”ì •"],["werewolf","ëŠ‘ëŒ€ì¸ê°„"],["cat person","ê³ ì–‘ì´ìˆ˜ì¸"],["fox person","ì—¬ìš°ìˆ˜ì¸"],["dragon humanoid","ìš©ì¸"]]},gender:{name:"ì„±ë³„",icon:"âš§",tags:[["male","ë‚¨ì„±"],["female","ì—¬ì„±"],["androgynous","ì¤‘ì„±ì "]]},age:{name:"ë‚˜ì´",icon:"ğŸ‚",type:"slider",min:5,max:80,default:25,unit:"ì„¸",prompt:l=>l<10?"child":l<18?"teenager":l<30?"young adult in 20s":l<40?"adult in 30s":l<50?"middle-aged in 40s":l<60?"mature adult in 50s":"elderly"},height:{name:"í‚¤",icon:"ğŸ“",type:"slider",min:140,max:200,default:170,unit:"cm",prompt:l=>`${l}cm tall`},headRatio:{name:"ë“±ì‹ ",icon:"ğŸ“",type:"slider",min:4,max:10,default:7,step:.5,unit:"ë“±ì‹ ",prompt:l=>`${l} head tall proportion`},bodyType:{name:"ì²´í˜•",icon:"ğŸ’ª",type:"slider",min:0,max:100,default:50,labels:["ë§ˆë¦„","ë³´í†µ","ê·¼ìœ¡"],prompt:l=>l<30?"slim skinny build":l<70?"average build":"muscular athletic build"},skinTone:{name:"í”¼ë¶€ìƒ‰",icon:"ğŸ¨",type:"skin",prompt:(l,c=40,d=50)=>{const g=ne(l,c,d);let y="";return d>80?y="very pale white":d>60?y="fair light":d>40?y="medium tan":d>20?y="brown":y="dark",`${g} ${y} skin tone`}}}},hair:{name:"ë¨¸ë¦¬",icon:"ğŸ’‡",items:{hairStyle:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ’‡",tags:[["bald","ëŒ€ë¨¸ë¦¬"],["buzz cut","ì§§ì€ì‚­ë°œ"],["short hair","ì§§ì€ë¨¸ë¦¬"],["medium hair","ì¤‘ê°„ë¨¸ë¦¬"],["long hair","ê¸´ë¨¸ë¦¬"],["very long hair","ë§¤ìš°ê¸´ë¨¸ë¦¬"],["straight hair","ìƒë¨¸ë¦¬"],["wavy hair","ì›¨ì´ë¸Œ"],["curly hair","ê³±ìŠ¬"],["ponytail","í¬ë‹ˆí…Œì¼"],["twin tails","íŠ¸ìœˆí…Œì¼"],["braid","ë•‹ì€ë¨¸ë¦¬"],["bun","ë˜¥ë¨¸ë¦¬"],["mohawk","ëª¨íˆì¹¸"],["dreadlocks","ë“œë ˆë“œë½"]]},hairBangs:{name:"ì•ë¨¸ë¦¬",icon:"âœ‚ï¸",tags:[["no bangs","ì•ë¨¸ë¦¬ì—†ìŒ"],["blunt bangs","ì¼ìì•ë¨¸ë¦¬"],["side swept bangs","ì˜†ìœ¼ë¡œë„˜ê¸´"],["parted bangs","ê°€ë¥´ë§ˆ"],["curtain bangs","ì»¤íŠ¼ë±…"],["wispy bangs","ì‹œìŠ¤ë£¨ë±…"]]},hairColor:{name:"ë¨¸ë¦¬ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(l,c=70,d=50)=>le(l,c,d)+" colored hair"}}},face:{name:"ì–¼êµ´",icon:"ğŸ‘¤",items:{faceShape:{name:"ì–¼êµ´í˜•",icon:"ğŸ—¿",tags:[["oval face","ê³„ë€í˜•"],["round face","ë‘¥ê·¼í˜•"],["square face","ê°ì§„í˜•"],["heart face","í•˜íŠ¸í˜•"],["long face","ê¸´í˜•"]]},eyeSize:{name:"ëˆˆí¬ê¸°",icon:"ğŸ‘ï¸",type:"slider",min:0,max:100,default:50,labels:["ì‘ìŒ","ë³´í†µ","í¼"],prompt:l=>l<30?"small narrow eyes":l<70?"normal eyes":"large anime eyes"},eyeShape:{name:"ëˆˆí˜•íƒœ",icon:"ğŸ‘€",tags:[["round eyes","ë™ê·¸ë€ëˆˆ"],["almond eyes","ì•„ëª¬ë“œëˆˆ"],["monolid eyes","ë¬´ìŒ"],["double eyelid","ìŒêº¼í’€"],["downturned eyes","ì²˜ì§„ëˆˆ"],["upturned eyes","ì˜¬ë¼ê°„ëˆˆ"]]},eyeColor:{name:"ëˆˆ/ë Œì¦ˆìƒ‰",icon:"ğŸ”µ",type:"hue",prompt:(l,c=70,d=50)=>le(l,c,d)+" colored eyes"},eyebrows:{name:"ëˆˆì¹",icon:"ğŸ¤¨",tags:[["thin eyebrows","ì–‡ì€ëˆˆì¹"],["thick eyebrows","ì§„í•œëˆˆì¹"],["arched eyebrows","ì•„ì¹˜í˜•"],["straight eyebrows","ì¼ìëˆˆì¹"],["bushy eyebrows","ë¥ìˆ˜ë£©í•œëˆˆì¹"]]},nose:{name:"ì½”",icon:"ğŸ‘ƒ",tags:[["small nose","ì‘ì€ì½”"],["high nose","ë†’ì€ì½”"],["flat nose","ë‚®ì€ì½”"],["pointed nose","ë¾°ì¡±í•œì½”"],["wide nose","ë„“ì€ì½”"]]},lips:{name:"ì…ìˆ ",icon:"ğŸ‘„",tags:[["thin lips","ì–‡ì€ì…ìˆ "],["full lips","ë„í†°í•œì…ìˆ "],["small lips","ì‘ì€ì…ìˆ "],["wide lips","ë„“ì€ì…ìˆ "]],hasColor:!0},expression:{name:"í‘œì •",icon:"ğŸ˜Š",tags:[["neutral","ë¬´í‘œì •"],["gentle smile","ë¯¸ì†Œ"],["big smile laughing","í™œì§ì›ƒìŒ"],["sad teary","ìŠ¬í””"],["angry frowning","í™”ë‚¨"],["surprised wide eyes","ë†€ëŒ"],["smirk confident","ëŠ¥ê¸€"],["pleading puppy eyes","ì• ì²˜ë¡œì›€"],["blushing embarrassed","ë¶€ë„ëŸ¼"],["thinking contemplating","ìƒê°"],["shy","ìˆ˜ì¤ìŒ"],["serious","ì§„ì§€í•¨"],["seductive","ë§¤í˜¹ì "],["crying tears","ëˆˆë¬¼"],["yawning sleepy","ì¡¸ë¦¼"],["disgusted","ì—­ê²¨ì›€"],["fearful scared","ë‘ë ¤ì›€"],["pouting","ì‚ì§"]]},wrinkles:{name:"ì£¼ë¦„",icon:"ã€°ï¸",type:"slider",min:0,max:100,default:0,labels:["ì—†ìŒ","ì•½ê°„","ë§ìŒ"],prompt:l=>l<20?"":l<50?"subtle wrinkles":"prominent wrinkles, aged face"},beard:{name:"ìˆ˜ì—¼",icon:"ğŸ§”",tags:[["clean shaven","ë©´ë„í•¨"],["stubble","ê±°ì¹œìˆ˜ì—¼"],["short beard","ì§§ì€ìˆ˜ì—¼"],["full beard","í’ì„±í•œìˆ˜ì—¼"],["goatee","ì—¼ì†Œìˆ˜ì—¼"],["mustache","ì½§ìˆ˜ì—¼"]],hasColor:!0}}},faceAcc:{name:"ì–¼êµ´ì•…ì„¸",icon:"ğŸ‘“",items:{glasses:{name:"ì•ˆê²½",icon:"ğŸ‘“",tags:[["no glasses","ì•ˆê²½ì—†ìŒ"],["glasses","ì•ˆê²½"],["round glasses","ë™ê·¸ë€ì•ˆê²½"],["square glasses","ì‚¬ê°ì•ˆê²½"],["sunglasses","ì„ ê¸€ë¼ìŠ¤"],["monocle","ì™¸ì•Œì•ˆê²½"]],hasColor:!0},headwear:{name:"ëª¨ì/ë¨¸ë¦¬ì¥ì‹",icon:"ğŸ©",tags:[["no hat","ì—†ìŒ"],["cap","ìº¡ëª¨ì"],["beanie","ë¹„ë‹ˆ"],["fedora","í˜ë„ë¼"],["crown","ì™•ê´€"],["tiara","í‹°ì•„ë¼"],["hairpin","í—¤ì–´í•€"],["ribbon","ë¦¬ë³¸"],["headband","ë¨¸ë¦¬ë "],["flower crown","ê½ƒì™•ê´€"]],hasColor:!0},mask:{name:"ë§ˆìŠ¤í¬",icon:"ğŸ­",tags:[["no mask","ì—†ìŒ"],["half mask","ë°˜ê°€ë©´"],["full mask","ì „ì²´ê°€ë©´"],["surgical mask","ë§ˆìŠ¤í¬"],["gas mask","ë°©ë…ë©´"]]}}},upperBody:{name:"ìƒì²´",icon:"ğŸ‘•",items:{outfitSet:{name:"ì˜ìƒì„¸íŠ¸",icon:"ğŸ‘”",tags:[["formal black suit white shirt tie","ğŸ¤µ ì •ì¥"],["casual hoodie jeans","ğŸ‘• ìºì£¼ì–¼"],["Korean hanbok traditional","ğŸ‘˜ í•œë³µ"],["school uniform blazer","ğŸ“ êµë³µ"],["medieval knight armor","âš”ï¸ ê°‘ì˜·"],["elegant ball gown dress","ğŸ‘— ë“œë ˆìŠ¤"],["sports jersey shorts","ğŸƒ ìš´ë™ë³µ"],["chef uniform apron","ğŸ‘¨â€ğŸ³ ì…°í”„"],["doctor white coat stethoscope","ğŸ‘¨â€âš•ï¸ ì˜ì‚¬"],["military combat uniform","ğŸ–ï¸ êµ°ë³µ"],["swimsuit beach","ğŸ‘™ ìˆ˜ì˜ë³µ"],["pajamas sleepwear","ğŸ˜´ ì ì˜·"],["maid outfit frilly","ğŸ€ ë©”ì´ë“œ"],["nurse uniform","ğŸ‘©â€âš•ï¸ ê°„í˜¸ì‚¬"],["police uniform","ğŸ‘® ê²½ì°°"],["kimono japanese","ğŸ ê¸°ëª¨ë…¸"]]},topLayer1:{name:"ìƒì˜1(ì•ˆìª½)",icon:"ğŸ‘•",tags:[["t-shirt","í‹°ì…”ì¸ "],["tank top","ë¯¼ì†Œë§¤"],["shirt","ì…”ì¸ "],["blouse","ë¸”ë¼ìš°ìŠ¤"],["crop top","í¬ë¡­íƒ‘"],["turtleneck","í„°í‹€ë„¥"],["vest","ì¡°ë¼"]],hasColor:!0},topLayer2:{name:"ìƒì˜2(ì¤‘ê°„)",icon:"ğŸ§¥",tags:[["none","ì—†ìŒ"],["hoodie","í›„ë“œí‹°"],["sweater","ìŠ¤ì›¨í„°"],["cardigan","ê°€ë””ê±´"],["jacket","ìì¼“"],["blazer","ë¸”ë ˆì´ì €"]],hasColor:!0},topLayer3:{name:"ìƒì˜3(ë°”ê¹¥)",icon:"ğŸ§¥",tags:[["none","ì—†ìŒ"],["coat","ì½”íŠ¸"],["trench coat","íŠ¸ë Œì¹˜ì½”íŠ¸"],["leather jacket","ê°€ì£½ìì¼“"],["parka","íŒŒì¹´"],["cape","ë§í† "],["cloak","í´ë¡œí¬"]],hasColor:!0},neckwear:{name:"ë„¥ì›¨ì–´",icon:"ğŸ‘”",tags:[["none","ì—†ìŒ"],["tie","ë„¥íƒ€ì´"],["bow tie","ë‚˜ë¹„ë„¥íƒ€ì´"],["scarf","ìŠ¤ì¹´í”„"],["choker","ì´ˆì»¤"],["necklace","ëª©ê±¸ì´"],["pendant","íœë˜íŠ¸"]],hasColor:!0},gloves:{name:"ì¥ê°‘",icon:"ğŸ§¤",tags:[["none","ì—†ìŒ"],["fingerless gloves","í•‘ê±°ë¦¬ìŠ¤"],["leather gloves","ê°€ì£½ì¥ê°‘"],["long gloves","ë¡±ì¥ê°‘"],["mittens","ë²™ì–´ë¦¬ì¥ê°‘"]],hasColor:!0}}},lowerBody:{name:"í•˜ì²´",icon:"ğŸ‘–",items:{bottom:{name:"í•˜ì˜",icon:"ğŸ‘–",tags:[["jeans","ì²­ë°”ì§€"],["slacks","ìŠ¬ë™ìŠ¤"],["shorts","ë°˜ë°”ì§€"],["skirt","ìŠ¤ì»¤íŠ¸"],["mini skirt","ë¯¸ë‹ˆìŠ¤ì»¤íŠ¸"],["long skirt","ë¡±ìŠ¤ì»¤íŠ¸"],["pleated skirt","í”Œë¦¬ì¸ "],["leggings","ë ˆê¹…ìŠ¤"],["sweatpants","ì¸„ë¦¬ë‹"]],hasColor:!0},socks:{name:"ì–‘ë§/ìŠ¤íƒ€í‚¹",icon:"ğŸ§¦",tags:[["none","ì—†ìŒ"],["ankle socks","ë°œëª©ì–‘ë§"],["crew socks","ì¤‘ê°„ì–‘ë§"],["knee socks","ë¬´ë¦ì–‘ë§"],["thigh highs","í—ˆë²…ì§€ì–‘ë§"],["stockings","ìŠ¤íƒ€í‚¹"],["fishnet","ë§ì‚¬"]],hasColor:!0},shoes:{name:"ì‹ ë°œ",icon:"ğŸ‘Ÿ",tags:[["sneakers","ìš´ë™í™”"],["boots","ë¶€ì¸ "],["high heels","í•˜ì´í"],["loafers","ë¡œí¼"],["sandals","ìƒŒë“¤"],["barefoot","ë§¨ë°œ"]],hasColor:!0}}},hands:{name:"ì†/ë¬´ê¸°",icon:"âœ‹",items:{leftHand:{name:"ì™¼ì†",icon:"ğŸ¤š",tags:[["empty hand","ë¹ˆì†"],["open palm","í¸ì†"],["fist","ì£¼ë¨¹"],["pointing","ê°€ë¦¬í‚¤ê¸°"],["peace sign","ë¸Œì´"],["thumbs up","ì—„ì§€ì²™"]]},rightHand:{name:"ì˜¤ë¥¸ì†",icon:"ğŸ¤š",tags:[["empty hand","ë¹ˆì†"],["open palm","í¸ì†"],["fist","ì£¼ë¨¹"],["pointing","ê°€ë¦¬í‚¤ê¸°"],["peace sign","ë¸Œì´"],["thumbs up","ì—„ì§€ì²™"]]},weapon:{name:"ë¬´ê¸°",icon:"âš”ï¸",tags:[["none","ì—†ìŒ"],["sword","ê²€"],["katana","ì¹´íƒ€ë‚˜"],["dagger","ë‹¨ê²€"],["bow","í™œ"],["staff","ì§€íŒ¡ì´"],["wand","ë§ˆë²•ë´‰"],["gun","ì´"],["shield","ë°©íŒ¨"],["spear","ì°½"],["axe","ë„ë¼"]]},bracelet:{name:"íŒ”ì°Œ",icon:"ğŸ“¿",tags:[["none","ì—†ìŒ"],["bracelet","íŒ”ì°Œ"],["bangle","ë±…ê¸€"],["watch","ì‹œê³„"],["wristband","ì†ëª©ë°´ë“œ"]],hasColor:!0},ring:{name:"ë°˜ì§€",icon:"ğŸ’",tags:[["none","ì—†ìŒ"],["simple ring","ì‹¬í”Œë°˜ì§€"],["gem ring","ë³´ì„ë°˜ì§€"],["multiple rings","ì—¬ëŸ¬ë°˜ì§€"]],hasColor:!0}}},fantasy:{name:"íŒíƒ€ì§€",icon:"ğŸ§š",items:{wings:{name:"ë‚ ê°œ",icon:"ğŸª½",tags:[["no wings","ì—†ìŒ"],["angel wings","ì²œì‚¬ë‚ ê°œ"],["demon wings","ì•…ë§ˆë‚ ê°œ"],["dragon wings","ë“œë˜ê³¤ë‚ ê°œ"],["fairy wings","ìš”ì •ë‚ ê°œ"],["butterfly wings","ë‚˜ë¹„ë‚ ê°œ"],["bat wings","ë°•ì¥ë‚ ê°œ"],["feathered wings","ê¹ƒí„¸ë‚ ê°œ"],["mechanical wings","ê¸°ê³„ë‚ ê°œ"]],hasColor:!0},wingSize:{name:"ë‚ ê°œí¬ê¸°",icon:"ğŸ“",type:"slider",min:0,max:100,default:50,labels:["ì‘ìŒ","ë³´í†µ","í¼"],prompt:l=>l<30?"small wings":l>70?"large magnificent wings":"medium wings"},wingState:{name:"ë‚ ê°œìƒíƒœ",icon:"ğŸ¦‹",tags:[["folded wings","ì ‘ì€ë‚ ê°œ"],["spread wings","í¼ì¹œë‚ ê°œ"],["half spread","ë°˜ì¯¤í¼ì¹œ"],["flapping wings","í¼ë•ì´ëŠ”"]]},ears:{name:"ê·€",icon:"ğŸ‘‚",tags:[["human ears","ì¸ê°„ê·€"],["elf ears","ì—˜í”„ê·€"],["cat ears","ê³ ì–‘ì´ê·€"],["fox ears","ì—¬ìš°ê·€"],["wolf ears","ëŠ‘ëŒ€ê·€"],["rabbit ears","í† ë¼ê·€"],["dog ears","ê°•ì•„ì§€ê·€"],["pointed ears","ë¾°ì¡±ê·€"],["droopy ears","ì²˜ì§„ê·€"]],hasColor:!0},tail:{name:"ê¼¬ë¦¬",icon:"ğŸ¦Š",tags:[["no tail","ì—†ìŒ"],["cat tail","ê³ ì–‘ì´ê¼¬ë¦¬"],["fox tail","ì—¬ìš°ê¼¬ë¦¬"],["wolf tail","ëŠ‘ëŒ€ê¼¬ë¦¬"],["dragon tail","ë“œë˜ê³¤ê¼¬ë¦¬"],["demon tail","ì•…ë§ˆê¼¬ë¦¬"],["fluffy tail","ë½€ì†¡ê¼¬ë¦¬"],["long tail","ê¸´ê¼¬ë¦¬"],["multiple tails","ì—¬ëŸ¬ê¼¬ë¦¬"]],hasColor:!0},tailCount:{name:"ê¼¬ë¦¬ê°œìˆ˜",icon:"ğŸ”¢",type:"slider",min:1,max:9,default:1,unit:"ê°œ",prompt:l=>l===1?"single tail":`${l} tails`},horns:{name:"ë¿”",icon:"ğŸ¦Œ",tags:[["no horns","ì—†ìŒ"],["small horns","ì‘ì€ë¿”"],["large horns","í°ë¿”"],["curved horns","êµ½ì€ë¿”"],["straight horns","ì§ì„ ë¿”"],["antlers","ì‚¬ìŠ´ë¿”"],["ram horns","ì–‘ë¿”"],["demon horns","ì•…ë§ˆë¿”"]],hasColor:!0},halo:{name:"í›„ê´‘",icon:"ğŸ˜‡",tags:[["no halo","ì—†ìŒ"],["golden halo","ê¸ˆìƒ‰í›„ê´‘"],["white halo","í°ìƒ‰í›„ê´‘"],["broken halo","ê¹¨ì§„í›„ê´‘"],["dark halo","ì–´ë‘ìš´í›„ê´‘"],["glowing halo","ë¹›ë‚˜ëŠ”í›„ê´‘"]]},extraFeatures:{name:"ì¶”ê°€íŠ¹ì§•",icon:"âœ¨",tags:[["none","ì—†ìŒ"],["scales on skin","í”¼ë¶€ë¹„ëŠ˜"],["glowing marks","ë¹›ë‚˜ëŠ”ë¬¸ì–‘"],["tattoo marks","ë¬¸ì‹ "],["freckles","ì£¼ê·¼ê¹¨"],["birthmark","ì "],["scars","í‰í„°"],["stitches","ë°”ëŠì§ˆìêµ­"]]}}},pose:{name:"í¬ì¦ˆ",icon:"ğŸƒ",items:{bodyPose:{name:"ì „ì‹ í¬ì¦ˆ",icon:"ğŸ§",tags:[["standing","ì„œìˆëŠ”"],["sitting","ì•‰ì€"],["kneeling","ë¬´ë¦ê¿‡ì€"],["lying down","ëˆ„ìš´"],["walking","ê±·ëŠ”"],["running","ë›°ëŠ”"],["jumping","ì í”„"],["fighting pose","ì „íˆ¬ìì„¸"],["dancing","ì¶¤ì¶”ëŠ”"],["floating","ë– ìˆëŠ”"]]},armPose:{name:"íŒ”í¬ì¦ˆ",icon:"ğŸ’ª",tags:[["arms at sides","íŒ”ë‚´ë¦¼"],["crossed arms","íŒ”ì§±"],["hands behind","ë’·ì§"],["hands on hips","í—ˆë¦¬ì†"],["raised arm","íŒ”ë“¤ê¸°"],["waving","ì†í”ë“¤ê¸°"]]},viewAngle:{name:"ì‹œì ",icon:"ğŸ“·",tags:[["front view","ì •ë©´"],["side view","ì¸¡ë©´"],["back view","ë’·ëª¨ìŠµ"],["three quarter view","3/4ì•µê¸€"],["from above","ìœ„ì—ì„œ"],["from below","ì•„ë˜ì—ì„œ"],["close up","í´ë¡œì¦ˆì—…"],["full body","ì „ì‹ "]]}}},style:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ¨",items:{artStyle:{name:"ê·¸ë¦¼ì²´",icon:"ğŸ¨",tags:[["korean webtoon","í•œêµ­ì›¹íˆ°"],["japanese anime","ì¼ë³¸ì• ë‹ˆ"],["ghibli style","ì§€ë¸Œë¦¬"],["disney pixar","ë””ì¦ˆë‹ˆí”½ì‚¬"],["semi realistic","ì„¸ë¯¸ë¦¬ì–¼"],["realistic","ì‹¤ì‚¬"],["chibi","ì¹˜ë¹„"],["manhwa","ë§Œí™”"],["watercolor","ìˆ˜ì±„í™”"],["oil painting","ìœ í™”"]]},quality:{name:"í’ˆì§ˆ",icon:"âœ¨",tags:[["masterpiece","ê±¸ì‘"],["best quality","ìµœê³ í’ˆì§ˆ"],["highly detailed","ìƒì„¸í•œ"],["sharp focus","ì„ ëª…í•œ"]]},mood:{name:"ë¶„ìœ„ê¸°",icon:"ğŸŒŸ",tags:[["bright","ë°ì€"],["dark","ì–´ë‘ìš´"],["warm","ë”°ëœ»í•œ"],["cold","ì°¨ê°€ìš´"],["dramatic","ê·¹ì ì¸"],["soft","ë¶€ë“œëŸ¬ìš´"],["vibrant","ìƒë™ê°ìˆëŠ”"]]}}},negative:{name:"ë„¤ê±°í‹°ë¸Œ",icon:"â›”",items:{negative:{name:"ì œì™¸í• ê²ƒ",icon:"â›”",tags:[["low quality","ì €í’ˆì§ˆ"],["blurry","íë¦°"],["ugly","ëª»ìƒê¸´"],["deformed","ë³€í˜•"],["bad anatomy","í•´ë¶€í•™ì˜¤ë¥˜"],["extra limbs","íŒ”ë‹¤ë¦¬ì¶”ê°€"],["missing limbs","íŒ”ë‹¤ë¦¬ì—†ìŒ"],["extra fingers","ì†ê°€ë½ì¶”ê°€"],["bad hands","ì´ìƒí•œì†"],["multiple characters","ì—¬ëŸ¬ìºë¦­í„°"],["watermark","ì›Œí„°ë§ˆí¬"],["text","í…ìŠ¤íŠ¸"]],isNeg:!0}}}},ua={style:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ¨",items:{artStyle:{name:"ê·¸ë¦¼ì²´",icon:"ğŸ¨",tags:[["webtoon style","ì›¹íˆ°"],["anime style","ì• ë‹ˆë©”"],["ghibli style","ì§€ë¸Œë¦¬"],["photorealistic","ì‹¤ì‚¬"],["concept art","ì»¨ì…‰ì•„íŠ¸"],["watercolor","ìˆ˜ì±„í™”"],["oil painting","ìœ í™”"],["pixel art","í”½ì…€"]]},quality:{name:"í’ˆì§ˆ",icon:"âœ¨",tags:[["masterpiece","ê±¸ì‘"],["best quality","ìµœê³ í’ˆì§ˆ"],["highly detailed","ìƒì„¸í•œ"],["8k","8K"],["sharp focus","ì„ ëª…"]]}}},sky:{name:"í•˜ëŠ˜",icon:"ğŸŒ…",items:{timeOfDay:{name:"ì‹œê°„ëŒ€",icon:"ğŸ•",type:"slider",min:0,max:100,default:50,labels:["ìƒˆë²½","ì•„ì¹¨","ë‚®","ì„ì–‘","ë°¤"],prompt:l=>l<15?"dawn, early morning":l<35?"morning, sunrise":l<65?"daytime, bright sky":l<85?"sunset, golden hour":"night, dark sky, stars"},skyColor:{name:"í•˜ëŠ˜ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(l,c=70,d=50)=>le(l,c,d)+" colored sky"},weather:{name:"ë‚ ì”¨",icon:"ğŸŒ¤ï¸",tags:[["clear sky","ë§‘ìŒ"],["cloudy","íë¦¼"],["overcast","ì”ëœ©íë¦¼"],["rainy","ë¹„"],["snowy","ëˆˆ"],["foggy","ì•ˆê°œ"],["stormy","í­í’"]]},clouds:{name:"êµ¬ë¦„",icon:"â˜ï¸",type:"slider",min:0,max:100,default:30,labels:["ì—†ìŒ","ì•½ê°„","ë§ìŒ"],prompt:l=>l<20?"clear sky":"cloudy sky"},cloudColor:{name:"êµ¬ë¦„ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(l,c=30,d=80)=>le(l,c,d)+" tinted clouds"}}},far:{name:"ì›ê²½",icon:"ğŸ”ï¸",items:{farBg:{name:"ë¨¼ë°°ê²½",icon:"ğŸ”ï¸",tags:[["none","ì—†ìŒ"],["mountains","ì‚°"],["city skyline","ë„ì‹œìŠ¤ì¹´ì´ë¼ì¸"],["forest horizon","ìˆ²ì§€í‰ì„ "],["ocean horizon","ë°”ë‹¤ìˆ˜í‰ì„ "],["desert dunes","ì‚¬ë§‰ì–¸ë•"]]},farDetail:{name:"ì›ê²½ë””í…Œì¼",icon:"ğŸ”­",type:"slider",min:0,max:100,default:30,labels:["íë¦¿","ë³´í†µ","ì„ ëª…"],prompt:l=>l<30?"blurry distant background":"sharp detailed background"}}},mid:{name:"ì¤‘ê²½",icon:"ğŸ ",items:{location:{name:"ì¥ì†Œ",icon:"ğŸ“",tags:[["city street","ë„ì‹œê±°ë¦¬"],["alley","ê³¨ëª©"],["park","ê³µì›"],["forest","ìˆ²ì†"],["beach","í•´ë³€"],["mountain path","ì‚°ê¸¸"],["river","ê°•ê°€"],["bridge","ë‹¤ë¦¬"]]},building:{name:"ê±´ë¬¼",icon:"ğŸ¢",tags:[["none","ì—†ìŒ"],["houses","ì£¼íƒ"],["apartments","ì•„íŒŒíŠ¸"],["skyscrapers","ë§ˆì²œë£¨"],["traditional houses","ì „í†µê°€ì˜¥"],["shops","ìƒì ê°€"],["school","í•™êµ"],["castle","ì„±"]]},interior:{name:"ì‹¤ë‚´",icon:"ğŸ ",tags:[["none","ì—†ìŒ"],["living room","ê±°ì‹¤"],["bedroom","ì¹¨ì‹¤"],["kitchen","ì£¼ë°©"],["cafe","ì¹´í˜"],["restaurant","ë ˆìŠ¤í† ë‘"],["classroom","êµì‹¤"],["library","ë„ì„œê´€"],["office","ì‚¬ë¬´ì‹¤"]]}}},near:{name:"ê·¼ê²½",icon:"ğŸ›¤ï¸",items:{ground:{name:"ë°”ë‹¥",icon:"ğŸ›¤ï¸",tags:[["asphalt","ì•„ìŠ¤íŒ”íŠ¸"],["concrete","ì½˜í¬ë¦¬íŠ¸"],["grass","ì”ë””"],["dirt","í™"],["sand","ëª¨ë˜"],["wood floor","ë‚˜ë¬´ë°”ë‹¥"],["tile","íƒ€ì¼"],["carpet","ì¹´í«"]]},foreground:{name:"ì „ê²½ë¬¼ì²´",icon:"ğŸŒ³",tags:[["none","ì—†ìŒ"],["trees","ë‚˜ë¬´"],["flowers","ê½ƒ"],["rocks","ë°”ìœ„"],["fence","ìš¸íƒ€ë¦¬"],["bench","ë²¤ì¹˜"],["street lamp","ê°€ë¡œë“±"],["car","ìë™ì°¨"]]},depthBlur:{name:"ì‹¬ë„(ë¸”ëŸ¬)",icon:"ğŸ“¸",type:"slider",min:0,max:100,default:0,labels:["ì—†ìŒ","ì•½ê°„","ê°•í•¨"],prompt:l=>l<20?"":"depth of field, bokeh"}}},light:{name:"ì¡°ëª…",icon:"ğŸ’¡",items:{lightType:{name:"ì¡°ëª…ì¢…ë¥˜",icon:"ğŸ’¡",tags:[["natural light","ìì—°ê´‘"],["cinematic lighting","ì‹œë„¤ë§ˆí‹±"],["soft lighting","ë¶€ë“œëŸ¬ìš´"],["dramatic lighting","ê·¹ì ì¸"],["backlight","ì—­ê´‘"],["rim light","ë¦¼ë¼ì´íŠ¸"],["neon lights","ë„¤ì˜¨"],["candlelight","ì´›ë¶ˆ"],["moonlight","ë‹¬ë¹›"],["spotlight","ìŠ¤í¬íŠ¸ë¼ì´íŠ¸"]]},lightColor:{name:"ì¡°ëª…ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(l,c=60,d=60)=>le(l,c,d)+" colored lighting"},brightness:{name:"ë°ê¸°",icon:"â˜€ï¸",type:"slider",min:0,max:100,default:50,labels:["ì–´ë‘ì›€","ë³´í†µ","ë°ìŒ"],prompt:l=>l<30?"dark, low key":l>70?"bright, high key":""},contrast:{name:"ëŒ€ë¹„",icon:"â—",type:"slider",min:0,max:100,default:50,labels:["ë‚®ìŒ","ë³´í†µ","ë†’ìŒ"],prompt:l=>l<30?"low contrast, flat lighting":l>70?"high contrast, dramatic shadows":""},saturation:{name:"ì±„ë„",icon:"ğŸŒˆ",type:"slider",min:0,max:100,default:50,labels:["íƒí•¨","ë³´í†µ","ì„ ëª…"],prompt:l=>l<30?"desaturated, muted colors":l>70?"vibrant, saturated colors":""},ambientColor:{name:"í™˜ê²½ê´‘ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(l,c=40,d=50)=>le(l,c,d)+" ambient light"}}},negative:{name:"ë„¤ê±°í‹°ë¸Œ",icon:"â›”",items:{negative:{name:"ì œì™¸í• ê²ƒ",icon:"â›”",tags:[["low quality","ì €í’ˆì§ˆ"],["blurry","íë¦°"],["ugly","ëª»ìƒê¸´"],["watermark","ì›Œí„°ë§ˆí¬"],["text","í…ìŠ¤íŠ¸"],["cropped","ì˜ë¦°"]],isNeg:!0}}}},pa=[{name:"âœ¨ ì¬ë²Œë‚¨ì£¼",icon:"âœ¨",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","8k","ultra detailed"],gender:["male"],age:28,height:188,headRatio:8.5,bodyType:65,hairStyle:["short hair","undercut"],hairColor:{h:30,s:20,l:10},eyeShape:["sharp eyes"],eyeColor:{h:30,s:40,l:35},expression:["cold","serious"],faceShape:["sharp jawline"],topLayer1:["shirt"],topLayer1Color:{h:0,s:0,l:98},topLayer2:["vest"],topLayer2Color:{h:0,s:0,l:15},topLayer3:["coat"],topLayer3Color:{h:0,s:0,l:10},bottom:["slacks"],bottomColor:{h:0,s:0,l:12},bodyPose:["standing"],viewAngle:["three quarter view"],mood:["dramatic","cinematic"]}},{name:"ğŸ’– ë¡œíŒì—¬ì£¼",icon:"ğŸ’–",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","8k","ultra detailed"],gender:["female"],age:20,height:165,headRatio:7,hairStyle:["very long hair","wavy hair"],hairBangs:["curtain bangs"],hairColor:{h:45,s:30,l:75},eyeSize:70,eyeShape:["big eyes"],eyeColor:{h:280,s:60,l:65},expression:["innocent","sparkling eyes"],faceShape:["oval face"],skinTone:{h:25,s:30,l:92},topLayer1:["dress"],topLayer1Color:{h:340,s:50,l:85},accessory:["ribbon","necklace"],bodyPose:["elegant pose"],viewAngle:["three quarter view"],mood:["soft","dreamy"]}},{name:"ğŸ–¤ ë¹ŒëŸ°ë‚¨ì£¼",icon:"ğŸ–¤",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","cinematic lighting"],gender:["male"],age:30,height:190,headRatio:8.5,bodyType:70,hairStyle:["medium hair","slicked back"],hairColor:{h:0,s:0,l:5},eyeShape:["sharp eyes","narrow eyes"],eyeColor:{h:0,s:80,l:45},expression:["smirk","menacing"],faceShape:["sharp jawline"],topLayer1:["turtleneck"],topLayer1Color:{h:0,s:0,l:8},topLayer3:["coat"],topLayer3Color:{h:0,s:100,l:25},bottom:["slacks"],bottomColor:{h:0,s:0,l:10},bodyPose:["arms crossed"],viewAngle:["low angle"],mood:["dark","dramatic"]}},{name:"ğŸŒ¸ í•˜ì´í‹´ì—¬ì£¼",icon:"ğŸŒ¸",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","vivid colors"],gender:["female"],age:17,height:163,headRatio:7,hairStyle:["long hair","straight hair"],hairBangs:["see-through bangs"],hairColor:{h:25,s:60,l:15},eyeSize:65,eyeShape:["round eyes"],expression:["blushing","shy"],topLayer1:["blouse"],topLayer1Color:{h:0,s:0,l:98},topLayer2:["cardigan"],topLayer2Color:{h:350,s:45,l:75},bottom:["pleated skirt"],bottomColor:{h:220,s:50,l:25},socks:["knee socks"],shoes:["loafers"],bodyPose:["standing"],viewAngle:["front view"],mood:["soft","cute"]}},{name:"âš”ï¸ ë¬´í˜‘ê²€ê°",icon:"âš”ï¸",data:{artStyle:["semi realistic","chinese painting style"],quality:["masterpiece","highly detailed","cinematic"],gender:["male"],age:25,height:182,bodyType:70,hairStyle:["long hair","ponytail"],hairColor:{h:0,s:0,l:8},eyeShape:["sharp eyes"],eyeColor:{h:30,s:50,l:30},expression:["cold","serious"],topLayer1:["hanfu"],topLayer1Color:{h:0,s:0,l:95},topLayer3:["robe"],topLayer3Color:{h:220,s:60,l:25},weapon:["sword"],bodyPose:["fighting pose"],viewAngle:["dynamic angle"],mood:["dramatic","epic"]}},{name:"ğŸ‘‘ í™©ë…€",icon:"ğŸ‘‘",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","ornate details"],gender:["female"],age:22,height:168,headRatio:7.5,hairStyle:["very long hair","elegant updo"],hairColor:{h:45,s:25,l:85},eyeSize:60,eyeColor:{h:200,s:70,l:60},expression:["elegant","noble"],skinTone:{h:25,s:25,l:95},topLayer1:["royal dress"],topLayer1Color:{h:50,s:80,l:55},accessory:["crown","jewelry"],bodyPose:["elegant pose"],viewAngle:["three quarter view"],mood:["luxurious","majestic"]}},{name:"ğŸ—¡ï¸ ì–´ìŒ”ì‹ ",icon:"ğŸ—¡ï¸",data:{artStyle:["concept art","semi realistic"],quality:["masterpiece","highly detailed","dynamic lighting"],gender:["female"],age:24,height:170,bodyType:55,hairStyle:["short hair","asymmetrical"],hairColor:{h:270,s:30,l:20},eyeShape:["sharp eyes"],eyeColor:{h:180,s:80,l:50},expression:["cold","focused"],topLayer1:["bodysuit"],topLayer1Color:{h:0,s:0,l:12},topLayer3:["hooded cape"],topLayer3Color:{h:270,s:40,l:15},weapon:["dual daggers"],bodyPose:["action pose"],viewAngle:["dynamic angle"],mood:["dark","mysterious"]}},{name:"ğŸ”® ëŒ€ë§ˆë²•ì‚¬",icon:"ğŸ”®",data:{artStyle:["fantasy art","semi realistic"],quality:["masterpiece","highly detailed","magical effects"],gender:["male"],age:35,height:185,hairStyle:["long hair"],hairColor:{h:220,s:20,l:70},eyeColor:{h:200,s:100,l:60},expression:["wise","mysterious"],topLayer1:["robe"],topLayer1Color:{h:220,s:60,l:20},topLayer3:["cloak"],topLayer3Color:{h:270,s:50,l:25},weapon:["staff"],accessory:["magical orb"],bodyPose:["casting spell"],mood:["mystical","powerful"]}},{name:"ğŸ‰ ìš©ì¡±",icon:"ğŸ‰",data:{species:["dragon humanoid"],artStyle:["fantasy art","semi realistic"],quality:["masterpiece","highly detailed","intricate scales"],gender:["male"],age:500,height:195,bodyType:80,hairStyle:["long hair"],hairColor:{h:0,s:0,l:95},eyeColor:{h:50,s:100,l:50},expression:["fierce","proud"],skinTone:{h:220,s:30,l:40},topLayer1:["armor"],topLayer1Color:{h:220,s:50,l:30},accessory:["horns","scales"],bodyPose:["powerful stance"],mood:["epic","majestic"]}},{name:"ğŸ¤ K-POPë‚¨ëŒ",icon:"ğŸ¤",data:{artStyle:["semi realistic"],quality:["masterpiece","best quality","studio lighting"],gender:["male"],age:22,height:180,headRatio:8,bodyType:55,hairStyle:["two-block cut"],hairColor:{h:30,s:60,l:65},eyeShape:["sharp eyes"],eyeColor:{h:30,s:40,l:30},expression:["charismatic","smirk"],skinTone:{h:25,s:30,l:88},topLayer1:["crop top"],topLayer1Color:{h:0,s:0,l:10},topLayer2:["jacket"],topLayer2Color:{h:0,s:0,l:5},bottom:["leather pants"],bottomColor:{h:0,s:0,l:8},accessory:["earrings","chain necklace"],bodyPose:["cool pose"],mood:["stylish","edgy"]}},{name:"ğŸ’œ K-POPì—¬ëŒ",icon:"ğŸ’œ",data:{artStyle:["semi realistic"],quality:["masterpiece","best quality","soft lighting"],gender:["female"],age:20,height:167,headRatio:7.5,hairStyle:["long hair","wavy hair"],hairBangs:["curtain bangs"],hairColor:{h:330,s:40,l:45},eyeSize:60,eyeColor:{h:30,s:50,l:35},expression:["cute","wink"],skinTone:{h:25,s:25,l:92},topLayer1:["crop top"],topLayer1Color:{h:280,s:60,l:70},bottom:["mini skirt"],bottomColor:{h:0,s:0,l:15},socks:["thigh high"],shoes:["platform boots"],accessory:["choker","earrings"],bodyPose:["cute pose"],mood:["vibrant","energetic"]}},{name:"ğŸ–¼ï¸ ë¯¸ìˆ ì‘í’ˆí’",icon:"ğŸ–¼ï¸",data:{artStyle:["oil painting","classical art"],quality:["masterpiece","museum quality","fine art"],gender:["female"],age:25,hairStyle:["very long hair","flowing"],hairColor:{h:30,s:40,l:25},eyeColor:{h:30,s:50,l:40},expression:["serene","thoughtful"],topLayer1:["elegant dress"],topLayer1Color:{h:220,s:50,l:40},accessory:["pearl earrings"],bodyPose:["elegant pose"],viewAngle:["portrait"],mood:["classical","timeless"]}}],fa=[{name:"ğŸŒƒ ì‹œí‹°ë·°ì•¼ê²½",icon:"ğŸŒƒ",data:{artStyle:["webtoon style"],quality:["masterpiece","best quality","8k","cinematic"],location:["penthouse balcony"],building:["skyscrapers","city lights"],timeOfDay:90,lightType:["neon lights","ambient glow"],saturation:65,mood:["romantic","luxurious"]}},{name:"ğŸ›ï¸ ìœ ëŸ½ê¶ì „",icon:"ğŸ›ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","ornate details","grand scale"],interior:["palace hall"],lightType:["chandelier","golden light"],lightColor:{h:45,s:70,l:65},mood:["luxurious","elegant"]}},{name:"ğŸŒ¹ ì¥ë¯¸ì •ì›",icon:"ğŸŒ¹",data:{artStyle:["webtoon style"],quality:["masterpiece","best quality","detailed flowers"],location:["garden"],foreground:["rose bushes","flowers"],lightType:["soft sunlight"],timeOfDay:45,lightColor:{h:35,s:60,l:70},mood:["romantic","dreamy"]}},{name:"â˜• ê³ ê¸‰ì¹´í˜",icon:"â˜•",data:{artStyle:["webtoon style"],quality:["masterpiece","cozy atmosphere"],interior:["luxury cafe"],lightType:["warm ambient"],lightColor:{h:30,s:55,l:60},saturation:50,mood:["cozy","intimate"]}},{name:"ğŸ“š ë°©ê³¼í›„êµì‹¤",icon:"ğŸ“š",data:{artStyle:["webtoon style"],quality:["masterpiece","golden hour lighting"],interior:["empty classroom"],lightType:["sunset through window"],timeOfDay:70,lightColor:{h:25,s:80,l:55},mood:["nostalgic","warm"]}},{name:"ğŸŒ¸ ë²šê½ƒí†µí•™ë¡œ",icon:"ğŸŒ¸",data:{artStyle:["webtoon style"],quality:["masterpiece","particle effects","petals falling"],location:["cherry blossom street"],foreground:["cherry trees","falling petals"],lightType:["soft spring light"],timeOfDay:45,mood:["romantic","spring"]}},{name:"ğŸ« í•™êµì˜¥ìƒ",icon:"ğŸ«",data:{artStyle:["webtoon style"],quality:["masterpiece","wide angle"],location:["school rooftop"],farBg:["city skyline"],lightType:["natural light"],timeOfDay:50,mood:["nostalgic","peaceful"]}},{name:"ğŸ° ë§ˆì™•ì„±",icon:"ğŸ°",data:{artStyle:["concept art","dark fantasy"],quality:["masterpiece","highly detailed","epic scale"],building:["dark castle","gothic architecture"],farBg:["storm clouds","lightning"],timeOfDay:85,lightType:["dramatic lighting","red glow"],mood:["ominous","epic"]}},{name:"âœ¨ ë§ˆë²•ìˆ²",icon:"âœ¨",data:{artStyle:["fantasy art"],quality:["masterpiece","magical particles","bioluminescent"],location:["enchanted forest"],foreground:["glowing mushrooms","magical plants"],lightType:["ethereal glow"],timeOfDay:80,mood:["mystical","magical"]}},{name:"ğŸ‰ ìš©ì˜ë‘¥ì§€",icon:"ğŸ‰",data:{artStyle:["concept art"],quality:["masterpiece","epic scale","dramatic"],location:["dragon lair"],farBg:["volcanic mountains"],lightType:["fire glow","lava light"],mood:["dangerous","epic"]}},{name:"ğŸŒ… í™©ê¸ˆì‹œê°„",icon:"ğŸŒ…",data:{artStyle:["webtoon style"],quality:["masterpiece","lens flare","golden hour"],location:["rooftop"],farBg:["sunset sky"],timeOfDay:72,lightType:["backlight","rim light"],lightColor:{h:30,s:90,l:60},mood:["emotional","cinematic"]}},{name:"ğŸŒ§ï¸ ë¹„ì˜¤ëŠ”ê±°ë¦¬",icon:"ğŸŒ§ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","rain effects","reflections"],location:["city street"],weather:["rain","wet ground"],timeOfDay:65,lightType:["street lights","neon reflections"],mood:["melancholic","atmospheric"]}},{name:"â„ï¸ ê²¨ìš¸ëˆˆê¸¸",icon:"â„ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","snow particles","cold atmosphere"],location:["snowy street"],weather:["snowfall"],lightType:["soft winter light"],timeOfDay:55,mood:["peaceful","cold"]}},{name:"ğŸŒ™ ë‹¬ë¹›ì•„ë˜",icon:"ğŸŒ™",data:{artStyle:["webtoon style"],quality:["masterpiece","moonlit","atmospheric"],location:["garden"],timeOfDay:95,lightType:["moonlight","soft shadows"],mood:["mysterious","romantic"]}}],ve=[{id:"gemini-2.5-flash-image",name:"ë‚˜ë…¸ë°”ë‚˜ë‚˜ (2.5 Flash)",desc:"ë¹ ë¥¸ ìƒì„±, 1K í•´ìƒë„",maxSize:"1K",price:"~$0.039/ì¥"},{id:"gemini-3-pro-image-preview",name:"ë‚˜ë…¸ë°”ë‚˜ë‚˜ Pro (3 Pro)",desc:"ìµœê³  í’ˆì§ˆ, 2K/4K ì§€ì›, ì°¸ì¡°ì´ë¯¸ì§€ 14ì¥",maxSize:"4K",price:"ìœ ë£Œ (í”„ë¦¬ë¯¸ì—„)"}],Ve=["gemini-3-pro-image-preview"],ya=["1K","2K","4K"],ba=["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"],ft=l=>{var d,g,y,u,w;const c=((y=(g=(d=l.candidates)==null?void 0:d[0])==null?void 0:g.content)==null?void 0:y.parts)||[];for(const h of c){const M=((u=h.inlineData)==null?void 0:u.data)||((w=h.inline_data)==null?void 0:w.data);if(M)return M}return null};async function gt(l,c,d=ve[0].id,g){const y=`https://generativelanguage.googleapis.com/v1beta/models/${d}:generateContent?key=${l}`,u={responseModalities:["TEXT","IMAGE"]},w=Ve.includes(d);(g!=null&&g.aspectRatio||g!=null&&g.imageSize&&w)&&(u.imageConfig={},g.aspectRatio&&(u.imageConfig.aspectRatio=g.aspectRatio),g.imageSize&&w&&(u.imageConfig.imageSize=g.imageSize));const h={contents:[{parts:[{text:c}]}],generationConfig:u};console.log("[generateImage] ìš”ì²­:",JSON.stringify(h,null,2));const f=await(await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();if(console.log("[generateImage] ì‘ë‹µ:",f.error?f.error:"ì„±ê³µ"),f.error)throw new Error(f.error.message||"API ì˜¤ë¥˜");const $=ft(f);if(!$)throw new Error("ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨");return{base64:$,url:`data:image/png;base64,${$}`}}async function D(l,c,d,g=ve[0].id,y="image/png",u,w){const h=`https://generativelanguage.googleapis.com/v1beta/models/${g}:generateContent?key=${l}`,M=[{text:d},{inline_data:{mime_type:y,data:c}}];if(u){const re=(Array.isArray(u)?u:[u]).slice(0,14);for(const oe of re)oe&&M.push({inline_data:{mime_type:y,data:oe}})}const f={responseModalities:["TEXT","IMAGE"]},$=Ve.includes(g);(w!=null&&w.aspectRatio||w!=null&&w.imageSize&&$)&&(f.imageConfig={},w.aspectRatio&&(f.imageConfig.aspectRatio=w.aspectRatio),w.imageSize&&$&&(f.imageConfig.imageSize=w.imageSize));const T={contents:[{parts:M}],generationConfig:f};console.log("[editImage] ìš”ì²­:",{model:g,mimeType:y,promptLength:d.length,imageDataLength:c.length,hasReference:!!u,referenceLength:(u==null?void 0:u.length)||0});const L=await(await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();if(console.log("[editImage] ì‘ë‹µ:",L.error?L.error:"ì„±ê³µ"),L.error)throw new Error(L.error.message||"API ì˜¤ë¥˜");const Z=ft(L);if(!Z)throw new Error("ì´ë¯¸ì§€ í¸ì§‘ ì‹¤íŒ¨");return{base64:Z,url:`data:image/png;base64,${Z}`}}function xa(l,c,d){const g=document.createElement("canvas");g.width=l.width,g.height=l.height,g.getContext("2d").putImageData(l,0,0);const u=document.createElement("canvas");u.width=c,u.height=d;const w=u.getContext("2d");return w.drawImage(g,0,0,c,d),w.getImageData(0,0,c,d)}function va(l,c){let d=c;(l.width!==c.width||l.height!==c.height)&&(console.warn(`[extractAlpha] ì´ë¯¸ì§€ í¬ê¸° ë¶ˆì¼ì¹˜! í°ë°°ê²½: ${l.width}x${l.height}, ê²€ì •ë°°ê²½: ${c.width}x${c.height}`),console.log("[extractAlpha] ê²€ì •ë°°ê²½ ì´ë¯¸ì§€ë¥¼ í°ë°°ê²½ í¬ê¸°ë¡œ ë¦¬ì‚¬ì´ì¦ˆí•©ë‹ˆë‹¤."),d=xa(c,l.width,l.height));const g=l.width,y=l.height,u=l.data,w=d.data,h=new Uint8ClampedArray(u.length),M=Math.sqrt(765*255);for(let f=0;f<g*y;f++){const $=f*4,T=u[$],we=u[$+1],L=u[$+2],Z=w[$],ae=w[$+1],re=w[$+2];let _=1-Math.sqrt(Math.pow(T-Z,2)+Math.pow(we-ae,2)+Math.pow(L-re,2))/M;_=Math.max(0,Math.min(1,_));let x=0,S=0,k=0;_>.01&&(x=Z/_,S=ae/_,k=re/_),h[$]=Math.round(Math.min(255,x)),h[$+1]=Math.round(Math.min(255,S)),h[$+2]=Math.round(Math.min(255,k)),h[$+3]=Math.round(_*255)}return new ImageData(h,g,y)}function ut(l){return new Promise((c,d)=>{const g=new Image;g.onload=()=>{const y=document.createElement("canvas");y.width=g.width,y.height=g.height;const u=y.getContext("2d");u.drawImage(g,0,0),c(u.getImageData(0,0,y.width,y.height))},g.onerror=()=>d(new Error("ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨")),g.src=l})}function wa(l){const c=document.createElement("canvas");return c.width=l.width,c.height=l.height,c.getContext("2d").putImageData(l,0,0),c.toDataURL("image/png")}async function xe(l,c,d=ve[0].id,g){g==null||g("ê²€ì •ë°°ê²½ìœ¼ë¡œ ë³€í™˜ ì¤‘...");const y=await D(l,c,"Change the white background to solid pure black #000000. Keep everything else exactly the same. Do not modify the character at all, only change the background color.",d);g==null||g("íˆ¬ëª… ë°°ê²½ ìƒì„± ì¤‘...");const u=`data:image/png;base64,${c}`,[w,h]=await Promise.all([ut(u),ut(y.url)]),M=va(w,h);return wa(M)}const Je=[{id:"style",name:"í™”í’",icon:"ğŸ¨",prompt:"match the art style and color palette"},{id:"pose",name:"í¬ì¦ˆ",icon:"ğŸƒ",prompt:"match the pose and body position"},{id:"outfit",name:"ì˜ìƒ",icon:"ğŸ‘•",prompt:"use the same outfit and clothing"},{id:"color",name:"ìƒ‰ê°",icon:"ğŸŒˆ",prompt:"use the same color scheme"},{id:"face",name:"ì–¼êµ´",icon:"ğŸ‘¤",prompt:"match the facial features"},{id:"bg",name:"ë°°ê²½",icon:"ğŸï¸",prompt:"use the same background"},{id:"object",name:"ì˜¤ë¸Œì íŠ¸",icon:"ğŸ“¦",prompt:"include this object in the image"}];function ja({onImageGenerated:l}){const c=da(),{assets:d,addAsset:g,removeAsset:y}=pt(),[u,w]=r.useState("char"),[h,M]=r.useState(""),[f,$]=r.useState(ve[0].id),[T,we]=r.useState("1K"),[L,Z]=r.useState("1:1"),[ae,re]=r.useState(1),[oe,_]=r.useState(!1),[x,S]=r.useState([]),[k,I]=r.useState(-1),[je,yt]=r.useState(550),[ke,We]=r.useState("generate"),[bt,Ye]=r.useState(!1),[Xe,Oe]=r.useState(!1),[xt,ce]=r.useState(!1),[P,Ce]=r.useState("same"),[Ne,Se]=r.useState({pose:!0,expr:!0,angle:!0,cloth:!1}),[vt,wt]=r.useState("expression"),[ka,Ca]=r.useState([]),[jt,kt]=r.useState("age"),[Ct,Nt]=r.useState(0),[St,It]=r.useState(100),[qe,$t]=r.useState([]),[Na,Ze]=r.useState([]),[Qe,Sa]=r.useState("style"),[Ie,Ia]=r.useState("korean webtoon"),[De,$a]=r.useState(1),[Lt,de]=r.useState(0),[La,et]=r.useState(!1),[Me,$e]=r.useState([]),[ze,Aa]=r.useState("all"),[Ta,tt]=r.useState(!1),[J,Ke]=r.useState(null),[W,he]=r.useState(""),[V,N]=r.useState(!1),[se,me]=r.useState([]),[z,Le]=r.useState({style:!0,expression:!0,pose:!1,background:!1}),[at,E]=r.useState(null),[Q,At]=r.useState(!1),[ge,ee]=r.useState([]),[Ue,Be]=r.useState(null),Tt=r.useCallback(e=>{we(e),(e==="2K"||e==="4K")&&(Ve.includes(f)||$("gemini-3-pro-image-preview"))},[f]),[Rt,Pt]=r.useState({cat:"basic",values:{},negTags:["low quality","blurry","bad anatomy","extra limbs","bad hands","multiple characters"],refImgs:[]}),[Et,Ot]=r.useState({cat:"style",values:{},negTags:["low quality","blurry","watermark","text"],refImgs:[]}),[K,A]=r.useState([]),[ue,st]=r.useState(()=>{const e=localStorage.getItem("ai-studio-custom-presets");return e?JSON.parse(e):[]}),[pe,nt]=r.useState(""),[qt,fe]=r.useState(!1),[U,lt]=r.useState(0),[F,rt]=r.useState(70),[G,it]=r.useState(50),[Dt,Ae]=r.useState(()=>{const e=localStorage.getItem("ai-studio-color-palette"),a=e?JSON.parse(e):[],s=new Array(40).fill(null);return a.forEach((n,i)=>{i<40&&(s[i]=n)}),s}),[ie,Te]=r.useState(null),p=u==="char"?Rt:Et,C=u==="char"?Pt:Ot,ye=u==="char"?ga:ua,Mt=u==="char"?pa:fa,zt=r.useCallback(e=>{C(a=>({...a,cat:e}))},[C]),Kt=r.useCallback((e,a,s)=>{C(n=>{if(s){const i=n.negTags.includes(a)?n.negTags.filter(o=>o!==a):[...n.negTags,a];return{...n,negTags:i}}else{const i=n.values[e];let o;return Array.isArray(i)?o=i.includes(a)?i.filter(j=>j!==a):[...i,a]:o=[a],{...n,values:{...n.values,[e]:o.length>0?o:void 0}}}})},[C]),ot=r.useCallback((e,a)=>{C(s=>({...s,values:{...s.values,[e]:a}}))},[C]);r.useCallback((e,a,s)=>{C(n=>{const i=n.values[e]||{h:30,l:50};return{...n,values:{...n.values,[e]:{...i,[a]:s}}}})},[C]);const ct=r.useCallback(e=>{C(a=>({...a,values:{...a.values,[e]:{h:U,s:F,l:G}}})),Ae(a=>{if(a.some(i=>i&&i.h===U&&i.s===F&&i.l===G))return a;const n=[{h:U,s:F,l:G},...a].slice(0,40);return localStorage.setItem("ai-studio-color-palette",JSON.stringify(n)),n})},[U,F,G,C]),Ut=r.useCallback((e,a)=>{C(s=>{if(a)return{...s,negTags:[]};const n={...s.values};return delete n[e],delete n[e+"Color"],delete n[e+"Str"],{...s,values:n}})},[C]),dt=r.useCallback(e=>{C(a=>({...a,values:{...e.data}}))},[C]),Bt=r.useCallback(()=>{C(e=>({...e,values:{}}))},[C]),ht=r.useCallback(()=>{if(!pe.trim()){alert("í”„ë¦¬ì…‹ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”");return}const e={name:pe.trim(),icon:u==="char"?"ğŸ‘¤":"ğŸ™ï¸",data:{...p.values}},a=[...ue,e];st(a),localStorage.setItem("ai-studio-custom-presets",JSON.stringify(a)),nt(""),fe(!1),alert(`"${pe}" í”„ë¦¬ì…‹ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤`)},[pe,u,p.values,ue]),_t=r.useCallback(e=>{if(!confirm("ì´ í”„ë¦¬ì…‹ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))return;const a=ue.filter((s,n)=>n!==e);st(a),localStorage.setItem("ai-studio-custom-presets",JSON.stringify(a))},[ue]),_e=r.useCallback(async e=>{const a=[];for(const s of Array.from(e)){if(p.refImgs.length+a.length>=14)break;const n=URL.createObjectURL(s),i=await te(s);a.push({url:n,b64:i,type:"style",strength:.8})}C(s=>({...s,refImgs:[...s.refImgs,...a]}))},[p.refImgs.length,C]),Ft=r.useCallback(e=>{C(a=>({...a,refImgs:a.refImgs.filter((s,n)=>n!==e)}))},[C]),Gt=r.useCallback((e,a)=>{C(s=>({...s,refImgs:s.refImgs.map((n,i)=>i===e?{...n,type:a}:n)}))},[C]);r.useCallback((e,a)=>{C(s=>({...s,refImgs:s.refImgs.map((n,i)=>i===e?{...n,strength:a}:n)}))},[C]);const q=r.useMemo(()=>{const e=[];Object.values(ye).forEach(s=>{Object.entries(s.items).forEach(([n,i])=>{if("isNeg"in i&&i.isNeg)return;const o=p.values[n];if(o==null||o===""||Array.isArray(o)&&o.length===0)return;let j="";if("type"in i&&i.type){const v=i;if(v.type==="hue"||v.type==="skin"){const O=o;j=v.prompt(O.h,O.s??70,O.l)}else j=v.prompt(o)}else if("tags"in i){const v=i,B=(Array.isArray(o)?o:[o]).filter(m=>m&&m!=="none"&&!m.startsWith("no ")&&!m.startsWith("empty"));if(B.length===0)return;if(v.hasColor&&p.values[n+"Color"]){const m=p.values[n+"Color"];j=B.map(H=>le(m.h,m.s??70,m.l)+" colored "+H).join(", ")}else j=B.join(", ")}if(j){const v=p.values[n+"Str"]??1;e.push(v!==1?`(${j}:${v})`:j)}})});let a=e.join(", ");return u==="char"&&(a=`A single character, full body, pure white background, ${a}. Only ONE character.`),a},[ye,p.values,u]),Re=r.useMemo(()=>p.negTags.join(", "),[p.negTags]);r.useMemo(()=>ze==="all"?d:d.filter(e=>e.category===ze),[d,ze]);const Ht=r.useCallback(async(e,a)=>{let s;if(p.refImgs.length>0){const n=p.refImgs.map(i=>i.b64);s=await D(h,n[0],e,f,"image/png",n.slice(1),{imageSize:T,aspectRatio:L})}else s=await gt(h,e,f,{imageSize:T,aspectRatio:L});if(Q){E(`ì´ë¯¸ì§€ ${a+1} íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...`);const n=await xe(h,s.base64,f,o=>E(`ì´ë¯¸ì§€ ${a+1}: ${o}`)),i=n.split(",")[1];return{url:n,b64:i,prompt:`[íˆ¬ëª…ë°°ê²½] ${e}`}}return{url:s.url,b64:s.base64,prompt:e}},[h,p.refImgs,f,T,L,Q]),Jt=r.useCallback(()=>{Ue&&Ue.abort(),ee([]),_(!1),E(null),Be(null)},[Ue]),Vt=r.useCallback(e=>{ee(a=>a.map(s=>s.id===e?{...s,status:"cancelled"}:s))},[]),Wt=r.useCallback(async()=>{if(!h){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}if(Q&&!window.confirm(`âš ï¸ íˆ¬ëª…ë°°ê²½ ìƒì„± ì•ˆë‚´

â€¢ í°ë°°ê²½ ì´ë¯¸ì§€ ìƒì„± í›„ ê²€ì •ë°°ê²½ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì•ŒíŒŒ ì±„ë„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
â€¢ ì¼ë°˜ ìƒì„±ë³´ë‹¤ 2ë°°ì˜ API í˜¸ì¶œì´ í•„ìš”í•©ë‹ˆë‹¤.
â€¢ ì²˜ë¦¬ ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.

ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))return;_(!0);const e=new AbortController;Be(e);const a=Array.from({length:ae},(s,n)=>({id:`gen-${Date.now()}-${n}`,index:n,status:"generating"}));ee(a);try{let s=q;if(p.refImgs.length>0){const m=He(p.refImgs);s+=`

`+m}p.negTags.length>0&&(s+=`

Avoid: ${Re}`);const n=(m,H,R)=>{ee(Y=>Y.map(X=>X.id===m?{...X,progress:H,...R?{status:R}:{}}:X))},i=async m=>{const H=ge.find(R=>R.id===m.id);if((H==null?void 0:H.status)==="cancelled")return{slotId:m.id,result:null,failed:!1};try{n(m.id,"API í˜¸ì¶œ ì¤‘...");let R;if(p.refImgs.length>0){n(m.id,"ì°¸ì¡° ì´ë¯¸ì§€ ì²˜ë¦¬ ì¤‘...");const Y=p.refImgs.map(X=>X.b64);R=await D(h,Y[0],s,f,"image/png",Y.slice(1),{imageSize:T,aspectRatio:L})}else n(m.id,"ì´ë¯¸ì§€ ìƒì„± ì¤‘..."),R=await gt(h,s,f,{imageSize:T,aspectRatio:L});if(n(m.id,"ì´ë¯¸ì§€ ìˆ˜ì‹  ì™„ë£Œ"),Q){n(m.id,"íˆ¬ëª…í™” ì¤€ë¹„...","transparent");const Y=await xe(h,R.base64,f,be=>n(m.id,be,"transparent")),X=Y.split(",")[1];return{slotId:m.id,result:{url:Y,b64:X,prompt:`[íˆ¬ëª…ë°°ê²½] ${s}`},failed:!1}}return{slotId:m.id,result:{url:R.url,b64:R.base64,prompt:s},failed:!1}}catch(R){const Y=R instanceof Error?R.message:"ìƒì„± ì‹¤íŒ¨";return ee(X=>X.map(be=>be.id===m.id?{...be,status:"failed",error:Y,progress:"ì‹¤íŒ¨"}:be)),{slotId:m.id,result:null,failed:!0}}},o=a.map(m=>i(m)),j=await Promise.all(o),v=j.filter(m=>m.result!==null&&!m.failed).map(m=>m.result).reverse(),O=j.filter(m=>m.result!==null&&!m.failed).map(m=>m.slotId);ee(m=>m.filter(H=>!O.includes(H.id))),v.length>0&&(A(m=>[...v,...m]),v.forEach(m=>{l==null||l(m.url,m.prompt||""),g({url:m.url,prompt:m.prompt,category:u==="char"?"character":"background",source:"whiteboard"})}));const B=j.filter(m=>m.failed).length;B>0&&console.log(`${B}ê°œ ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨`)}catch(s){s instanceof Error&&s.name==="AbortError"?console.log("ìƒì„±ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤"):(console.error("ìƒì„± ì˜¤ë¥˜:",s),alert(s instanceof Error?s.message:"ìƒì„± ì‹¤íŒ¨"))}finally{_(!1),E(null),ee(s=>s.filter(n=>n.status==="failed")),Be(null)}},[h,ae,q,p.refImgs,p.negTags,Re,Ht,Q,l,ge]),Yt=r.useCallback((e,a)=>{const s=document.createElement("a");s.href=e.url,s.download=`image_${Date.now()}_${a}.png`,s.click()},[]),Xt=r.useCallback(()=>{confirm("ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&A([])},[]),Zt=r.useCallback((e,a)=>{if(a.ctrlKey||a.metaKey)S(s=>{if(s.includes(e)){const n=s.filter(i=>i!==e);return k===e&&I(n.length>0?n[0]:-1),n}else return[...s,e].sort((n,i)=>n-i)});else if(a.shiftKey&&x.length>0){const s=x[x.length-1],n=Math.min(s,e),i=Math.max(s,e),o=Array.from({length:i-n+1},(j,v)=>n+v);S(j=>[...new Set([...j,...o])].sort((v,O)=>v-O)),I(e)}else S([e]),I(e)},[x,k]),Pe=r.useCallback(()=>{S([]),I(-1)},[]),mt=r.useCallback(()=>{S(K.map((e,a)=>a)),I(0)},[K]),Qt=r.useCallback(()=>{if(x.length===0)return;const e=x.indexOf(k);e>0&&I(x[e-1])},[x,k]),ea=r.useCallback(()=>{if(x.length===0)return;const e=x.indexOf(k);e<x.length-1&&I(x[e+1])},[x,k]),Ee=k>=0?K[k]:null,b=x.map(e=>K[e]).filter(Boolean),Fe=r.useCallback(()=>{x.length!==0&&confirm(`ì„ íƒí•œ ${x.length}ê°œ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)&&(A(e=>e.filter((a,s)=>!x.includes(s))),S([]),I(-1))},[x]),Ge=r.useCallback(e=>{if(!(e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement)&&K.length!==0)if(e.key==="ArrowLeft"){e.preventDefault();const a=k>=0?k:0,s=a>0?a-1:K.length-1;S([s]),I(s)}else if(e.key==="ArrowRight"){e.preventDefault();const a=k>=0?k:-1,s=a<K.length-1?a+1:0;S([s]),I(s)}else e.key==="Escape"?Pe():e.key==="a"&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),mt()):e.key==="Delete"&&x.length>0&&Fe()},[x,k,K,Pe,mt,Fe]);r.useEffect(()=>(window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)),[Ge]);const ta=r.useCallback(e=>{confirm("ì´ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&(A(a=>a.filter((s,n)=>n!==e)),S(a=>a.filter(s=>s!==e).map(s=>s>e?s-1:s)),k===e?I(-1):k>e&&I(a=>a-1))},[k]),aa=r.useCallback(e=>{e.preventDefault(),Ye(!0);const a=e.clientY,s=je,n=o=>{const j=a-o.clientY,v=Math.min(Math.max(s+j,200),800);yt(v)},i=()=>{Ye(!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",i)},[je]),sa=r.useCallback(async e=>{const a=e.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o,prompt:`[ì—…ë¡œë“œ] ${n.name}`})}A(n=>[...s,...n]),e.target.value=""},[]),na=r.useCallback(async e=>{e.preventDefault(),Oe(!1);const a=e.dataTransfer.files;if(!a.length)return;const s=[];for(const n of Array.from(a)){if(!n.type.startsWith("image/"))continue;const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o,prompt:`[ì—…ë¡œë“œ] ${n.name}`})}s.length>0&&A(n=>[...s,...n])},[]),la=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),Oe(!0)},[]),ra=r.useCallback(e=>{e.preventDefault(),e.stopPropagation();const a=e.currentTarget.getBoundingClientRect(),s=e.clientX,n=e.clientY;s>=a.left&&s<=a.right&&n>=a.top&&n<=a.bottom||Oe(!1)},[]);r.useCallback(async e=>{const a=e.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o})}$t(n=>[...n,...s]),e.target.value=""},[]),r.useCallback(async e=>{const a=[];for(const s of Array.from(e)){if(Me.length+a.length>=14)break;const n=URL.createObjectURL(s),i=await te(s);a.push({url:n,b64:i,type:"style",strength:.8})}$e(s=>[...s,...a])},[Me.length]),r.useCallback(e=>{$e(a=>a.filter((s,n)=>n!==e))},[]),r.useCallback((e,a)=>{$e(s=>s.map((n,i)=>i===e?{...n,type:a}:n))},[]),r.useCallback((e,a)=>{$e(s=>s.map((n,i)=>i===e?{...n,strength:a}:n))},[]),r.useCallback(async()=>{if(!h||qe.length===0){alert("API í‚¤ì™€ ë³€í™˜í•  ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•˜ì„¸ìš”");return}et(!0),de(0),Ze([]);const e={style:`Convert this image to ${Ie} art style. Keep the composition and subject the same.`,full:`Completely redraw this image in ${Ie} style. Reimagine all elements.`,color:`Adjust the color palette of this image to match ${Ie} aesthetic. Keep everything else the same.`,pose:"Change the pose of the character in this image to a different pose. Keep the same character, style, and background. Use reference images for the new pose if provided.",angle:"Change the camera angle/view of this image. Keep the same subject and style but show it from a different perspective. Use reference images if provided.",expression:"Change the facial expression of the character in this image. Keep everything else the same - same pose, clothes, background.",lineart:"Extract clean line art from this image. Black lines on white background, no colors.",sketch:"Convert this image to a pencil sketch style. Grayscale, hand-drawn look.",enhance:"Enhance this image with better quality, sharper details, and improved lighting.",upscale:"Upscale and enhance this image while preserving all details.",removebg:"Remove the background and make it pure white. Keep the main subject intact.",nightify:"Convert this daytime scene to a nighttime scene. Add moonlight and stars.",dayify:"Convert this nighttime scene to a daytime scene. Add sunlight and blue sky."};let a=e[Qe]||e.style;if(p.refImgs.length>0){const o=He(p.refImgs);a+=`

`+o}const s=[];qe.forEach((o,j)=>{for(let v=0;v<De;v++)s.push({input:o,idx:j*De+v})});const n=s.length;let i=0;try{const o=s.map(async({input:v})=>{const O=p.refImgs.map(m=>m.b64),B=await D(h,v.b64,a,f,"image/png",O.length>0?O:void 0,{imageSize:T,aspectRatio:L});return i++,de(i/n*100),{url:B.url,b64:B.base64,prompt:a}}),j=await Promise.all(o);Ze(j),j.forEach(v=>{g({url:v.url,prompt:v.prompt,category:"batch",source:"whiteboard"})})}catch(o){console.error("ë°°ì¹˜ ì˜¤ë¥˜:",o),alert(o instanceof Error?o.message:"ë°°ì¹˜ ì²˜ë¦¬ ì‹¤íŒ¨")}finally{et(!1)}},[h,qe,De,Qe,Ie,Me,f,T,L,g]),r.useCallback(e=>{Ke(e),he(""),tt(!0)},[]),r.useCallback(async()=>{if(!h||!J||!W.trim()){alert("API í‚¤ì™€ í¸ì§‘ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}N(!0);try{const e=await D(h,J.b64,W,f,"image/png",void 0,{imageSize:T,aspectRatio:L});Ke({url:e.url,b64:e.base64,prompt:W})}catch(e){console.error("í¸ì§‘ ì˜¤ë¥˜:",e),alert(e instanceof Error?e.message:"í¸ì§‘ ì‹¤íŒ¨")}finally{N(!1)}},[h,J,W,f,T,L]),r.useCallback(()=>{J&&(A(e=>[J,...e]),tt(!1))},[J]),r.useCallback(async(e,a)=>{if(!h){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}E(`ì´ë¯¸ì§€ ${a+1} íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...`);try{const s=await xe(h,e.b64,f,o=>E(`ì´ë¯¸ì§€ ${a+1}: ${o}`)),n=s.split(",")[1],i={url:s,b64:n,prompt:`[íˆ¬ëª…ë°°ê²½] ${e.prompt||""}`};A(o=>[i,...o]),l==null||l(s,i.prompt||"")}catch(s){console.error("íˆ¬ëª…í™” ì˜¤ë¥˜:",s),alert(s instanceof Error?s.message:"íˆ¬ëª…í™” ì‹¤íŒ¨")}finally{E(null)}},[h,f,l]),r.useCallback(async()=>{if(!h||!J){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}N(!0),E("íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...");try{const e=await xe(h,J.b64,f,s=>E(s)),a=e.split(",")[1];Ke({url:e,b64:a,prompt:`[íˆ¬ëª…ë°°ê²½] ${J.prompt||""}`})}catch(e){console.error("íˆ¬ëª…í™” ì˜¤ë¥˜:",e),alert(e instanceof Error?e.message:"íˆ¬ëª…í™” ì‹¤íŒ¨")}finally{N(!1),E(null)}},[h,J,f]);const ia=(e,a)=>{if(!a||Array.isArray(a)&&a.length===0)return"";if("type"in e&&e.type==="slider")return`${a}${e.unit||""}`;if("type"in e&&(e.type==="hue"||e.type==="skin")){const s=a;return ma(s.h,s.l)}if("tags"in e){const s=e,n=Array.isArray(a)?a:[a],i=n.slice(0,2).map(o=>{var j;return((j=s.tags.find(v=>v[0]===o))==null?void 0:j[1])||o}).join(", ");return n.length>2?i+"...":i}return String(a)},oa=e=>{const a=ye[e];return Object.keys(a.items).some(s=>{const n=p.values[s];return n!=null&&n!==""&&!(Array.isArray(n)&&n.length===0)})};return t.jsxs("div",{className:"ai-studio",children:[t.jsxs("header",{className:"studio-header",children:[t.jsx("button",{className:"nav-btn back-btn",onClick:()=>c("/workspace"),children:"â† ì›Œí¬ìŠ¤í˜ì´ìŠ¤"}),t.jsx("div",{className:"logo",children:"ğŸ¨ AI ìŠ¤íŠœë””ì˜¤"}),t.jsxs("div",{className:"header-controls",children:[t.jsx("input",{type:"password",className:"inp api-input",value:h,onChange:e=>M(e.target.value),placeholder:"ğŸ”‘ API Key"}),t.jsx("select",{className:"sel model-select",value:f,onChange:e=>$(e.target.value),title:"AI ëª¨ë¸",children:ve.map(e=>t.jsx("option",{value:e.id,title:`${e.desc} | ${e.price}`,children:e.name},e.id))}),t.jsx("select",{className:"sel",value:T,onChange:e=>Tt(e.target.value),title:"í•´ìƒë„",children:ya.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{className:"sel",value:L,onChange:e=>Z(e.target.value),title:"ë¹„ìœ¨",children:ba.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{className:"sel",value:ae,onChange:e=>re(Number(e.target.value)),title:"ìƒì„± ê°œìˆ˜",children:[1,2,3,4,6,8,10].map(e=>t.jsxs("option",{value:e,children:[e,"ì¥"]},e))}),t.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>ce(!0),title:"ì—¬ëŸ¬ì¥ ìƒì„± ì˜µì…˜",children:["âš™ï¸ ",P==="same"?"ë™ì¼":P==="random"?"ëœë¤":P==="sequence"?"ìˆœì°¨":"ë³´ê°„"]}),t.jsxs("label",{className:"transparent-toggle",title:"íˆ¬ëª…ë°°ê²½ìœ¼ë¡œ ìƒì„±",children:[t.jsx("input",{type:"checkbox",checked:Q,onChange:e=>At(e.target.checked)}),t.jsx("span",{children:"ğŸ”®"})]})]})]}),t.jsxs("div",{className:"studio-main",children:[t.jsxs("div",{className:"left-panel",children:[t.jsxs("div",{className:"page-tabs",children:[t.jsx("button",{className:`page-tab ${u==="char"?"active":""}`,onClick:()=>w("char"),children:"ğŸ‘¤ ìºë¦­í„°"}),t.jsx("button",{className:`page-tab ${u==="bg"?"active":""}`,onClick:()=>w("bg"),children:"ğŸ™ï¸ ë°°ê²½"})]}),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"left-panel-actions",children:t.jsx("button",{className:"btn-reset",onClick:Bt,title:"ëª¨ë“  ì„¤ì • ì´ˆê¸°í™”",children:"ğŸ”„ ì´ˆê¸°í™”"})}),t.jsx("div",{className:"cat-bar",children:Object.entries(ye).map(([e,a])=>t.jsxs("button",{className:`cat-btn ${p.cat===e?"active":""} ${oa(e)?"has-val":""}`,onClick:()=>zt(e),children:[t.jsx("span",{className:"dot"}),a.icon," ",a.name]},e))}),t.jsx("div",{className:"settings",children:ca()}),t.jsxs("div",{className:"panel-section preset-section-left",children:[t.jsxs("div",{className:"panel-title",children:[t.jsx("span",{children:"ğŸ“š"})," í”„ë¦¬ì…‹",t.jsx("button",{className:"btn-add-preset-sm",onClick:()=>fe(!0),children:"+ ì €ì¥"})]}),t.jsxs("div",{className:"preset-grid-left",children:[ue.map((e,a)=>t.jsxs("div",{className:"preset-chip custom",onClick:()=>dt(e),children:[t.jsx("span",{children:e.name}),t.jsx("button",{className:"preset-del",onClick:s=>{s.stopPropagation(),_t(a)},children:"Ã—"})]},`c-${a}`)),Mt.map((e,a)=>t.jsx("div",{className:"preset-chip",onClick:()=>dt(e),children:e.name},a))]})]}),t.jsxs("div",{className:"panel-section color-picker-section",children:[t.jsxs("div",{className:"panel-title",children:[t.jsx("span",{children:"ğŸ¨"})," ìƒ‰ìƒ ì„ íƒ"]}),t.jsx("div",{className:"color-preview-box",style:{background:ne(U,F,G)},children:t.jsx("span",{className:"color-hex-label",children:ne(U,F,G)})}),t.jsxs("div",{className:"color-slider-row",children:[t.jsx("span",{className:"color-slider-label",children:"ìƒ‰ìƒ"}),t.jsx("div",{className:"color-slider-track hue-track",children:t.jsx("input",{type:"range",min:0,max:360,value:U,onChange:e=>lt(Number(e.target.value))})}),t.jsxs("span",{className:"color-slider-value",children:[U,"Â°"]})]}),t.jsxs("div",{className:"color-slider-row",children:[t.jsx("span",{className:"color-slider-label",children:"ì±„ë„"}),t.jsx("div",{className:"color-slider-track sat-track",style:{"--hue":U,"--light":G},children:t.jsx("input",{type:"range",min:0,max:100,value:F,onChange:e=>rt(Number(e.target.value))})}),t.jsxs("span",{className:"color-slider-value",children:[F,"%"]})]}),t.jsxs("div",{className:"color-slider-row",children:[t.jsx("span",{className:"color-slider-label",children:"ëª…ë„"}),t.jsx("div",{className:"color-slider-track light-track",style:{"--hue":U,"--sat":F},children:t.jsx("input",{type:"range",min:5,max:95,value:G,onChange:e=>it(Number(e.target.value))})}),t.jsxs("span",{className:"color-slider-value",children:[G,"%"]})]}),t.jsxs("div",{className:"mini-palette",children:[t.jsxs("div",{className:"mini-palette-header",children:[t.jsx("span",{className:"mini-palette-label",children:"íŒ”ë ˆíŠ¸"}),t.jsx("button",{className:`btn-bucket ${ie!==null?"active":""}`,onClick:()=>{ie!==null&&(Ae(e=>{const a=[...e];return a[ie]={h:U,s:F,l:G},localStorage.setItem("ai-studio-color-palette",JSON.stringify(a)),a}),Te(null))},disabled:ie===null,title:"ì„ íƒëœ ì¹¸ì— í˜„ì¬ ìƒ‰ìƒ ì±„ìš°ê¸°",children:"ğŸª£"}),t.jsx("button",{className:"btn-clear-palette",onClick:()=>{Ae(new Array(40).fill(null)),localStorage.setItem("ai-studio-color-palette",JSON.stringify(new Array(40).fill(null))),Te(null)},title:"íŒ”ë ˆíŠ¸ ì´ˆê¸°í™”",children:"âœ•"})]}),t.jsx("div",{className:"mini-palette-grid-40",children:Dt.map((e,a)=>t.jsx("button",{className:`mini-palette-slot ${e?"filled":"empty"} ${ie===a?"slot-selected":""} ${e&&U===e.h&&F===e.s&&G===e.l?"color-active":""}`,style:e?{background:ne(e.h,e.s,e.l)}:void 0,onClick:()=>{e?(lt(e.h),rt(e.s),it(e.l),Te(null)):Te(ie===a?null:a)},onContextMenu:s=>{s.preventDefault(),Ae(n=>{const i=[...n];return i[a]=null,localStorage.setItem("ai-studio-color-palette",JSON.stringify(i)),i})},title:e?`H:${e.h} S:${e.s} L:${e.l} (ìš°í´ë¦­: ì‚­ì œ)`:"í´ë¦­í•˜ì—¬ ì„ íƒ í›„ ğŸª£ ë²„í‚·ìœ¼ë¡œ ì±„ìš°ê¸°"},a))})]})]})]})]}),t.jsxs("div",{className:"center-panel",children:[t.jsxs("div",{className:`lib-area ${Xe?"drag-over":""}`,onDrop:na,onDragOver:la,onDragLeave:ra,children:[Xe&&t.jsx("div",{className:"drop-overlay",children:t.jsx("div",{className:"drop-message",children:"ğŸ“¥ ì´ë¯¸ì§€ë¥¼ ì—¬ê¸°ì— ë†“ìœ¼ì„¸ìš”"})}),t.jsxs("div",{className:"lib-header-inline",children:[t.jsx("span",{className:"title",children:"ğŸ“¸ ë¼ì´ë¸ŒëŸ¬ë¦¬"}),t.jsx("span",{className:"count",children:K.length}),at&&t.jsxs("span",{className:"progress-text",children:["â³ ",at]}),t.jsx("div",{className:"spacer"}),t.jsx("button",{className:"btn-icon",onClick:()=>{var e;return(e=document.getElementById("lib-upload"))==null?void 0:e.click()},title:"ì—…ë¡œë“œ",children:"ğŸ“¤"}),t.jsx("input",{type:"file",id:"lib-upload",accept:"image/*",multiple:!0,hidden:!0,onChange:sa}),t.jsx("button",{className:"btn-icon danger",onClick:Xt,title:"ì „ì²´ì‚­ì œ",children:"ğŸ—‘ï¸"})]}),t.jsxs("div",{className:"lib-grid large",children:[ge.map(e=>t.jsxs("div",{className:`lib-card generating ${e.status}`,children:[t.jsx("div",{className:"generating-content",children:e.status==="failed"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"failed-icon",children:"âŒ"}),t.jsx("span",{className:"generating-text failed-text",children:"ìƒì„± ì‹¤íŒ¨"}),t.jsx("span",{className:"failed-error",children:e.error||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner"}),t.jsx("span",{className:"generating-text",children:e.progress||(e.status==="transparent"?"íˆ¬ëª…í™” ì¤‘...":e.status==="cancelled"?"ì·¨ì†Œë¨":"ìƒì„± ì¤‘...")}),t.jsxs("span",{className:"generating-index",children:["#",e.index+1]}),e.status==="transparent"&&t.jsx("span",{className:"generating-status-badge",children:"ğŸ”® íˆ¬ëª…í™”"})]})}),t.jsx("div",{className:"actions",children:e.status==="failed"?t.jsx("button",{onClick:()=>ee(a=>a.filter(s=>s.id!==e.id)),title:"ë‹«ê¸°",children:"âœ–ï¸"}):t.jsx("button",{onClick:()=>Vt(e.id),title:"ì´ ì´ë¯¸ì§€ ì·¨ì†Œ",disabled:e.status==="cancelled",children:"â¹ï¸"})})]},e.id)),K.length===0&&ge.length===0?t.jsx("div",{className:"empty-lib",children:"ğŸ¨ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤"}):K.map((e,a)=>t.jsxs("div",{className:`lib-card clickable ${x.includes(a)?"selected":""} ${k===a?"previewing":""}`,onClick:s=>Zt(a,s),children:[t.jsx("img",{src:e.url,alt:`Generated ${a}`}),x.includes(a)&&x.length>1&&t.jsx("div",{className:"selection-badge",children:x.indexOf(a)+1})]},a))]})]}),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`preview-resize-handle ${bt?"resizing":""}`,onMouseDown:aa,title:"ë“œë˜ê·¸í•˜ì—¬ í¬ê¸° ì¡°ì ˆ",children:t.jsx("div",{className:"resize-bar"})}),t.jsx("div",{className:"preview-panel-large",style:{height:je},children:t.jsx("div",{className:"preview-viewer",children:Ee?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"preview-nav-lg prev",onClick:Qt,disabled:x.indexOf(k)<=0,title:"ì´ì „ ì´ë¯¸ì§€ (â†)",children:"â€¹"}),t.jsx("div",{className:"preview-image-lg-container",children:t.jsx("img",{src:Ee.url,alt:"Preview",className:"preview-image-lg",style:{maxHeight:je-70}})}),t.jsx("button",{className:"preview-nav-lg next",onClick:ea,disabled:x.indexOf(k)>=x.length-1,title:"ë‹¤ìŒ ì´ë¯¸ì§€ (â†’)",children:"â€º"}),t.jsxs("div",{className:"preview-info-bar",children:[t.jsx("span",{className:"preview-counter-lg",children:x.length>1?`${x.indexOf(k)+1}/${x.length} ì„ íƒë¨`:`${k+1} / ${K.length}`}),t.jsxs("div",{className:"preview-quick-actions",children:[t.jsx("button",{onClick:()=>Ee&&Yt(Ee,k),title:"PNGë¡œ ì €ì¥",children:"ğŸ’¾"}),x.length>1?t.jsxs("button",{onClick:Fe,title:`ì„ íƒí•œ ${x.length}ê°œ ì‚­ì œ`,className:"danger",children:["ğŸ—‘ï¸ ",x.length]}):t.jsx("button",{onClick:()=>ta(k),title:"ì‚­ì œ",className:"danger",children:"ğŸ—‘ï¸"}),t.jsx("button",{onClick:Pe,title:"ì„ íƒ í•´ì œ",children:"âœ•"})]})]})]}):t.jsxs("div",{className:"preview-empty",children:[t.jsx("div",{className:"preview-empty-icon",children:"ğŸ–¼ï¸"}),t.jsx("div",{className:"preview-empty-text",children:"ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”"}),t.jsx("div",{className:"preview-empty-hint",children:"Ctrl+í´ë¦­ìœ¼ë¡œ ì—¬ëŸ¬ ì´ë¯¸ì§€ ì„ íƒ, Shift+í´ë¦­ìœ¼ë¡œ ë²”ìœ„ ì„ íƒ"})]})})})]})]}),t.jsxs("div",{className:"right-panel",children:[t.jsxs("div",{className:"right-panel-tabs",children:[t.jsx("button",{className:`tab-btn ${ke==="generate"?"active":""}`,onClick:()=>We("generate"),children:"ğŸ¨ ìƒì„±"}),t.jsxs("button",{className:`tab-btn ${ke==="edit"?"active":""}`,onClick:()=>We("edit"),children:["âœï¸ í¸ì§‘ ",b.length>0&&`(${b.length})`]})]}),ke==="generate"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"preview-edit-section prompt-section",children:[t.jsxs("div",{className:"preview-edit-title",children:[t.jsx("span",{children:"âœ¨ í˜„ì¬ í”„ë¡¬í”„íŠ¸"}),t.jsx("div",{className:"prompt-actions-inline",children:t.jsx("button",{className:"btn-mini",onClick:()=>navigator.clipboard.writeText(q),title:"ë³µì‚¬",children:"ğŸ“‹"})})]}),t.jsx("div",{className:"prompt-preview-box",children:q?q.slice(0,150)+(q.length>150?"...":""):"(ì¢Œì¸¡ì—ì„œ íƒœê·¸ë¥¼ ì„ íƒí•˜ì„¸ìš”)"}),Re&&t.jsxs("div",{className:"prompt-neg-preview",children:[t.jsx("span",{className:"neg-label",children:"ì œì™¸:"})," ",Re.slice(0,40),"..."]})]}),t.jsxs("div",{className:`preview-edit-section ref-section ref-dropzone ${p.refImgs.length===0?"empty":""}`,onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over")},onDrop:async e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over");const a=e.dataTransfer.files;a.length>0&&_e(a)},children:[t.jsx("div",{className:"preview-edit-title",children:t.jsxs("span",{children:["ğŸ“ ì°¸ì¡° ì´ë¯¸ì§€ ",p.refImgs.length>0&&`(${p.refImgs.length}/14)`]})}),p.refImgs.length>0?t.jsxs("div",{className:"ref-list-with-roles",children:[p.refImgs.map((e,a)=>t.jsxs("div",{className:"ref-item-with-role",children:[t.jsxs("div",{className:"ref-item-thumb",children:[t.jsx("img",{src:e.url,alt:`Ref ${a}`}),t.jsx("button",{className:"ref-del-btn",onClick:()=>Ft(a),children:"Ã—"})]}),t.jsx("select",{className:"ref-role-select",value:e.type,onChange:s=>Gt(a,s.target.value),children:Je.map(s=>t.jsxs("option",{value:s.id,children:[s.icon," ",s.name]},s.id))})]},a)),t.jsxs("label",{className:"ref-add-btn-large",children:[t.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:e=>{e.target.files&&_e(e.target.files),e.target.value=""}}),t.jsx("span",{children:"+ ì¶”ê°€"})]})]}):t.jsxs("label",{className:"ref-empty-drop",children:[t.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:e=>{e.target.files&&_e(e.target.files),e.target.value=""}}),t.jsx("div",{className:"ref-drop-icon",children:"ğŸ“¥"}),t.jsx("div",{className:"ref-drop-text",children:"ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­"}),t.jsx("div",{className:"ref-drop-hint",children:"ê° ì´ë¯¸ì§€ë³„ë¡œ ì—­í•  ì§€ì • ê°€ëŠ¥"})]})]}),t.jsx("div",{className:"preview-edit-section action-section",children:oe?t.jsxs("button",{className:"btn-action cancel full-width",onClick:Jt,children:["â¹ï¸ ìƒì„± ì·¨ì†Œ (",ge.length,")"]}):t.jsx("button",{className:`btn-action generate full-width ${Q?"transparent-mode":""}`,onClick:Wt,disabled:!h,children:Q?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon-glow",children:"ğŸ”®"}),t.jsx("span",{children:"íˆ¬ëª…ë°°ê²½ ìƒì„±"}),t.jsx("span",{className:"btn-badge",children:"2x API"})]}):t.jsx(t.Fragment,{children:"ğŸ¨ ì´ë¯¸ì§€ ìƒì„±"})})})]}),ke==="edit"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"preview-edit-section compact",children:[t.jsxs("div",{className:"preview-edit-title",children:[t.jsxs("span",{children:["ğŸ–¼ï¸ í¸ì§‘ ëŒ€ìƒ ",b.length>0&&`(${b.length})`]}),b.length>0&&t.jsx("button",{className:"btn-mini",onClick:Pe,title:"ì„ íƒ í•´ì œ",children:"âœ•"})]}),b.length>0?t.jsx("div",{className:"edit-target-grid",children:b.map((e,a)=>t.jsx("div",{className:"edit-target-thumb",children:t.jsx("img",{src:e.url,alt:`Target ${a}`})},a))}):t.jsxs("div",{className:"edit-empty-hint",children:["ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ",t.jsx("br",{}),t.jsx("small",{children:"Ctrl+í´ë¦­ìœ¼ë¡œ ë‹¤ì¤‘ ì„ íƒ / ë°©í–¥í‚¤ë¡œ ì´ë™"})]})]}),t.jsxs("div",{className:"preview-edit-section prompt-section",children:[t.jsxs("div",{className:"preview-edit-title",children:[t.jsx("span",{children:"âœï¸ í¸ì§‘ ë‚´ìš©"}),t.jsx("button",{className:"btn-mini",onClick:()=>he(""),title:"ì§€ìš°ê¸°",children:"ğŸ—‘ï¸"})]}),t.jsx("textarea",{className:"preview-edit-prompt",value:W,onChange:e=>he(e.target.value),placeholder:`í¸ì§‘í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...
ì˜ˆ: í‘œì •ì„ ì›ƒëŠ” ì–¼êµ´ë¡œ ë³€ê²½
ì˜ˆ: ë°°ê²½ì„ ë°”ë‹¤ë¡œ ë³€ê²½
ì˜ˆ: ì†Œí’ˆ ì¶”ê°€ (ì°¸ì¡° ì´ë¯¸ì§€ ì‚¬ìš©)`,rows:4})]}),t.jsxs("div",{className:"preview-edit-section prompt-section compact",children:[t.jsxs("div",{className:"preview-edit-title",children:[t.jsx("span",{children:"âœ¨ í”„ë¡¬í”„íŠ¸ íƒœê·¸"}),t.jsx("button",{className:"btn-mini",onClick:()=>he(e=>e?e+`
`+q:q),title:"ì¢Œì¸¡ í”„ë¡¬í”„íŠ¸ ì¶”ê°€",children:"+ ì ìš©"})]}),t.jsx("div",{className:"prompt-preview-box scrollable small",onClick:()=>he(q),children:q?q.length>60?q.slice(0,60)+"...":q:"(ì¢Œì¸¡ì—ì„œ íƒœê·¸ ì„ íƒ)"})]}),t.jsxs("div",{className:`preview-edit-section ref-section ref-dropzone ${se.length===0?"empty":""}`,onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("drag-over")},onDragLeave:e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over")},onDrop:async e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over");const a=e.dataTransfer.files;if(!a.length)return;const s=[];for(const n of Array.from(a)){if(!n.type.startsWith("image/"))continue;const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o,type:"object",strength:1})}me(n=>[...n,...s].slice(0,14))},children:[t.jsx("div",{className:"preview-edit-title",children:t.jsxs("span",{children:["ğŸ“ ì°¸ì¡° ì´ë¯¸ì§€ ",se.length>0&&`(${se.length}/14)`]})}),se.length>0?t.jsxs("div",{className:"ref-list-with-roles",children:[se.map((e,a)=>t.jsxs("div",{className:"ref-item-with-role",children:[t.jsxs("div",{className:"ref-item-thumb",children:[t.jsx("img",{src:e.url,alt:`Ref ${a}`}),t.jsx("button",{className:"ref-del-btn",onClick:()=>me(s=>s.filter((n,i)=>i!==a)),children:"Ã—"})]}),t.jsx("select",{className:"ref-role-select",value:e.type,onChange:s=>me(n=>n.map((i,o)=>o===a?{...i,type:s.target.value}:i)),children:Je.map(s=>t.jsxs("option",{value:s.id,children:[s.icon," ",s.name]},s.id))})]},a)),t.jsxs("label",{className:"ref-add-btn-large",children:[t.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:async e=>{const a=e.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o,type:"object",strength:1})}me(n=>[...n,...s].slice(0,14)),e.target.value=""}}),t.jsx("span",{children:"+ ì¶”ê°€"})]})]}):t.jsxs("label",{className:"ref-empty-drop small",children:[t.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:async e=>{const a=e.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const i=URL.createObjectURL(n),o=await te(n);s.push({url:i,b64:o,type:"object",strength:1})}me(n=>[...n,...s].slice(0,14)),e.target.value=""}}),t.jsx("div",{className:"ref-drop-icon",children:"ğŸ“¥"}),t.jsx("div",{className:"ref-drop-text",children:"ë“œë˜ê·¸ ë˜ëŠ” í´ë¦­"}),t.jsx("div",{className:"ref-drop-hint",children:"ì†Œí’ˆ/ìºë¦­í„° ì¶”ê°€"})]})]}),t.jsxs("div",{className:"preview-edit-section preserve-options",children:[t.jsx("div",{className:"preview-edit-title",children:t.jsx("span",{children:"ğŸ”’ ìœ ì§€ ì˜µì…˜"})}),t.jsxs("div",{className:"preserve-options-grid",children:[t.jsxs("label",{className:`preserve-option ${z.style?"active":""}`,children:[t.jsx("input",{type:"checkbox",checked:z.style,onChange:e=>Le(a=>({...a,style:e.target.checked}))}),t.jsx("span",{children:"ğŸ¨ ìŠ¤íƒ€ì¼"})]}),t.jsxs("label",{className:`preserve-option ${z.expression?"active":""}`,children:[t.jsx("input",{type:"checkbox",checked:z.expression,onChange:e=>Le(a=>({...a,expression:e.target.checked}))}),t.jsx("span",{children:"ğŸ˜Š í‘œì •"})]}),t.jsxs("label",{className:`preserve-option ${z.pose?"active":""}`,children:[t.jsx("input",{type:"checkbox",checked:z.pose,onChange:e=>Le(a=>({...a,pose:e.target.checked}))}),t.jsx("span",{children:"ğŸ•º í¬ì¦ˆ"})]}),t.jsxs("label",{className:`preserve-option ${z.background?"active":""}`,children:[t.jsx("input",{type:"checkbox",checked:z.background,onChange:e=>Le(a=>({...a,background:e.target.checked}))}),t.jsx("span",{children:"ğŸï¸ ë°°ê²½"})]})]})]}),t.jsx("div",{className:"preview-edit-section action-section",children:t.jsx("button",{className:"btn-action edit full-width",onClick:async()=>{if(b.length===0){alert("í¸ì§‘í•  ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”");return}if(!h){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}if(!W.trim()){alert("í¸ì§‘ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}N(!0),de(0);try{const e=[],a=se.map(o=>o.b64),s=He(se),n=[];z.style&&n.push("maintain the original art style"),z.expression&&n.push("keep the facial expression unchanged"),z.pose&&n.push("preserve the body pose"),z.background&&n.push("keep the background unchanged");let i=W;s&&(i+=`

`+s),n.length>0&&(i+=`

Important: ${n.join(", ")}.`);for(let o=0;o<b.length;o++){de(o+1);const j=b[o],v=await D(h,j.b64,i,f,"image/png",a.length>0?a:void 0,{imageSize:T,aspectRatio:L});e.push({url:v.url,b64:v.base64,prompt:W})}A(o=>[...e,...o]),S([0]),I(0)}catch(e){alert("í¸ì§‘ ì‹¤íŒ¨: "+(e instanceof Error?e.message:"ì˜¤ë¥˜"))}finally{N(!1),de(0)}},disabled:V||b.length===0||!h||!W.trim(),children:V?`â³ í¸ì§‘ì¤‘... (${Lt}/${b.length})`:"âœï¸ AI í¸ì§‘ ì ìš©"})}),t.jsx("div",{className:"section-divider"}),t.jsxs("div",{className:"preview-edit-section",children:[t.jsx("div",{className:"preview-edit-title",children:"âš¡ ë¹ ë¥¸ ë³€í™˜"}),t.jsxs("div",{className:"quick-transform-grid",children:[t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0),E("íˆ¬ëª… ë°°ê²½ ì²˜ë¦¬ ì¤‘...");try{const e=[];for(let a=0;a<b.length;a++){const s=b[a];E(`ì´ë¯¸ì§€ ${a+1}/${b.length} ì²˜ë¦¬ ì¤‘...`);const n=await xe(h,s.b64,f,o=>E(`ì´ë¯¸ì§€ ${a+1}/${b.length}: ${o}`)),i=n.split(",")[1];e.push({url:n,b64:i,prompt:"[íˆ¬ëª…ë°°ê²½]"})}A(a=>[...e,...a]),S([0]),I(0)}catch(e){alert("íˆ¬ëª… ì²˜ë¦¬ ì‹¤íŒ¨: "+(e instanceof Error?e.message:"ì˜¤ë¥˜"))}finally{N(!1),E(null)}}},disabled:V||b.length===0,children:"íˆ¬ëª…"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Extract clean black line art on white background.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ë¼ì¸]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ë¼ì¸"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Enhance image quality, sharpen details, improve lighting.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[í–¥ìƒ]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"í–¥ìƒ"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Convert to Korean webtoon style with clean lines and flat colors.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ì›¹íˆ°]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ì›¹íˆ°"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Change to daytime scene with bright sunlight and blue sky.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ë‚®]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ë‚®"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Change to nighttime scene with moonlight and stars.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ë°¤]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ë°¤"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Mirror flip the image horizontally.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ë°˜ì „]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ë°˜ì „"}),t.jsx("button",{onClick:async()=>{if(!(b.length===0||!h)){N(!0);try{const e=[];for(const a of b){const s=await D(h,a.b64,"Change character expression to smile, happy face.",f,"image/png");e.push({url:s.url,b64:s.base64,prompt:"[ì›ƒìŒ]"})}A(a=>[...e,...a]),S([0]),I(0)}catch{alert("ì‹¤íŒ¨")}finally{N(!1)}}},disabled:V||b.length===0,children:"ì›ƒìŒ"})]})]})]})]})]}),xt&&t.jsx("div",{className:"gen-modal show",onClick:()=>ce(!1),children:t.jsxs("div",{className:"gen-modal-content",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"gen-modal-title",children:["âš™ï¸ ì—¬ëŸ¬ì¥ ìƒì„± ì˜µì…˜",t.jsx("button",{className:"gen-modal-close",onClick:()=>ce(!1),children:"Ã—"})]}),t.jsxs("div",{className:`gen-mode-item ${P==="same"?"selected":""}`,onClick:()=>Ce("same"),children:[t.jsx("input",{type:"radio",name:"genModeRadio",checked:P==="same",readOnly:!0}),t.jsxs("div",{className:"gen-mode-info",children:[t.jsx("div",{className:"name",children:"ğŸ“‹ ë™ì¼ ì„¤ì •"}),t.jsx("div",{className:"desc",children:"ê°™ì€ í”„ë¡¬í”„íŠ¸ë¡œ ì—¬ëŸ¬ì¥ ìƒì„± (ì‹œë“œë§Œ ë‹¤ë¦„)"})]})]}),t.jsxs("div",{className:`gen-mode-item ${P==="random"?"selected":""}`,onClick:()=>Ce("random"),children:[t.jsx("input",{type:"radio",name:"genModeRadio",checked:P==="random",readOnly:!0}),t.jsxs("div",{className:"gen-mode-info",children:[t.jsx("div",{className:"name",children:"ğŸ² ëœë¤ ë³€í˜•"}),t.jsx("div",{className:"desc",children:"ë§¤ ì¥ë§ˆë‹¤ ì„ íƒí•œ í•­ëª©ì„ ëœë¤í•˜ê²Œ ë³€ê²½"}),P==="random"&&t.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Ne.pose,onChange:e=>Se(a=>({...a,pose:e.target.checked}))})," í¬ì¦ˆ ë³€í˜•"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Ne.expr,onChange:e=>Se(a=>({...a,expr:e.target.checked}))})," í‘œì • ë³€í˜•"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Ne.angle,onChange:e=>Se(a=>({...a,angle:e.target.checked}))})," ì•µê¸€ ë³€í˜•"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Ne.cloth,onChange:e=>Se(a=>({...a,cloth:e.target.checked}))})," ì˜ìƒ ë³€í˜•"]})]})]})]}),t.jsxs("div",{className:`gen-mode-item ${P==="sequence"?"selected":""}`,onClick:()=>Ce("sequence"),children:[t.jsx("input",{type:"radio",name:"genModeRadio",checked:P==="sequence",readOnly:!0}),t.jsxs("div",{className:"gen-mode-info",children:[t.jsx("div",{className:"name",children:"ğŸ”¢ ìˆœì°¨ ë³€í˜•"}),t.jsx("div",{className:"desc",children:"íŠ¹ì • í•­ëª©ì„ ìˆœì„œëŒ€ë¡œ ë³€ê²½í•˜ë©° ìƒì„±"}),P==="sequence"&&t.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[t.jsxs("div",{className:"gen-seq-item",children:[t.jsx("label",{children:"í•­ëª©:"}),t.jsxs("select",{className:"sel",value:vt,onChange:e=>wt(e.target.value),children:[t.jsx("option",{value:"expression",children:"í‘œì •"}),t.jsx("option",{value:"bodyPose",children:"í¬ì¦ˆ"}),t.jsx("option",{value:"viewAngle",children:"ì•µê¸€"}),t.jsx("option",{value:"artStyle",children:"í™”í’"})]})]}),t.jsx("div",{style:{fontSize:"0.5rem",color:"var(--text3)",marginTop:4},children:"â€» ìƒì„± ê°œìˆ˜ë§Œí¼ ìˆœì„œëŒ€ë¡œ ë³€í˜•ë©ë‹ˆë‹¤"})]})]})]}),t.jsxs("div",{className:`gen-mode-item ${P==="interpolate"?"selected":""}`,onClick:()=>Ce("interpolate"),children:[t.jsx("input",{type:"radio",name:"genModeRadio",checked:P==="interpolate",readOnly:!0}),t.jsxs("div",{className:"gen-mode-info",children:[t.jsx("div",{className:"name",children:"ğŸŒˆ ìŠ¬ë¼ì´ë” ê·¸ë¼ë°ì´ì…˜"}),t.jsx("div",{className:"desc",children:"ìŠ¬ë¼ì´ë” ê°’ì„ ì ì§„ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ë©° ìƒì„±"}),P==="interpolate"&&t.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[t.jsxs("div",{className:"gen-seq-item",children:[t.jsx("label",{children:"í•­ëª©:"}),t.jsxs("select",{className:"sel",value:jt,onChange:e=>kt(e.target.value),children:[t.jsx("option",{value:"age",children:"ë‚˜ì´"}),t.jsx("option",{value:"bodyType",children:"ì²´í˜•"}),t.jsx("option",{value:"eyeSize",children:"ëˆˆí¬ê¸°"}),t.jsx("option",{value:"timeOfDay",children:"ì‹œê°„ëŒ€"}),t.jsx("option",{value:"brightness",children:"ë°ê¸°"})]})]}),t.jsxs("div",{className:"gen-seq-item",children:[t.jsx("label",{children:"ì‹œì‘:"}),t.jsx("input",{type:"number",className:"inp",style:{width:60},value:Ct,onChange:e=>Nt(Number(e.target.value))}),t.jsx("label",{children:"ë:"}),t.jsx("input",{type:"number",className:"inp",style:{width:60},value:St,onChange:e=>It(Number(e.target.value))})]})]})]})]}),t.jsxs("div",{className:"gen-modal-actions",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>ce(!1),children:"ì·¨ì†Œ"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>ce(!1),children:"âœ… í™•ì¸"})]})]})}),qt&&t.jsx("div",{className:"preset-modal show",onClick:()=>fe(!1),children:t.jsxs("div",{className:"preset-modal-content",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"preset-modal-title",children:["ğŸ’¾ í”„ë¦¬ì…‹ ì €ì¥",t.jsx("button",{className:"preset-modal-close",onClick:()=>fe(!1),children:"Ã—"})]}),t.jsxs("div",{className:"preset-modal-body",children:[t.jsx("p",{children:"í˜„ì¬ ì„¤ì •ì„ í”„ë¦¬ì…‹ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤."}),t.jsx("input",{type:"text",className:"inp",value:pe,onChange:e=>nt(e.target.value),placeholder:"í”„ë¦¬ì…‹ ì´ë¦„ ì…ë ¥...",style:{width:"100%",marginTop:10},autoFocus:!0,onKeyDown:e=>e.key==="Enter"&&ht()})]}),t.jsxs("div",{className:"preset-modal-actions",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>fe(!1),children:"ì·¨ì†Œ"}),t.jsx("button",{className:"btn btn-primary",onClick:ht,children:"ğŸ’¾ ì €ì¥"})]})]})})]});function ca(){const e=ye[p.cat];return e?t.jsx("div",{className:"settings-grid",children:Object.entries(e.items).map(([a,s])=>{var j,v,O,B;const n=p.values[a],i="isNeg"in s&&s.isNeg,o=i?p.negTags.length>0:n!=null&&n!==""&&!(Array.isArray(n)&&n.length===0);return t.jsxs("div",{className:`card ${o?"active":""}`,children:[t.jsxs("div",{className:"card-header",children:[t.jsx("span",{className:"card-icon",children:"icon"in s?s.icon:""}),t.jsx("span",{children:s.name}),t.jsx("span",{className:"card-val",children:i?p.negTags.length>0?`${p.negTags.length}ê°œ`:"":ia(s,n)}),o&&t.jsx("button",{className:"card-clear",onClick:()=>Ut(a,i),children:"Ã—"})]}),"tags"in s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hasColor"in s&&s.hasColor?"tags-with-bucket":"",children:[t.jsx("div",{className:"tags",children:s.tags.map(([m,H])=>{const R=i?p.negTags.includes(m):Array.isArray(n)?n.includes(m):n===m;return t.jsx("div",{className:`tag ${R?"selected":""}`,onClick:()=>Kt(a,m,i||!1),children:H},m)})}),"hasColor"in s&&s.hasColor&&o&&t.jsx("div",{className:"color-inline-box",onClick:()=>ct(a+"Color"),title:"í´ë¦­í•˜ì—¬ ìƒ‰ìƒ ì ìš©",style:{background:ne(((j=p.values[a+"Color"])==null?void 0:j.h)??0,((v=p.values[a+"Color"])==null?void 0:v.s)??70,((O=p.values[a+"Color"])==null?void 0:O.l)??50)}})]}),!i&&o&&t.jsxs("div",{className:"slider-row weight-slider",children:[t.jsx("span",{className:"slider-label",children:"ê°•ë„"}),t.jsxs("div",{className:"slider-track",children:[t.jsx("input",{type:"range",min:.5,max:1.5,step:.1,value:p.values[a+"Str"]??1,onChange:m=>ot(a+"Str",parseFloat(m.target.value))}),t.jsx("div",{className:"thumb",style:{left:`${((p.values[a+"Str"]??1)-.5)/1*100}%`}})]}),t.jsxs("span",{className:"slider-value",children:[p.values[a+"Str"]??1,"x"]})]})]}),"type"in s&&s.type==="slider"&&t.jsxs("div",{className:"slider-row",children:[t.jsx("span",{className:"slider-label",children:((B=s.labels)==null?void 0:B[0])||s.min}),t.jsxs("div",{className:"slider-track",children:[t.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step||1,value:n??s.default,onChange:m=>ot(a,parseFloat(m.target.value))}),t.jsx("div",{className:"thumb",style:{left:`${((n??s.default)-s.min)/(s.max-s.min)*100}%`}})]}),t.jsxs("span",{className:"slider-value",children:[n??s.default,s.unit||""]})]}),"type"in s&&(s.type==="hue"||s.type==="skin")&&t.jsxs("div",{className:"color-inline-row",children:[t.jsx("span",{className:"color-inline-label",children:s.name}),t.jsx("div",{className:"color-inline-box",onClick:()=>ct(a),title:"í´ë¦­í•˜ì—¬ ìƒ‰ìƒ ì ìš©",style:{background:ne((n==null?void 0:n.h)??30,(n==null?void 0:n.s)??70,(n==null?void 0:n.l)??50)}})]})]},a)})}):null}}async function te(l){return new Promise(c=>{const d=new FileReader;d.onload=()=>c(d.result.split(",")[1]),d.readAsDataURL(l)})}function He(l){if(l.length===0)return"";const c=[];return l.forEach((d,g)=>{const y=Je.find(u=>u.id===d.type);y&&c.push(`From reference image #${g+1}, ${y.prompt}.`)}),c.length===0?`Using the ${l.length} provided reference image(s) as visual guide.`:c.join(" ")}function Ea(){const{addAsset:l}=pt(),c=(d,g)=>{l({url:d,prompt:g,category:"ai-generated",source:"whiteboard"})};return t.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:t.jsx(ja,{onImageGenerated:c})})}export{Ea as default};
