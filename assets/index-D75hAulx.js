import{a as Dt,j as e}from"./index-zxlpALGs.js";import{e as Fa,a as r}from"./vendor-react-D6srG5PV.js";function Ka(i,c){const o=["red","orange","yellow","lime","green","teal","cyan","blue","indigo","purple","magenta","pink"],h=Math.floor((i+15)%360/30),y=c<30?"dark ":c>70?"light ":"";return c<15?"black":c>90?"white":y+o[h]}function oe(i,c=70,o=50){const h=ue(i,c,o),y=Ka(i,o);return`${h} ${y}`}function Ua(i,c){const o=["ë¹¨ê°•","ì£¼í™©","ë…¸ë‘","ì—°ë‘","ë…¹ìƒ‰","ì²­ë¡","í•˜ëŠ˜","íŒŒë‘","ë‚¨ìƒ‰","ë³´ë¼","ìì£¼","ë¶„í™"],h=Math.floor((i+15)%360/30),y=c<30?"ì–´ë‘ìš´ ":c>70?"ë°ì€ ":"";return c<15?"ê²€ì •":c>90?"í°ìƒ‰":y+o[h]}function ue(i,c,o){o/=100;const h=c*Math.min(o,1-o)/100,y=g=>{const u=(g+i/30)%12,p=o-h*Math.max(Math.min(u-3,9-u,1),-1);return Math.round(255*p).toString(16).padStart(2,"0")};return`#${y(0)}${y(8)}${y(4)}`}const _a={basic:{name:"ê¸°ë³¸",icon:"ğŸ‘¤",items:{species:{name:"ì¢…ì¡±",icon:"ğŸ§¬",tags:[["human","ì¸ê°„"],["elf","ì—˜í”„"],["vampire","ë±€íŒŒì´ì–´"],["angel","ì²œì‚¬"],["demon","ì•…ë§ˆ"],["orc","ì˜¤í¬"],["dwarf","ë“œì›Œí”„"],["fairy","ìš”ì •"],["werewolf","ëŠ‘ëŒ€ì¸ê°„"],["cat person","ê³ ì–‘ì´ìˆ˜ì¸"],["fox person","ì—¬ìš°ìˆ˜ì¸"],["dragon humanoid","ìš©ì¸"]]},gender:{name:"ì„±ë³„",icon:"âš§",tags:[["male","ë‚¨ì„±"],["female","ì—¬ì„±"],["androgynous","ì¤‘ì„±ì "]]},age:{name:"ë‚˜ì´",icon:"ğŸ‚",type:"slider",min:5,max:80,default:25,unit:"ì„¸",prompt:i=>i<10?"child":i<18?"teenager":i<30?"young adult in 20s":i<40?"adult in 30s":i<50?"middle-aged in 40s":i<60?"mature adult in 50s":"elderly"},height:{name:"í‚¤",icon:"ğŸ“",type:"slider",min:140,max:200,default:170,unit:"cm",prompt:i=>`${i}cm tall`},headRatio:{name:"ë“±ì‹ ",icon:"ğŸ“",type:"slider",min:4,max:10,default:7,step:.5,unit:"ë“±ì‹ ",prompt:i=>`${i} head tall proportion`},bodyType:{name:"ì²´í˜•",icon:"ğŸ’ª",type:"slider",min:0,max:100,default:50,labels:["ë§ˆë¦„","ë³´í†µ","ê·¼ìœ¡"],prompt:i=>i<30?"slim skinny build":i<70?"average build":"muscular athletic build"},skinTone:{name:"í”¼ë¶€ìƒ‰",icon:"ğŸ¨",type:"skin",prompt:(i,c=40,o=50)=>{const h=ue(i,c,o);let y="";return o>80?y="very pale white":o>60?y="fair light":o>40?y="medium tan":o>20?y="brown":y="dark",`${h} ${y} skin tone`}}}},hair:{name:"ë¨¸ë¦¬",icon:"ğŸ’‡",items:{hairStyle:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ’‡",tags:[["bald","ëŒ€ë¨¸ë¦¬"],["buzz cut","ì§§ì€ì‚­ë°œ"],["short hair","ì§§ì€ë¨¸ë¦¬"],["medium hair","ì¤‘ê°„ë¨¸ë¦¬"],["long hair","ê¸´ë¨¸ë¦¬"],["very long hair","ë§¤ìš°ê¸´ë¨¸ë¦¬"],["straight hair","ìƒë¨¸ë¦¬"],["wavy hair","ì›¨ì´ë¸Œ"],["curly hair","ê³±ìŠ¬"],["ponytail","í¬ë‹ˆí…Œì¼"],["twin tails","íŠ¸ìœˆí…Œì¼"],["braid","ë•‹ì€ë¨¸ë¦¬"],["bun","ë˜¥ë¨¸ë¦¬"],["mohawk","ëª¨íˆì¹¸"],["dreadlocks","ë“œë ˆë“œë½"]]},hairBangs:{name:"ì•ë¨¸ë¦¬",icon:"âœ‚ï¸",tags:[["no bangs","ì•ë¨¸ë¦¬ì—†ìŒ"],["blunt bangs","ì¼ìì•ë¨¸ë¦¬"],["side swept bangs","ì˜†ìœ¼ë¡œë„˜ê¸´"],["parted bangs","ê°€ë¥´ë§ˆ"],["curtain bangs","ì»¤íŠ¼ë±…"],["wispy bangs","ì‹œìŠ¤ë£¨ë±…"]]},hairColor:{name:"ë¨¸ë¦¬ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(i,c=70,o=50)=>oe(i,c,o)+" colored hair"}}},face:{name:"ì–¼êµ´",icon:"ğŸ‘¤",items:{faceShape:{name:"ì–¼êµ´í˜•",icon:"ğŸ—¿",tags:[["oval face","ê³„ë€í˜•"],["round face","ë‘¥ê·¼í˜•"],["square face","ê°ì§„í˜•"],["heart face","í•˜íŠ¸í˜•"],["long face","ê¸´í˜•"]]},eyeSize:{name:"ëˆˆí¬ê¸°",icon:"ğŸ‘ï¸",type:"slider",min:0,max:100,default:50,labels:["ì‘ìŒ","ë³´í†µ","í¼"],prompt:i=>i<30?"small narrow eyes":i<70?"normal eyes":"large anime eyes"},eyeShape:{name:"ëˆˆí˜•íƒœ",icon:"ğŸ‘€",tags:[["round eyes","ë™ê·¸ë€ëˆˆ"],["almond eyes","ì•„ëª¬ë“œëˆˆ"],["monolid eyes","ë¬´ìŒ"],["double eyelid","ìŒêº¼í’€"],["downturned eyes","ì²˜ì§„ëˆˆ"],["upturned eyes","ì˜¬ë¼ê°„ëˆˆ"]]},eyeColor:{name:"ëˆˆ/ë Œì¦ˆìƒ‰",icon:"ğŸ”µ",type:"hue",prompt:(i,c=70,o=50)=>oe(i,c,o)+" colored eyes"},eyebrows:{name:"ëˆˆì¹",icon:"ğŸ¤¨",tags:[["thin eyebrows","ì–‡ì€ëˆˆì¹"],["thick eyebrows","ì§„í•œëˆˆì¹"],["arched eyebrows","ì•„ì¹˜í˜•"],["straight eyebrows","ì¼ìëˆˆì¹"],["bushy eyebrows","ë¥ìˆ˜ë£©í•œëˆˆì¹"]]},nose:{name:"ì½”",icon:"ğŸ‘ƒ",tags:[["small nose","ì‘ì€ì½”"],["high nose","ë†’ì€ì½”"],["flat nose","ë‚®ì€ì½”"],["pointed nose","ë¾°ì¡±í•œì½”"],["wide nose","ë„“ì€ì½”"]]},lips:{name:"ì…ìˆ ",icon:"ğŸ‘„",tags:[["thin lips","ì–‡ì€ì…ìˆ "],["full lips","ë„í†°í•œì…ìˆ "],["small lips","ì‘ì€ì…ìˆ "],["wide lips","ë„“ì€ì…ìˆ "]],hasColor:!0},expression:{name:"í‘œì •",icon:"ğŸ˜Š",tags:[["neutral","ë¬´í‘œì •"],["gentle smile","ë¯¸ì†Œ"],["big smile laughing","í™œì§ì›ƒìŒ"],["sad teary","ìŠ¬í””"],["angry frowning","í™”ë‚¨"],["surprised wide eyes","ë†€ëŒ"],["smirk confident","ëŠ¥ê¸€"],["pleading puppy eyes","ì• ì²˜ë¡œì›€"],["blushing embarrassed","ë¶€ë„ëŸ¼"],["thinking contemplating","ìƒê°"],["shy","ìˆ˜ì¤ìŒ"],["serious","ì§„ì§€í•¨"],["seductive","ë§¤í˜¹ì "],["crying tears","ëˆˆë¬¼"],["yawning sleepy","ì¡¸ë¦¼"],["disgusted","ì—­ê²¨ì›€"],["fearful scared","ë‘ë ¤ì›€"],["pouting","ì‚ì§"],["cool confident mysterious","ì‹œí¬"],["winking playful","ìœ™í¬"],["determined focused","ê²°ì—°í•¨"]]},wrinkles:{name:"ì£¼ë¦„",icon:"ã€°ï¸",type:"slider",min:0,max:100,default:0,labels:["ì—†ìŒ","ì•½ê°„","ë§ìŒ"],prompt:i=>i<20?"":i<50?"subtle wrinkles":"prominent wrinkles, aged face"},beard:{name:"ìˆ˜ì—¼",icon:"ğŸ§”",tags:[["clean shaven","ë©´ë„í•¨"],["stubble","ê±°ì¹œìˆ˜ì—¼"],["short beard","ì§§ì€ìˆ˜ì—¼"],["full beard","í’ì„±í•œìˆ˜ì—¼"],["goatee","ì—¼ì†Œìˆ˜ì—¼"],["mustache","ì½§ìˆ˜ì—¼"]],hasColor:!0}}},faceAcc:{name:"ì–¼êµ´ì•…ì„¸",icon:"ğŸ‘“",items:{glasses:{name:"ì•ˆê²½",icon:"ğŸ‘“",tags:[["no glasses","ì•ˆê²½ì—†ìŒ"],["glasses","ì•ˆê²½"],["round glasses","ë™ê·¸ë€ì•ˆê²½"],["square glasses","ì‚¬ê°ì•ˆê²½"],["sunglasses","ì„ ê¸€ë¼ìŠ¤"],["monocle","ì™¸ì•Œì•ˆê²½"]],hasColor:!0},headwear:{name:"ëª¨ì/ë¨¸ë¦¬ì¥ì‹",icon:"ğŸ©",tags:[["no hat","ì—†ìŒ"],["cap","ìº¡ëª¨ì"],["beanie","ë¹„ë‹ˆ"],["fedora","í˜ë„ë¼"],["crown","ì™•ê´€"],["tiara","í‹°ì•„ë¼"],["hairpin","í—¤ì–´í•€"],["ribbon","ë¦¬ë³¸"],["headband","ë¨¸ë¦¬ë "],["flower crown","ê½ƒì™•ê´€"]],hasColor:!0},mask:{name:"ë§ˆìŠ¤í¬",icon:"ğŸ­",tags:[["no mask","ì—†ìŒ"],["half mask","ë°˜ê°€ë©´"],["full mask","ì „ì²´ê°€ë©´"],["surgical mask","ë§ˆìŠ¤í¬"],["gas mask","ë°©ë…ë©´"]]}}},upperBody:{name:"ìƒì²´",icon:"ğŸ‘•",items:{outfitSet:{name:"ì˜ìƒì„¸íŠ¸",icon:"ğŸ‘”",tags:[["formal black suit white shirt tie","ğŸ¤µ ì •ì¥"],["casual hoodie jeans","ğŸ‘• ìºì£¼ì–¼"],["Korean hanbok traditional","ğŸ‘˜ í•œë³µ"],["school uniform blazer","ğŸ“ êµë³µ"],["medieval knight armor","âš”ï¸ ê°‘ì˜·"],["elegant ball gown dress","ğŸ‘— ë“œë ˆìŠ¤"],["sports jersey shorts","ğŸƒ ìš´ë™ë³µ"],["chef uniform apron","ğŸ‘¨â€ğŸ³ ì…°í”„"],["doctor white coat stethoscope","ğŸ‘¨â€âš•ï¸ ì˜ì‚¬"],["military combat uniform","ğŸ–ï¸ êµ°ë³µ"],["swimsuit beach","ğŸ‘™ ìˆ˜ì˜ë³µ"],["pajamas sleepwear","ğŸ˜´ ì ì˜·"],["maid outfit frilly","ğŸ€ ë©”ì´ë“œ"],["nurse uniform","ğŸ‘©â€âš•ï¸ ê°„í˜¸ì‚¬"],["police uniform","ğŸ‘® ê²½ì°°"],["kimono japanese","ğŸ ê¸°ëª¨ë…¸"]]},topLayer1:{name:"ìƒì˜1(ì•ˆìª½)",icon:"ğŸ‘•",tags:[["t-shirt","í‹°ì…”ì¸ "],["tank top","ë¯¼ì†Œë§¤"],["shirt","ì…”ì¸ "],["blouse","ë¸”ë¼ìš°ìŠ¤"],["crop top","í¬ë¡­íƒ‘"],["turtleneck","í„°í‹€ë„¥"],["vest","ì¡°ë¼"]],hasColor:!0},topLayer2:{name:"ìƒì˜2(ì¤‘ê°„)",icon:"ğŸ§¥",tags:[["none","ì—†ìŒ"],["hoodie","í›„ë“œí‹°"],["sweater","ìŠ¤ì›¨í„°"],["cardigan","ê°€ë””ê±´"],["jacket","ìì¼“"],["blazer","ë¸”ë ˆì´ì €"]],hasColor:!0},topLayer3:{name:"ìƒì˜3(ë°”ê¹¥)",icon:"ğŸ§¥",tags:[["none","ì—†ìŒ"],["coat","ì½”íŠ¸"],["trench coat","íŠ¸ë Œì¹˜ì½”íŠ¸"],["leather jacket","ê°€ì£½ìì¼“"],["parka","íŒŒì¹´"],["cape","ë§í† "],["cloak","í´ë¡œí¬"]],hasColor:!0},neckwear:{name:"ë„¥ì›¨ì–´",icon:"ğŸ‘”",tags:[["none","ì—†ìŒ"],["tie","ë„¥íƒ€ì´"],["bow tie","ë‚˜ë¹„ë„¥íƒ€ì´"],["scarf","ìŠ¤ì¹´í”„"],["choker","ì´ˆì»¤"],["necklace","ëª©ê±¸ì´"],["pendant","íœë˜íŠ¸"]],hasColor:!0},gloves:{name:"ì¥ê°‘",icon:"ğŸ§¤",tags:[["none","ì—†ìŒ"],["fingerless gloves","í•‘ê±°ë¦¬ìŠ¤"],["leather gloves","ê°€ì£½ì¥ê°‘"],["long gloves","ë¡±ì¥ê°‘"],["mittens","ë²™ì–´ë¦¬ì¥ê°‘"]],hasColor:!0}}},lowerBody:{name:"í•˜ì²´",icon:"ğŸ‘–",items:{bottom:{name:"í•˜ì˜",icon:"ğŸ‘–",tags:[["jeans","ì²­ë°”ì§€"],["slacks","ìŠ¬ë™ìŠ¤"],["shorts","ë°˜ë°”ì§€"],["skirt","ìŠ¤ì»¤íŠ¸"],["mini skirt","ë¯¸ë‹ˆìŠ¤ì»¤íŠ¸"],["long skirt","ë¡±ìŠ¤ì»¤íŠ¸"],["pleated skirt","í”Œë¦¬ì¸ "],["leggings","ë ˆê¹…ìŠ¤"],["sweatpants","ì¸„ë¦¬ë‹"]],hasColor:!0},socks:{name:"ì–‘ë§/ìŠ¤íƒ€í‚¹",icon:"ğŸ§¦",tags:[["none","ì—†ìŒ"],["ankle socks","ë°œëª©ì–‘ë§"],["crew socks","ì¤‘ê°„ì–‘ë§"],["knee socks","ë¬´ë¦ì–‘ë§"],["thigh highs","í—ˆë²…ì§€ì–‘ë§"],["stockings","ìŠ¤íƒ€í‚¹"],["fishnet","ë§ì‚¬"]],hasColor:!0},shoes:{name:"ì‹ ë°œ",icon:"ğŸ‘Ÿ",tags:[["sneakers","ìš´ë™í™”"],["boots","ë¶€ì¸ "],["high heels","í•˜ì´í"],["loafers","ë¡œí¼"],["sandals","ìƒŒë“¤"],["barefoot","ë§¨ë°œ"]],hasColor:!0}}},hands:{name:"ì†/ë¬´ê¸°",icon:"âœ‹",items:{leftHand:{name:"ì™¼ì†",icon:"ğŸ¤š",tags:[["empty hand","ë¹ˆì†"],["open palm","í¸ì†"],["fist","ì£¼ë¨¹"],["pointing","ê°€ë¦¬í‚¤ê¸°"],["peace sign","ë¸Œì´"],["thumbs up","ì—„ì§€ì²™"]]},rightHand:{name:"ì˜¤ë¥¸ì†",icon:"ğŸ¤š",tags:[["empty hand","ë¹ˆì†"],["open palm","í¸ì†"],["fist","ì£¼ë¨¹"],["pointing","ê°€ë¦¬í‚¤ê¸°"],["peace sign","ë¸Œì´"],["thumbs up","ì—„ì§€ì²™"]]},weapon:{name:"ë¬´ê¸°",icon:"âš”ï¸",tags:[["none","ì—†ìŒ"],["sword","ê²€"],["katana","ì¹´íƒ€ë‚˜"],["dagger","ë‹¨ê²€"],["bow","í™œ"],["staff","ì§€íŒ¡ì´"],["wand","ë§ˆë²•ë´‰"],["gun","ì´"],["shield","ë°©íŒ¨"],["spear","ì°½"],["axe","ë„ë¼"]]},bracelet:{name:"íŒ”ì°Œ",icon:"ğŸ“¿",tags:[["none","ì—†ìŒ"],["bracelet","íŒ”ì°Œ"],["bangle","ë±…ê¸€"],["watch","ì‹œê³„"],["wristband","ì†ëª©ë°´ë“œ"]],hasColor:!0},ring:{name:"ë°˜ì§€",icon:"ğŸ’",tags:[["none","ì—†ìŒ"],["simple ring","ì‹¬í”Œë°˜ì§€"],["gem ring","ë³´ì„ë°˜ì§€"],["multiple rings","ì—¬ëŸ¬ë°˜ì§€"]],hasColor:!0}}},fantasy:{name:"íŒíƒ€ì§€",icon:"ğŸ§š",items:{wings:{name:"ë‚ ê°œ",icon:"ğŸª½",tags:[["no wings","ì—†ìŒ"],["angel wings","ì²œì‚¬ë‚ ê°œ"],["demon wings","ì•…ë§ˆë‚ ê°œ"],["dragon wings","ë“œë˜ê³¤ë‚ ê°œ"],["fairy wings","ìš”ì •ë‚ ê°œ"],["butterfly wings","ë‚˜ë¹„ë‚ ê°œ"],["bat wings","ë°•ì¥ë‚ ê°œ"],["feathered wings","ê¹ƒí„¸ë‚ ê°œ"],["mechanical wings","ê¸°ê³„ë‚ ê°œ"]],hasColor:!0},wingSize:{name:"ë‚ ê°œí¬ê¸°",icon:"ğŸ“",type:"slider",min:0,max:100,default:50,labels:["ì‘ìŒ","ë³´í†µ","í¼"],prompt:i=>i<30?"small wings":i>70?"large magnificent wings":"medium wings"},wingState:{name:"ë‚ ê°œìƒíƒœ",icon:"ğŸ¦‹",tags:[["folded wings","ì ‘ì€ë‚ ê°œ"],["spread wings","í¼ì¹œë‚ ê°œ"],["half spread","ë°˜ì¯¤í¼ì¹œ"],["flapping wings","í¼ë•ì´ëŠ”"]]},ears:{name:"ê·€",icon:"ğŸ‘‚",tags:[["human ears","ì¸ê°„ê·€"],["elf ears","ì—˜í”„ê·€"],["cat ears","ê³ ì–‘ì´ê·€"],["fox ears","ì—¬ìš°ê·€"],["wolf ears","ëŠ‘ëŒ€ê·€"],["rabbit ears","í† ë¼ê·€"],["dog ears","ê°•ì•„ì§€ê·€"],["pointed ears","ë¾°ì¡±ê·€"],["droopy ears","ì²˜ì§„ê·€"]],hasColor:!0},tail:{name:"ê¼¬ë¦¬",icon:"ğŸ¦Š",tags:[["no tail","ì—†ìŒ"],["cat tail","ê³ ì–‘ì´ê¼¬ë¦¬"],["fox tail","ì—¬ìš°ê¼¬ë¦¬"],["wolf tail","ëŠ‘ëŒ€ê¼¬ë¦¬"],["dragon tail","ë“œë˜ê³¤ê¼¬ë¦¬"],["demon tail","ì•…ë§ˆê¼¬ë¦¬"],["fluffy tail","ë½€ì†¡ê¼¬ë¦¬"],["long tail","ê¸´ê¼¬ë¦¬"],["multiple tails","ì—¬ëŸ¬ê¼¬ë¦¬"]],hasColor:!0},tailCount:{name:"ê¼¬ë¦¬ê°œìˆ˜",icon:"ğŸ”¢",type:"slider",min:1,max:9,default:1,unit:"ê°œ",prompt:i=>i===1?"single tail":`${i} tails`},horns:{name:"ë¿”",icon:"ğŸ¦Œ",tags:[["no horns","ì—†ìŒ"],["small horns","ì‘ì€ë¿”"],["large horns","í°ë¿”"],["curved horns","êµ½ì€ë¿”"],["straight horns","ì§ì„ ë¿”"],["antlers","ì‚¬ìŠ´ë¿”"],["ram horns","ì–‘ë¿”"],["demon horns","ì•…ë§ˆë¿”"]],hasColor:!0},halo:{name:"í›„ê´‘",icon:"ğŸ˜‡",tags:[["no halo","ì—†ìŒ"],["golden halo","ê¸ˆìƒ‰í›„ê´‘"],["white halo","í°ìƒ‰í›„ê´‘"],["broken halo","ê¹¨ì§„í›„ê´‘"],["dark halo","ì–´ë‘ìš´í›„ê´‘"],["glowing halo","ë¹›ë‚˜ëŠ”í›„ê´‘"]]},extraFeatures:{name:"ì¶”ê°€íŠ¹ì§•",icon:"âœ¨",tags:[["none","ì—†ìŒ"],["scales on skin","í”¼ë¶€ë¹„ëŠ˜"],["glowing marks","ë¹›ë‚˜ëŠ”ë¬¸ì–‘"],["tattoo marks","ë¬¸ì‹ "],["freckles","ì£¼ê·¼ê¹¨"],["birthmark","ì "],["scars","í‰í„°"],["stitches","ë°”ëŠì§ˆìêµ­"]]}}},pose:{name:"í¬ì¦ˆ",icon:"ğŸƒ",items:{bodyPose:{name:"ì „ì‹ í¬ì¦ˆ",icon:"ğŸ§",tags:[["standing","ì„œìˆëŠ”"],["sitting","ì•‰ì€"],["kneeling","ë¬´ë¦ê¿‡ì€"],["lying down","ëˆ„ìš´"],["walking","ê±·ëŠ”"],["running","ë›°ëŠ”"],["jumping","ì í”„"],["fighting pose","ì „íˆ¬ìì„¸"],["dancing","ì¶¤ì¶”ëŠ”"],["floating","ë– ìˆëŠ”"]]},armPose:{name:"íŒ”í¬ì¦ˆ",icon:"ğŸ’ª",tags:[["arms at sides","íŒ”ë‚´ë¦¼"],["crossed arms","íŒ”ì§±"],["hands behind","ë’·ì§"],["hands on hips","í—ˆë¦¬ì†"],["raised arm","íŒ”ë“¤ê¸°"],["waving","ì†í”ë“¤ê¸°"]]},viewAngle:{name:"ì‹œì ",icon:"ğŸ“·",tags:[["front view","ì •ë©´"],["side view","ì¸¡ë©´"],["back view","ë’·ëª¨ìŠµ"],["three quarter view","3/4ì•µê¸€"],["from above","ìœ„ì—ì„œ"],["from below","ì•„ë˜ì—ì„œ"],["close up","í´ë¡œì¦ˆì—…"],["full body","ì „ì‹ "]]}}},style:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ¨",items:{artStyle:{name:"ê·¸ë¦¼ì²´",icon:"ğŸ¨",tags:[["korean webtoon","í•œêµ­ì›¹íˆ°"],["japanese anime","ì¼ë³¸ì• ë‹ˆ"],["ghibli style","ì§€ë¸Œë¦¬"],["disney pixar","ë””ì¦ˆë‹ˆí”½ì‚¬"],["semi realistic","ì„¸ë¯¸ë¦¬ì–¼"],["realistic","ì‹¤ì‚¬"],["chibi","ì¹˜ë¹„"],["manhwa","ë§Œí™”"],["watercolor","ìˆ˜ì±„í™”"],["oil painting","ìœ í™”"]]},quality:{name:"í’ˆì§ˆ",icon:"âœ¨",tags:[["masterpiece","ê±¸ì‘"],["best quality","ìµœê³ í’ˆì§ˆ"],["highly detailed","ìƒì„¸í•œ"],["sharp focus","ì„ ëª…í•œ"]]},mood:{name:"ë¶„ìœ„ê¸°",icon:"ğŸŒŸ",tags:[["bright","ë°ì€"],["dark","ì–´ë‘ìš´"],["warm","ë”°ëœ»í•œ"],["cold","ì°¨ê°€ìš´"],["dramatic","ê·¹ì ì¸"],["soft","ë¶€ë“œëŸ¬ìš´"],["vibrant","ìƒë™ê°ìˆëŠ”"],["cinematic","ì‹œë„¤ë§ˆí‹±"],["romantic","ë¡œë§¨í‹±"],["mysterious","ì‹ ë¹„ë¡œìš´"],["peaceful","í‰í™”ë¡œìš´"],["epic","ì›…ì¥í•œ"],["emotional","ê°ì„±ì ì¸"],["dreamy","ëª½í™˜ì ì¸"],["luxurious","ëŸ­ì…”ë¦¬"],["noir","ëŠì™€ë¥´"]]}}},negative:{name:"ë„¤ê±°í‹°ë¸Œ",icon:"â›”",items:{negative:{name:"ì œì™¸í• ê²ƒ",icon:"â›”",tags:[["low quality","ì €í’ˆì§ˆ"],["blurry","íë¦°"],["ugly","ëª»ìƒê¸´"],["jpeg artifacts","JPEGì•„í‹°íŒ©íŠ¸"],["noise","ë…¸ì´ì¦ˆ"],["grainy","ê±°ì¹œí™”ì§ˆ"],["deformed","ë³€í˜•"],["bad anatomy","í•´ë¶€í•™ì˜¤ë¥˜"],["disfigured","ê¸°í˜•"],["mutated","ëŒì—°ë³€ì´"],["malformed","ë¹„ì •ìƒ"],["extra limbs","íŒ”ë‹¤ë¦¬ì¶”ê°€"],["missing limbs","íŒ”ë‹¤ë¦¬ì—†ìŒ"],["fused limbs","íŒ”ë‹¤ë¦¬ìœµí•©"],["long neck","ê¸´ëª©"],["long body","ê¸´ëª¸"],["extra fingers","ì†ê°€ë½ì¶”ê°€"],["missing fingers","ì†ê°€ë½ì—†ìŒ"],["bad hands","ì´ìƒí•œì†"],["mutated hands","ëŒì—°ë³€ì´ì†"],["extra hands","ì†ì¶”ê°€"],["fused fingers","ì†ê°€ë½ìœµí•©"],["bad face","ì´ìƒí•œì–¼êµ´"],["ugly face","ëª»ìƒê¸´ì–¼êµ´"],["extra eyes","ëˆˆì¶”ê°€"],["bad eyes","ì´ìƒí•œëˆˆ"],["cross-eyed","ì‚¬ì‹œ"],["asymmetric eyes","ë¹„ëŒ€ì¹­ëˆˆ"],["cropped","ì˜ë¦°"],["out of frame","í”„ë ˆì„ë°–"],["cut off","ì˜ë¦¼"],["poorly drawn","ì„œíˆ°ê·¸ë¦¼"],["multiple characters","ì—¬ëŸ¬ìºë¦­í„°"],["duplicate","ì¤‘ë³µ"],["clone","ë³µì œ"],["watermark","ì›Œí„°ë§ˆí¬"],["text","í…ìŠ¤íŠ¸"],["logo","ë¡œê³ "],["signature","ì„œëª…"]],isNeg:!0}}}},Ba={style:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ¨",items:{artStyle:{name:"ê·¸ë¦¼ì²´",icon:"ğŸ¨",tags:[["webtoon style","ì›¹íˆ°"],["anime style","ì• ë‹ˆë©”"],["ghibli style","ì§€ë¸Œë¦¬"],["photorealistic","ì‹¤ì‚¬"],["concept art","ì»¨ì…‰ì•„íŠ¸"],["watercolor","ìˆ˜ì±„í™”"],["oil painting","ìœ í™”"],["pixel art","í”½ì…€"]]},quality:{name:"í’ˆì§ˆ",icon:"âœ¨",tags:[["masterpiece","ê±¸ì‘"],["best quality","ìµœê³ í’ˆì§ˆ"],["highly detailed","ìƒì„¸í•œ"],["8k","8K"],["sharp focus","ì„ ëª…"]]}}},sky:{name:"í•˜ëŠ˜",icon:"ğŸŒ…",items:{timeOfDay:{name:"ì‹œê°„ëŒ€",icon:"ğŸ•",type:"slider",min:0,max:100,default:50,labels:["ìƒˆë²½","ì•„ì¹¨","ë‚®","ì„ì–‘","ë°¤"],prompt:i=>i<15?"dawn, early morning":i<35?"morning, sunrise":i<65?"daytime, bright sky":i<85?"sunset, golden hour":"night, dark sky, stars"},skyColor:{name:"í•˜ëŠ˜ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(i,c=70,o=50)=>oe(i,c,o)+" colored sky"},weather:{name:"ë‚ ì”¨",icon:"ğŸŒ¤ï¸",tags:[["clear sky","ë§‘ìŒ"],["cloudy","íë¦¼"],["overcast","ì”ëœ©íë¦¼"],["rainy","ë¹„"],["snowy","ëˆˆ"],["foggy","ì•ˆê°œ"],["stormy","í­í’"]]},clouds:{name:"êµ¬ë¦„",icon:"â˜ï¸",type:"slider",min:0,max:100,default:30,labels:["ì—†ìŒ","ì•½ê°„","ë§ìŒ"],prompt:i=>i<20?"clear sky":"cloudy sky"},cloudColor:{name:"êµ¬ë¦„ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(i,c=30,o=80)=>oe(i,c,o)+" tinted clouds"}}},far:{name:"ì›ê²½",icon:"ğŸ”ï¸",items:{farBg:{name:"ë¨¼ë°°ê²½",icon:"ğŸ”ï¸",tags:[["none","ì—†ìŒ"],["mountains","ì‚°"],["city skyline","ë„ì‹œìŠ¤ì¹´ì´ë¼ì¸"],["forest horizon","ìˆ²ì§€í‰ì„ "],["ocean horizon","ë°”ë‹¤ìˆ˜í‰ì„ "],["desert dunes","ì‚¬ë§‰ì–¸ë•"]]},farDetail:{name:"ì›ê²½ë””í…Œì¼",icon:"ğŸ”­",type:"slider",min:0,max:100,default:30,labels:["íë¦¿","ë³´í†µ","ì„ ëª…"],prompt:i=>i<30?"blurry distant background":"sharp detailed background"}}},mid:{name:"ì¤‘ê²½",icon:"ğŸ ",items:{location:{name:"ì¥ì†Œ",icon:"ğŸ“",tags:[["city street","ë„ì‹œê±°ë¦¬"],["alley","ê³¨ëª©"],["park","ê³µì›"],["forest","ìˆ²ì†"],["beach","í•´ë³€"],["mountain path","ì‚°ê¸¸"],["river","ê°•ê°€"],["bridge","ë‹¤ë¦¬"]]},building:{name:"ê±´ë¬¼",icon:"ğŸ¢",tags:[["none","ì—†ìŒ"],["houses","ì£¼íƒ"],["apartments","ì•„íŒŒíŠ¸"],["skyscrapers","ë§ˆì²œë£¨"],["traditional houses","ì „í†µê°€ì˜¥"],["shops","ìƒì ê°€"],["school","í•™êµ"],["castle","ì„±"]]},interior:{name:"ì‹¤ë‚´",icon:"ğŸ ",tags:[["none","ì—†ìŒ"],["living room","ê±°ì‹¤"],["bedroom","ì¹¨ì‹¤"],["kitchen","ì£¼ë°©"],["cafe","ì¹´í˜"],["restaurant","ë ˆìŠ¤í† ë‘"],["classroom","êµì‹¤"],["library","ë„ì„œê´€"],["office","ì‚¬ë¬´ì‹¤"]]}}},near:{name:"ê·¼ê²½",icon:"ğŸ›¤ï¸",items:{ground:{name:"ë°”ë‹¥",icon:"ğŸ›¤ï¸",tags:[["asphalt","ì•„ìŠ¤íŒ”íŠ¸"],["concrete","ì½˜í¬ë¦¬íŠ¸"],["grass","ì”ë””"],["dirt","í™"],["sand","ëª¨ë˜"],["wood floor","ë‚˜ë¬´ë°”ë‹¥"],["tile","íƒ€ì¼"],["carpet","ì¹´í«"]]},foreground:{name:"ì „ê²½ë¬¼ì²´",icon:"ğŸŒ³",tags:[["none","ì—†ìŒ"],["trees","ë‚˜ë¬´"],["flowers","ê½ƒ"],["rocks","ë°”ìœ„"],["fence","ìš¸íƒ€ë¦¬"],["bench","ë²¤ì¹˜"],["street lamp","ê°€ë¡œë“±"],["car","ìë™ì°¨"]]},depthBlur:{name:"ì‹¬ë„(ë¸”ëŸ¬)",icon:"ğŸ“¸",type:"slider",min:0,max:100,default:0,labels:["ì—†ìŒ","ì•½ê°„","ê°•í•¨"],prompt:i=>i<20?"":"depth of field, bokeh"}}},light:{name:"ì¡°ëª…",icon:"ğŸ’¡",items:{lightType:{name:"ì¡°ëª…ì¢…ë¥˜",icon:"ğŸ’¡",tags:[["natural light","ìì—°ê´‘"],["cinematic lighting","ì‹œë„¤ë§ˆí‹±"],["soft lighting","ë¶€ë“œëŸ¬ìš´"],["dramatic lighting","ê·¹ì ì¸"],["backlight","ì—­ê´‘"],["rim light","ë¦¼ë¼ì´íŠ¸"],["neon lights","ë„¤ì˜¨"],["candlelight","ì´›ë¶ˆ"],["moonlight","ë‹¬ë¹›"],["spotlight","ìŠ¤í¬íŠ¸ë¼ì´íŠ¸"]]},lightColor:{name:"ì¡°ëª…ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(i,c=60,o=60)=>oe(i,c,o)+" colored lighting"},brightness:{name:"ë°ê¸°",icon:"â˜€ï¸",type:"slider",min:0,max:100,default:50,labels:["ì–´ë‘ì›€","ë³´í†µ","ë°ìŒ"],prompt:i=>i<30?"dark, low key":i>70?"bright, high key":""},contrast:{name:"ëŒ€ë¹„",icon:"â—",type:"slider",min:0,max:100,default:50,labels:["ë‚®ìŒ","ë³´í†µ","ë†’ìŒ"],prompt:i=>i<30?"low contrast, flat lighting":i>70?"high contrast, dramatic shadows":""},saturation:{name:"ì±„ë„",icon:"ğŸŒˆ",type:"slider",min:0,max:100,default:50,labels:["íƒí•¨","ë³´í†µ","ì„ ëª…"],prompt:i=>i<30?"desaturated, muted colors":i>70?"vibrant, saturated colors":""},ambientColor:{name:"í™˜ê²½ê´‘ìƒ‰",icon:"ğŸ¨",type:"hue",prompt:(i,c=40,o=50)=>oe(i,c,o)+" ambient light"}}},negative:{name:"ë„¤ê±°í‹°ë¸Œ",icon:"â›”",items:{negative:{name:"ì œì™¸í• ê²ƒ",icon:"â›”",tags:[["low quality","ì €í’ˆì§ˆ"],["blurry","íë¦°"],["ugly","ëª»ìƒê¸´"],["watermark","ì›Œí„°ë§ˆí¬"],["text","í…ìŠ¤íŠ¸"],["cropped","ì˜ë¦°"],["person","ì‚¬ëŒ"],["human","ì¸ë¬¼"],["character","ìºë¦­í„°"],["face","ì–¼êµ´"],["hand","ì†"],["animal","ë™ë¬¼"],["creature","ìƒë¬¼"],["logo","ë¡œê³ "],["signature","ì„œëª…"],["border","í…Œë‘ë¦¬"],["frame","í”„ë ˆì„"],["distorted","ì™œê³¡"],["oversaturated","ê³¼í¬í™”"],["overexposed","ë…¸ì¶œê³¼ë‹¤"],["underexposed","ë…¸ì¶œë¶€ì¡±"],["sky","í•˜ëŠ˜"],["clouds","êµ¬ë¦„"],["blue sky","íŒŒë€í•˜ëŠ˜"]],isNeg:!0}}}},Ga={style:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ¨",items:{artStyle:{name:"ê·¸ë¦¼ì²´",icon:"ğŸ¨",tags:[["webtoon style","ì›¹íˆ°"],["anime style","ì• ë‹ˆë©”"],["game asset","ê²Œì„ì–´ì…‹"],["concept art","ì»¨ì…‰ì•„íŠ¸"],["realistic","ì‹¤ì‚¬"],["cartoon","ì¹´íˆ°"],["pixel art","í”½ì…€"],["isometric","ë“±ê°íˆ¬ì˜"]]},quality:{name:"í’ˆì§ˆ",icon:"âœ¨",tags:[["masterpiece","ê±¸ì‘"],["best quality","ìµœê³ í’ˆì§ˆ"],["highly detailed","ìƒì„¸í•œ"],["sharp focus","ì„ ëª…"],["clean lines","ê¹”ë”í•œì„ "]]},renderStyle:{name:"ë Œë”ë§",icon:"ğŸ’",tags:[["flat shading","í”Œë«"],["cel shading","ì…€ì…°ì´ë”©"],["soft shading","ì†Œí”„íŠ¸"],["3d render","3Dë Œë”"],["hand painted","í•¸ë“œí˜ì¸íŠ¸"]]}}},category:{name:"ë¶„ë¥˜",icon:"ğŸ“¦",items:{itemType:{name:"ì¢…ë¥˜",icon:"ğŸ“¦",tags:[["weapon","ë¬´ê¸°"],["armor","ê°‘ì˜·"],["clothing","ì˜ë³µ"],["accessory","ì•…ì„¸ì„œë¦¬"],["tool","ë„êµ¬"],["furniture","ê°€êµ¬"],["vehicle","íƒˆê²ƒ"],["food","ìŒì‹"],["potion","ë¬¼ì•½"],["treasure","ë³´ë¬¼"],["plant","ì‹ë¬¼"],["material","ì¬ë£Œ"]]},size:{name:"í¬ê¸°",icon:"ğŸ“",tags:[["tiny","ì•„ì£¼ì‘ì€"],["small","ì‘ì€"],["medium","ì¤‘ê°„"],["large","í°"],["huge","ê±°ëŒ€í•œ"]]}}},weapon:{name:"ë¬´ê¸°",icon:"âš”ï¸",items:{weaponType:{name:"ì¢…ë¥˜",icon:"âš”ï¸",tags:[["sword","ê²€"],["longsword","ì¥ê²€"],["katana","ì¹´íƒ€ë‚˜"],["dagger","ë‹¨ê²€"],["spear","ì°½"],["halberd","ë¯¸ëŠ˜ì°½"],["axe","ë„ë¼"],["hammer","ë§ì¹˜"],["bow","í™œ"],["crossbow","ì„ê¶"],["staff","ì§€íŒ¡ì´"],["wand","ë§ˆë²•ë´‰"],["gun","ì´"],["rifle","ì†Œì´"],["pistol","ê¶Œì´"],["scythe","ë‚«"],["whip","ì±„ì°"],["shield","ë°©íŒ¨"]]},weaponMaterial:{name:"ì¬ì§ˆ",icon:"ğŸ”©",tags:[["steel","ê°•ì² "],["iron","ì² "],["bronze","ì²­ë™"],["gold","í™©ê¸ˆ"],["silver","ì€"],["obsidian","í‘ìš”ì„"],["crystal","ìˆ˜ì •"],["bone","ë¼ˆ"],["wood","ë‚˜ë¬´"],["magic","ë§ˆë²•"]]},weaponStyle:{name:"ìŠ¤íƒ€ì¼",icon:"ğŸ­",tags:[["medieval","ì¤‘ì„¸"],["fantasy","íŒíƒ€ì§€"],["oriental","ë™ì–‘"],["futuristic","ë¯¸ë˜"],["steampunk","ìŠ¤íŒ€í‘í¬"],["cursed","ì €ì£¼ë°›ì€"],["holy","ì‹ ì„±í•œ"],["demonic","ì•…ë§ˆì˜"],["legendary","ì „ì„¤ì˜"],["rusty","ë…¹ìŠ¨"],["ornate","ì¥ì‹ëœ"]]}}},clothing:{name:"ì˜ë³µ",icon:"ğŸ‘•",items:{clothingType:{name:"ì¢…ë¥˜",icon:"ğŸ‘•",tags:[["shirt","ì…”ì¸ "],["blouse","ë¸”ë¼ìš°ìŠ¤"],["jacket","ì¬í‚·"],["coat","ì½”íŠ¸"],["robe","ë¡œë¸Œ"],["dress","ë“œë ˆìŠ¤"],["pants","ë°”ì§€"],["skirt","ì¹˜ë§ˆ"],["cloak","ë§í† "],["cape","ì¼€ì´í”„"],["armor piece","ê°‘ì˜·ì¡°ê°"],["hat","ëª¨ì"],["gloves","ì¥ê°‘"],["boots","ë¶€ì¸ "],["belt","ë²¨íŠ¸"]]},fabric:{name:"ì›ë‹¨",icon:"ğŸ§µ",tags:[["cotton","ë©´"],["silk","ì‹¤í¬"],["wool","ì–‘ëª¨"],["leather","ê°€ì£½"],["velvet","ë²¨ë²³"],["lace","ë ˆì´ìŠ¤"],["denim","ë°ë‹˜"],["fur","ëª¨í”¼"],["chainmail","ì‚¬ìŠ¬ê°‘ì˜·"],["plate","íŒê¸ˆ"]]},clothingColor:{name:"ìƒ‰ìƒ",icon:"ğŸ¨",type:"hue",prompt:(i,c=70,o=50)=>oe(i,c,o)+" colored"}}},accessory:{name:"ì•…ì„¸ì„œë¦¬",icon:"ğŸ’",items:{accessoryType:{name:"ì¢…ë¥˜",icon:"ğŸ’",tags:[["ring","ë°˜ì§€"],["necklace","ëª©ê±¸ì´"],["bracelet","íŒ”ì°Œ"],["earring","ê·€ê±¸ì´"],["crown","ì™•ê´€"],["tiara","í‹°ì•„ë¼"],["hairpin","ë¨¸ë¦¬í•€"],["ribbon","ë¦¬ë³¸"],["brooch","ë¸Œë¡œì¹˜"],["amulet","ë¶€ì "],["pendant","íœë˜íŠ¸"],["glasses","ì•ˆê²½"],["mask","ê°€ë©´"],["bag","ê°€ë°©"],["backpack","ë°°ë‚­"]]},gemstone:{name:"ë³´ì„",icon:"ğŸ’",tags:[["diamond","ë‹¤ì´ì•„ëª¬ë“œ"],["ruby","ë£¨ë¹„"],["sapphire","ì‚¬íŒŒì´ì–´"],["emerald","ì—ë©”ë„ë“œ"],["amethyst","ììˆ˜ì •"],["pearl","ì§„ì£¼"],["topaz","í† íŒŒì¦ˆ"],["opal","ì˜¤íŒ”"]]}}},prop:{name:"ì†Œí’ˆ",icon:"ğŸº",items:{propType:{name:"ì¢…ë¥˜",icon:"ğŸº",tags:[["book","ì±…"],["scroll","ë‘ë£¨ë§ˆë¦¬"],["potion bottle","ë¬¼ì•½ë³‘"],["key","ì—´ì‡ "],["candle","ì–‘ì´ˆ"],["lantern","ëœí„´"],["chest","ìƒì"],["barrel","í†µ"],["crate","ë‚˜ë¬´ìƒì"],["vase","ê½ƒë³‘"],["mirror","ê±°ìš¸"],["clock","ì‹œê³„"],["compass","ë‚˜ì¹¨ë°˜"],["map","ì§€ë„"],["coin","ë™ì „"],["gem","ë³´ì„"],["skull","í•´ê³¨"],["flag","ê¹ƒë°œ"],["banner","í˜„ìˆ˜ë§‰"],["torch","íšƒë¶ˆ"]]},propMaterial:{name:"ì¬ì§ˆ",icon:"ğŸª¨",tags:[["wood","ë‚˜ë¬´"],["stone","ëŒ"],["metal","ê¸ˆì†"],["glass","ìœ ë¦¬"],["ceramic","ë„ìê¸°"],["fabric","ì²œ"],["paper","ì¢…ì´"],["crystal","ìˆ˜ì •"]]}}},view:{name:"êµ¬ë„",icon:"ğŸ“·",items:{viewAngle:{name:"ê°ë„",icon:"ğŸ“·",tags:[["front view","ì •ë©´"],["side view","ì¸¡ë©´"],["three quarter view","3/4ë·°"],["top view","ìœ„ì—ì„œ"],["isometric view","ë“±ê°ë·°"],["close up","í´ë¡œì¦ˆì—…"],["full view","ì „ì²´ë·°"]]},background:{name:"ë°°ê²½",icon:"ğŸ–¼ï¸",tags:[["#FFFFFF white background, pure white background, solid white background","í°ë°°ê²½ #FFFFFF"],["transparent background","íˆ¬ëª…ë°°ê²½"],["simple background","ë‹¨ìˆœë°°ê²½"],["gradient background","ê·¸ë¼ë°ì´ì…˜"],["dark background","ì–´ë‘ìš´ë°°ê²½"],["studio lighting","ìŠ¤íŠœë””ì˜¤ì¡°ëª…"],["#000000 black background, pure black background","ê²€ì •ë°°ê²½ #000000"]]}}},negative:{name:"ë„¤ê±°í‹°ë¸Œ",icon:"â›”",items:{negative:{name:"ì œì™¸í• ê²ƒ",icon:"â›”",tags:[["person","ì‚¬ëŒ"],["human","ì¸ë¬¼"],["character","ìºë¦­í„°"],["face","ì–¼êµ´"],["hand","ì†"],["body","ëª¸"],["animal","ë™ë¬¼"],["creature","ìƒë¬¼"],["low quality","ì €í’ˆì§ˆ"],["blurry","íë¦°"],["ugly","ëª»ìƒê¸´"],["watermark","ì›Œí„°ë§ˆí¬"],["text","í…ìŠ¤íŠ¸"],["logo","ë¡œê³ "],["multiple items","ì—¬ëŸ¬ê°œ"],["duplicate","ì¤‘ë³µ"],["sky","í•˜ëŠ˜"],["clouds","êµ¬ë¦„"]],isNeg:!0}}}},Ja=[{name:"âš”ï¸ íŒíƒ€ì§€ ê²€",icon:"âš”ï¸",data:{artStyle:["game asset","concept art"],quality:["masterpiece","best quality","highly detailed"],itemType:["weapon"],weaponType:["sword"],weaponMaterial:["steel"],weaponStyle:["fantasy","ornate"],viewAngle:["three quarter view"],background:["transparent background"]}},{name:"ğŸ¹ ë§ˆë²• í™œ",icon:"ğŸ¹",data:{artStyle:["game asset","concept art"],quality:["masterpiece","best quality"],itemType:["weapon"],weaponType:["bow"],weaponMaterial:["wood","magic"],weaponStyle:["fantasy","legendary"],viewAngle:["side view"],background:["transparent background"]}},{name:"ğŸ‘— ê³µì£¼ ë“œë ˆìŠ¤",icon:"ğŸ‘—",data:{artStyle:["webtoon style","concept art"],quality:["masterpiece","best quality","highly detailed"],itemType:["clothing"],clothingType:["dress"],fabric:["silk","lace"],viewAngle:["front view"],background:["white background"]}},{name:"ğŸ’ ë§ˆë²• ëª©ê±¸ì´",icon:"ğŸ’",data:{artStyle:["game asset"],quality:["masterpiece","highly detailed"],itemType:["accessory"],accessoryType:["necklace","pendant"],gemstone:["sapphire"],viewAngle:["front view"],background:["transparent background"]}},{name:"ğŸ“œ ê³ ëŒ€ ë‘ë£¨ë§ˆë¦¬",icon:"ğŸ“œ",data:{artStyle:["concept art"],quality:["best quality","highly detailed"],itemType:["tool"],propType:["scroll","book"],propMaterial:["paper"],viewAngle:["three quarter view"],background:["simple background"]}},{name:"ğŸ§ª ë¬¼ì•½ ì„¸íŠ¸",icon:"ğŸ§ª",data:{artStyle:["game asset","cartoon"],quality:["masterpiece","clean lines"],itemType:["potion"],propType:["potion bottle"],propMaterial:["glass"],viewAngle:["front view"],background:["transparent background"]}}],Ha=[{name:"âœ¨ ì¬ë²Œë‚¨ì£¼",icon:"âœ¨",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","8k","ultra detailed"],gender:["male"],age:28,height:188,headRatio:8.5,bodyType:65,hairStyle:["short hair","undercut"],hairColor:{h:30,s:20,l:10},eyeShape:["sharp eyes"],eyeColor:{h:30,s:40,l:35},expression:["cold","serious"],faceShape:["sharp jawline"],topLayer1:["shirt"],topLayer1Color:{h:0,s:0,l:98},topLayer2:["vest"],topLayer2Color:{h:0,s:0,l:15},topLayer3:["coat"],topLayer3Color:{h:0,s:0,l:10},bottom:["slacks"],bottomColor:{h:0,s:0,l:12},bodyPose:["standing"],viewAngle:["three quarter view"],mood:["dramatic","cinematic"]}},{name:"ğŸ’– ë¡œíŒì—¬ì£¼",icon:"ğŸ’–",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","8k","ultra detailed"],gender:["female"],age:20,height:165,headRatio:7,hairStyle:["very long hair","wavy hair"],hairBangs:["curtain bangs"],hairColor:{h:45,s:30,l:75},eyeSize:70,eyeShape:["big eyes"],eyeColor:{h:280,s:60,l:65},expression:["innocent","sparkling eyes"],faceShape:["oval face"],skinTone:{h:25,s:30,l:92},topLayer1:["dress"],topLayer1Color:{h:340,s:50,l:85},accessory:["ribbon","necklace"],bodyPose:["elegant pose"],viewAngle:["three quarter view"],mood:["soft","dreamy"]}},{name:"ğŸ–¤ ë¹ŒëŸ°ë‚¨ì£¼",icon:"ğŸ–¤",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","cinematic lighting"],gender:["male"],age:30,height:190,headRatio:8.5,bodyType:70,hairStyle:["medium hair","slicked back"],hairColor:{h:0,s:0,l:5},eyeShape:["sharp eyes","narrow eyes"],eyeColor:{h:0,s:80,l:45},expression:["smirk","menacing"],faceShape:["sharp jawline"],topLayer1:["turtleneck"],topLayer1Color:{h:0,s:0,l:8},topLayer3:["coat"],topLayer3Color:{h:0,s:100,l:25},bottom:["slacks"],bottomColor:{h:0,s:0,l:10},bodyPose:["arms crossed"],viewAngle:["low angle"],mood:["dark","dramatic"]}},{name:"ğŸŒ¸ í•˜ì´í‹´ì—¬ì£¼",icon:"ğŸŒ¸",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","vivid colors"],gender:["female"],age:17,height:163,headRatio:7,hairStyle:["long hair","straight hair"],hairBangs:["see-through bangs"],hairColor:{h:25,s:60,l:15},eyeSize:65,eyeShape:["round eyes"],expression:["blushing","shy"],topLayer1:["blouse"],topLayer1Color:{h:0,s:0,l:98},topLayer2:["cardigan"],topLayer2Color:{h:350,s:45,l:75},bottom:["pleated skirt"],bottomColor:{h:220,s:50,l:25},socks:["knee socks"],shoes:["loafers"],bodyPose:["standing"],viewAngle:["front view"],mood:["soft","cute"]}},{name:"âš”ï¸ ë¬´í˜‘ê²€ê°",icon:"âš”ï¸",data:{artStyle:["semi realistic","chinese painting style"],quality:["masterpiece","highly detailed","cinematic"],gender:["male"],age:25,height:182,bodyType:70,hairStyle:["long hair","ponytail"],hairColor:{h:0,s:0,l:8},eyeShape:["sharp eyes"],eyeColor:{h:30,s:50,l:30},expression:["cold","serious"],topLayer1:["hanfu"],topLayer1Color:{h:0,s:0,l:95},topLayer3:["robe"],topLayer3Color:{h:220,s:60,l:25},weapon:["sword"],bodyPose:["fighting pose"],viewAngle:["dynamic angle"],mood:["dramatic","epic"]}},{name:"ğŸ‘‘ í™©ë…€",icon:"ğŸ‘‘",data:{artStyle:["korean webtoon"],quality:["masterpiece","best quality","ornate details"],gender:["female"],age:22,height:168,headRatio:7.5,hairStyle:["very long hair","elegant updo"],hairColor:{h:45,s:25,l:85},eyeSize:60,eyeColor:{h:200,s:70,l:60},expression:["elegant","noble"],skinTone:{h:25,s:25,l:95},topLayer1:["royal dress"],topLayer1Color:{h:50,s:80,l:55},accessory:["crown","jewelry"],bodyPose:["elegant pose"],viewAngle:["three quarter view"],mood:["luxurious","majestic"]}},{name:"ğŸ—¡ï¸ ì–´ìŒ”ì‹ ",icon:"ğŸ—¡ï¸",data:{artStyle:["concept art","semi realistic"],quality:["masterpiece","highly detailed","dynamic lighting"],gender:["female"],age:24,height:170,bodyType:55,hairStyle:["short hair","asymmetrical"],hairColor:{h:270,s:30,l:20},eyeShape:["sharp eyes"],eyeColor:{h:180,s:80,l:50},expression:["cold","focused"],topLayer1:["bodysuit"],topLayer1Color:{h:0,s:0,l:12},topLayer3:["hooded cape"],topLayer3Color:{h:270,s:40,l:15},weapon:["dual daggers"],bodyPose:["action pose"],viewAngle:["dynamic angle"],mood:["dark","mysterious"]}},{name:"ğŸ”® ëŒ€ë§ˆë²•ì‚¬",icon:"ğŸ”®",data:{artStyle:["fantasy art","semi realistic"],quality:["masterpiece","highly detailed","magical effects"],gender:["male"],age:35,height:185,hairStyle:["long hair"],hairColor:{h:220,s:20,l:70},eyeColor:{h:200,s:100,l:60},expression:["wise","mysterious"],topLayer1:["robe"],topLayer1Color:{h:220,s:60,l:20},topLayer3:["cloak"],topLayer3Color:{h:270,s:50,l:25},weapon:["staff"],accessory:["magical orb"],bodyPose:["casting spell"],mood:["mystical","powerful"]}},{name:"ğŸ‰ ìš©ì¡±",icon:"ğŸ‰",data:{species:["dragon humanoid"],artStyle:["fantasy art","semi realistic"],quality:["masterpiece","highly detailed","intricate scales"],gender:["male"],age:500,height:195,bodyType:80,hairStyle:["long hair"],hairColor:{h:0,s:0,l:95},eyeColor:{h:50,s:100,l:50},expression:["fierce","proud"],skinTone:{h:220,s:30,l:40},topLayer1:["armor"],topLayer1Color:{h:220,s:50,l:30},accessory:["horns","scales"],bodyPose:["powerful stance"],mood:["epic","majestic"]}},{name:"ğŸ¤ K-POPë‚¨ëŒ",icon:"ğŸ¤",data:{artStyle:["semi realistic"],quality:["masterpiece","best quality","studio lighting"],gender:["male"],age:22,height:180,headRatio:8,bodyType:55,hairStyle:["two-block cut"],hairColor:{h:30,s:60,l:65},eyeShape:["sharp eyes"],eyeColor:{h:30,s:40,l:30},expression:["charismatic","smirk"],skinTone:{h:25,s:30,l:88},topLayer1:["crop top"],topLayer1Color:{h:0,s:0,l:10},topLayer2:["jacket"],topLayer2Color:{h:0,s:0,l:5},bottom:["leather pants"],bottomColor:{h:0,s:0,l:8},accessory:["earrings","chain necklace"],bodyPose:["cool pose"],mood:["stylish","edgy"]}},{name:"ğŸ’œ K-POPì—¬ëŒ",icon:"ğŸ’œ",data:{artStyle:["semi realistic"],quality:["masterpiece","best quality","soft lighting"],gender:["female"],age:20,height:167,headRatio:7.5,hairStyle:["long hair","wavy hair"],hairBangs:["curtain bangs"],hairColor:{h:330,s:40,l:45},eyeSize:60,eyeColor:{h:30,s:50,l:35},expression:["cute","wink"],skinTone:{h:25,s:25,l:92},topLayer1:["crop top"],topLayer1Color:{h:280,s:60,l:70},bottom:["mini skirt"],bottomColor:{h:0,s:0,l:15},socks:["thigh high"],shoes:["platform boots"],accessory:["choker","earrings"],bodyPose:["cute pose"],mood:["vibrant","energetic"]}},{name:"ğŸ–¼ï¸ ë¯¸ìˆ ì‘í’ˆí’",icon:"ğŸ–¼ï¸",data:{artStyle:["oil painting","classical art"],quality:["masterpiece","museum quality","fine art"],gender:["female"],age:25,hairStyle:["very long hair","flowing"],hairColor:{h:30,s:40,l:25},eyeColor:{h:30,s:50,l:40},expression:["serene","thoughtful"],topLayer1:["elegant dress"],topLayer1Color:{h:220,s:50,l:40},accessory:["pearl earrings"],bodyPose:["elegant pose"],viewAngle:["portrait"],mood:["classical","timeless"]}}],Va=[{name:"ğŸŒƒ ì‹œí‹°ë·°ì•¼ê²½",icon:"ğŸŒƒ",data:{artStyle:["webtoon style"],quality:["masterpiece","best quality","8k","cinematic"],location:["penthouse balcony"],building:["skyscrapers","city lights"],timeOfDay:90,lightType:["neon lights","ambient glow"],saturation:65,mood:["romantic","luxurious"]}},{name:"ğŸ›ï¸ ìœ ëŸ½ê¶ì „",icon:"ğŸ›ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","ornate details","grand scale"],interior:["palace hall"],lightType:["chandelier","golden light"],lightColor:{h:45,s:70,l:65},mood:["luxurious","elegant"]}},{name:"ğŸŒ¹ ì¥ë¯¸ì •ì›",icon:"ğŸŒ¹",data:{artStyle:["webtoon style"],quality:["masterpiece","best quality","detailed flowers"],location:["garden"],foreground:["rose bushes","flowers"],lightType:["soft sunlight"],timeOfDay:45,lightColor:{h:35,s:60,l:70},mood:["romantic","dreamy"]}},{name:"â˜• ê³ ê¸‰ì¹´í˜",icon:"â˜•",data:{artStyle:["webtoon style"],quality:["masterpiece","cozy atmosphere"],interior:["luxury cafe"],lightType:["warm ambient"],lightColor:{h:30,s:55,l:60},saturation:50,mood:["cozy","intimate"]}},{name:"ğŸ“š ë°©ê³¼í›„êµì‹¤",icon:"ğŸ“š",data:{artStyle:["webtoon style"],quality:["masterpiece","golden hour lighting"],interior:["empty classroom"],lightType:["sunset through window"],timeOfDay:70,lightColor:{h:25,s:80,l:55},mood:["nostalgic","warm"]}},{name:"ğŸŒ¸ ë²šê½ƒí†µí•™ë¡œ",icon:"ğŸŒ¸",data:{artStyle:["webtoon style"],quality:["masterpiece","particle effects","petals falling"],location:["cherry blossom street"],foreground:["cherry trees","falling petals"],lightType:["soft spring light"],timeOfDay:45,mood:["romantic","spring"]}},{name:"ğŸ« í•™êµì˜¥ìƒ",icon:"ğŸ«",data:{artStyle:["webtoon style"],quality:["masterpiece","wide angle"],location:["school rooftop"],farBg:["city skyline"],lightType:["natural light"],timeOfDay:50,mood:["nostalgic","peaceful"]}},{name:"ğŸ° ë§ˆì™•ì„±",icon:"ğŸ°",data:{artStyle:["concept art","dark fantasy"],quality:["masterpiece","highly detailed","epic scale"],building:["dark castle","gothic architecture"],farBg:["storm clouds","lightning"],timeOfDay:85,lightType:["dramatic lighting","red glow"],mood:["ominous","epic"]}},{name:"âœ¨ ë§ˆë²•ìˆ²",icon:"âœ¨",data:{artStyle:["fantasy art"],quality:["masterpiece","magical particles","bioluminescent"],location:["enchanted forest"],foreground:["glowing mushrooms","magical plants"],lightType:["ethereal glow"],timeOfDay:80,mood:["mystical","magical"]}},{name:"ğŸ‰ ìš©ì˜ë‘¥ì§€",icon:"ğŸ‰",data:{artStyle:["concept art"],quality:["masterpiece","epic scale","dramatic"],location:["dragon lair"],farBg:["volcanic mountains"],lightType:["fire glow","lava light"],mood:["dangerous","epic"]}},{name:"ğŸŒ… í™©ê¸ˆì‹œê°„",icon:"ğŸŒ…",data:{artStyle:["webtoon style"],quality:["masterpiece","lens flare","golden hour"],location:["rooftop"],farBg:["sunset sky"],timeOfDay:72,lightType:["backlight","rim light"],lightColor:{h:30,s:90,l:60},mood:["emotional","cinematic"]}},{name:"ğŸŒ§ï¸ ë¹„ì˜¤ëŠ”ê±°ë¦¬",icon:"ğŸŒ§ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","rain effects","reflections"],location:["city street"],weather:["rain","wet ground"],timeOfDay:65,lightType:["street lights","neon reflections"],mood:["melancholic","atmospheric"]}},{name:"â„ï¸ ê²¨ìš¸ëˆˆê¸¸",icon:"â„ï¸",data:{artStyle:["webtoon style"],quality:["masterpiece","snow particles","cold atmosphere"],location:["snowy street"],weather:["snowfall"],lightType:["soft winter light"],timeOfDay:55,mood:["peaceful","cold"]}},{name:"ğŸŒ™ ë‹¬ë¹›ì•„ë˜",icon:"ğŸŒ™",data:{artStyle:["webtoon style"],quality:["masterpiece","moonlit","atmospheric"],location:["garden"],timeOfDay:95,lightType:["moonlight","soft shadows"],mood:["mysterious","romantic"]}}],ye=[{id:"gemini-2.5-flash-image",name:"ë‚˜ë…¸ë°”ë‚˜ë‚˜ (2.5 Flash)",desc:"ë¹ ë¥¸ ìƒì„±, 1K í•´ìƒë„",maxSize:"1K",price:"~$0.039/ì¥",provider:"gemini"},{id:"gemini-3-pro-image-preview",name:"ë‚˜ë…¸ë°”ë‚˜ë‚˜ Pro (3 Pro)",desc:"ìµœê³  í’ˆì§ˆ, 2K/4K ì§€ì›, ì°¸ì¡°ì´ë¯¸ì§€ 14ì¥",maxSize:"4K",price:"ìœ ë£Œ (í”„ë¦¬ë¯¸ì—„)",provider:"gemini"}];function Et(i){const c=ye.find(o=>o.id===i);return(c==null?void 0:c.provider)||"gemini"}const Je=["gemini-3-pro-image-preview"],Pt=["1K","2K","4K"],qt=["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"],zt=i=>{var o,h,y,g,u;const c=((y=(h=(o=i.candidates)==null?void 0:o[0])==null?void 0:h.content)==null?void 0:y.parts)||[];for(const p of c){const E=((g=p.inlineData)==null?void 0:g.data)||((u=p.inline_data)==null?void 0:u.data);if(E)return E}return null};async function Mt(i,c,o=ye[0].id,h){const y=`https://generativelanguage.googleapis.com/v1beta/models/${o}:generateContent?key=${i}`,g={responseModalities:["TEXT","IMAGE"]},u=Je.includes(o);(h!=null&&h.aspectRatio||h!=null&&h.imageSize&&u)&&(g.imageConfig={},h.aspectRatio&&(g.imageConfig.aspectRatio=h.aspectRatio),h.imageSize&&u&&(g.imageConfig.imageSize=h.imageSize));const p={contents:[{parts:[{text:c}]}],generationConfig:g};console.log("[generateImage] ìš”ì²­:",JSON.stringify(p,null,2));const b=await(await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();if(console.log("[generateImage] ì‘ë‹µ:",b.error?b.error:"ì„±ê³µ"),b.error)throw new Error(b.error.message||"API ì˜¤ë¥˜");const N=zt(b);if(!N)throw new Error("ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨");return{base64:N,url:`data:image/png;base64,${N}`}}async function Ot(i,c,o){var N,P,ce,$,_,W,te,ne,O,v;let h=1024,y=1024;if(o!=null&&o.aspectRatio){const[C,j]=o.aspectRatio.split(":").map(Number);C>j?(h=1024,y=Math.round(1024*j/C)):(y=1024,h=Math.round(1024*C/j))}console.log("[generateImageModelScope] ì‘ì—… ì œì¶œ:",{prompt:c.slice(0,100),width:h,height:y});const g=await fetch("/api/modelscope?action=generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:i,prompt:c,width:h,height:y})}),u=await g.json();if(console.log("[generateImageModelScope] ì œì¶œ ì‘ë‹µ:",JSON.stringify(u,null,2)),u.error)throw new Error(u.error.message||u.error||"ModelScope API ì˜¤ë¥˜");if(u.errors){const C=typeof u.errors=="object"?JSON.stringify(u.errors):u.errors;throw new Error("ModelScope API ì˜¤ë¥˜: "+C)}if(!g.ok)throw new Error(`HTTP ${g.status}: ${u.message||"ìš”ì²­ ì‹¤íŒ¨"}`);if((P=(N=u.output)==null?void 0:N.output_images)!=null&&P[0])return await lt(u.output.output_images[0]);if(($=(ce=u.data)==null?void 0:ce[0])!=null&&$.url)return await lt(u.data[0].url);const p=u.task_id||((_=u.output)==null?void 0:_.task_id);if(!p)throw new Error("ì‘ì—… IDë¥¼ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤: "+JSON.stringify(u));const E=30,b=2e3;for(let C=0;C<E;C++){await new Promise(fe=>setTimeout(fe,b));const I=await(await fetch("/api/modelscope?action=poll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:i,taskId:p})})).json();console.log(`[generateImageModelScope] í´ë§ ${C+1}/${E}:`,I.task_status||I.status);const ie=I.task_status||I.status;if(ie==="SUCCEED"||ie==="SUCCESS"){const fe=((W=I.output_images)==null?void 0:W[0])||((ne=(te=I.output)==null?void 0:te.output_images)==null?void 0:ne[0])||((v=(O=I.result)==null?void 0:O.output_images)==null?void 0:v[0]);if(fe)return await lt(fe);throw new Error("ì´ë¯¸ì§€ URLì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")}else if(ie==="FAILED"||ie==="FAILURE")throw new Error("ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨: "+(I.message||I.error||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"))}throw new Error("ì´ë¯¸ì§€ ìƒì„± ì‹œê°„ ì´ˆê³¼ (60ì´ˆ)")}async function lt(i){const o=await(await fetch("/api/modelscope?action=fetch-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:i})})).json();if(o.error)throw new Error(o.error);return{base64:o.base64,url:o.url}}async function se(i,c,o,h=ye[0].id,y="image/png",g,u){const p=`https://generativelanguage.googleapis.com/v1beta/models/${h}:generateContent?key=${i}`,E=[{text:o},{inline_data:{mime_type:y,data:c}}];if(g){const te=(Array.isArray(g)?g:[g]).slice(0,14);for(const ne of te)ne&&E.push({inline_data:{mime_type:y,data:ne}})}const b={responseModalities:["TEXT","IMAGE"]},N=Je.includes(h);(u!=null&&u.aspectRatio||u!=null&&u.imageSize&&N)&&(b.imageConfig={},u.aspectRatio&&(b.imageConfig.aspectRatio=u.aspectRatio),u.imageSize&&N&&(b.imageConfig.imageSize=u.imageSize));const P={contents:[{parts:E}],generationConfig:b};console.log("[editImage] ìš”ì²­:",{model:h,mimeType:y,promptLength:o.length,imageDataLength:c.length,hasReference:!!g,referenceLength:(g==null?void 0:g.length)||0});const $=await(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();if(console.log("[editImage] ì‘ë‹µ:",$.error?$.error:"ì„±ê³µ"),$.error)throw new Error($.error.message||"API ì˜¤ë¥˜");const _=zt($);if(!_)throw new Error("ì´ë¯¸ì§€ í¸ì§‘ ì‹¤íŒ¨");return{base64:_,url:`data:image/png;base64,${_}`}}function Wa(i,c,o){const h=document.createElement("canvas");h.width=i.width,h.height=i.height,h.getContext("2d").putImageData(i,0,0);const g=document.createElement("canvas");g.width=c,g.height=o;const u=g.getContext("2d");return u.drawImage(h,0,0,c,o),u.getImageData(0,0,c,o)}function Ft(i,c){let o=c;(i.width!==c.width||i.height!==c.height)&&(console.warn(`[extractAlpha] ì´ë¯¸ì§€ í¬ê¸° ë¶ˆì¼ì¹˜! í°ë°°ê²½: ${i.width}x${i.height}, ê²€ì •ë°°ê²½: ${c.width}x${c.height}`),console.log("[extractAlpha] ê²€ì •ë°°ê²½ ì´ë¯¸ì§€ë¥¼ í°ë°°ê²½ í¬ê¸°ë¡œ ë¦¬ì‚¬ì´ì¦ˆí•©ë‹ˆë‹¤."),o=Wa(c,i.width,i.height));const h=i.width,y=i.height,g=i.data,u=o.data,p=new Uint8ClampedArray(g.length),E=Math.sqrt(765*255);for(let b=0;b<h*y;b++){const N=b*4,P=g[N],ce=g[N+1],$=g[N+2],_=u[N],W=u[N+1],te=u[N+2];let O=1-Math.sqrt(Math.pow(P-_,2)+Math.pow(ce-W,2)+Math.pow($-te,2))/E;O=Math.max(0,Math.min(1,O));let v=0,C=0,j=0;O>.01&&(v=_/O,C=W/O,j=te/O),p[N]=Math.round(Math.min(255,v)),p[N+1]=Math.round(Math.min(255,C)),p[N+2]=Math.round(Math.min(255,j)),p[N+3]=Math.round(O*255)}return new ImageData(p,h,y)}function He(i){return new Promise((c,o)=>{const h=new Image;h.onload=()=>{const y=document.createElement("canvas");y.width=h.width,y.height=h.height;const g=y.getContext("2d");g.drawImage(h,0,0),c(g.getImageData(0,0,y.width,y.height))},h.onerror=()=>o(new Error("ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨")),h.src=i})}function Kt(i){const c=document.createElement("canvas");return c.width=i.width,c.height=i.height,c.getContext("2d").putImageData(i,0,0),c.toDataURL("image/png")}async function we(i,c,o=ye[0].id,h){h==null||h("ê²€ì •ë°°ê²½ìœ¼ë¡œ ë³€í™˜ ì¤‘...");const y=await se(i,c,"Change the white background to solid pure black #000000. Keep everything else exactly the same. Do not modify the character at all, only change the background color.",o);h==null||h("íˆ¬ëª… ë°°ê²½ ìƒì„± ì¤‘...");const g=`data:image/png;base64,${c}`,[u,p]=await Promise.all([He(g),He(y.url)]),E=Ft(u,p);return Kt(E)}async function Xa(i,c,o=ye[0].id,h){h==null||h("í•˜ëŠ˜ì„ í°ìƒ‰ìœ¼ë¡œ ë³€í™˜ ì¤‘...");const y=await se(i,c,"Replace ONLY the sky area (clouds, sun, moon, stars, atmospheric elements) with solid pure white #FFFFFF. Keep ALL foreground elements exactly the same: buildings, mountains, trees, ground, water, characters, objects. Only change the sky to white, nothing else.",o);h==null||h("ê²€ì •ë°°ê²½ìœ¼ë¡œ ë³€í™˜ ì¤‘...");const g=await se(i,y.base64,"Change the white background/sky to solid pure black #000000. Keep everything else exactly the same. Do not modify any foreground elements, only change the white areas to black.",o);h==null||h("íˆ¬ëª… ë°°ê²½ ìƒì„± ì¤‘...");const[u,p]=await Promise.all([He(y.url),He(g.url)]),E=Ft(u,p);return Kt(E)}const ct=[{id:"style",name:"í™”í’",icon:"ğŸ¨",prompt:"match the art style and color palette"},{id:"pose",name:"í¬ì¦ˆ",icon:"ğŸƒ",prompt:"match the pose and body position"},{id:"outfit",name:"ì˜ìƒ",icon:"ğŸ‘•",prompt:"use the same outfit and clothing"},{id:"color",name:"ìƒ‰ê°",icon:"ğŸŒˆ",prompt:"use the same color scheme"},{id:"face",name:"ì–¼êµ´",icon:"ğŸ‘¤",prompt:"match the facial features"},{id:"bg",name:"ë°°ê²½",icon:"ğŸï¸",prompt:"use the same background"},{id:"object",name:"ì˜¤ë¸Œì íŠ¸",icon:"ğŸ“¦",prompt:"include this object in the image"}],Ya=(i,c)=>{if(!i||!c)return"";const o=Math.max(i,c);return o>=3e3?"4K":o>=1800?"2K":o>=800?"1K":"SD"};function Za({onImageGenerated:i}){const c=Fa(),{assets:o,addAsset:h,removeAsset:y}=Dt(),[g,u]=r.useState("char"),[p,E]=r.useState(""),[b,N]=r.useState(ye[0].id),[P,ce]=r.useState("1K"),[$,_]=r.useState("1:1"),[W,te]=r.useState(1),[ne,O]=r.useState(!1),[v,C]=r.useState([]),[j,I]=r.useState(-1),[ie,fe]=r.useState(240),[dt,ve]=r.useState(1),[Te,Ve]=r.useState({x:0,y:0}),[ht,Ae]=r.useState(!1),[mt,gt]=r.useState(!1),[pt,Ut]=r.useState({x:0,y:0}),[Le,ut]=r.useState("generate"),[_t,yt]=r.useState(!1),[ft,We]=r.useState(!1),[Bt,je]=r.useState(!1),[B,Re]=r.useState("same"),[Ee,Pe]=r.useState({pose:!0,expr:!0,angle:!0,cloth:!1}),[Gt,Jt]=r.useState("expression"),[Qa,es]=r.useState([]),[Ht,Vt]=r.useState("age"),[Wt,Xt]=r.useState(0),[Yt,Zt]=r.useState(100),[Xe,Qt]=r.useState([]),[ts,bt]=r.useState([]),[xt,as]=r.useState("style"),[qe,ss]=r.useState("korean webtoon"),[Ye,ns]=r.useState(1),[ea,G]=r.useState(0),[is,wt]=r.useState(!1),[Ze,Me]=r.useState([]),[Qe,rs]=r.useState("all"),[ls,vt]=r.useState(!1),[X,et]=r.useState(null),[Y,be]=r.useState(""),[Oe,Z]=r.useState(!1),[de,ke]=r.useState([]),[F,De]=r.useState({style:!0,expression:!0,pose:!1,background:!1}),[ae,ta]=r.useState("1K"),[he,aa]=r.useState("1:1"),[ze,sa]=r.useState(!1),[me,ge]=r.useState("select"),[tt,L]=r.useState(null),[re,na]=r.useState(!1),[Fe,ia]=r.useState("1x1"),[Ce,q]=r.useState([]),[at,st]=r.useState(null),ra=r.useCallback(t=>{ce(t),(t==="2K"||t==="4K")&&(Je.includes(b)||N("gemini-3-pro-image-preview"))},[b]),[la,oa]=r.useState({cat:"basic",values:{},negTags:["low quality","blurry","bad anatomy","extra limbs","bad hands","multiple characters"],refImgs:[]}),[ca,da]=r.useState({cat:"style",values:{},negTags:["low quality","blurry","watermark","text"],refImgs:[]}),[ha,ma]=r.useState({cat:"style",values:{},negTags:["person","human","character","face","hand","low quality","blurry"],refImgs:[]}),[K,J]=r.useState([]),[Ne,jt]=r.useState(()=>{const t=localStorage.getItem("ai-studio-custom-presets");return t?JSON.parse(t):[]}),[Se,kt]=r.useState(""),[ga,$e]=r.useState(!1),[U,Ct]=r.useState(0),[H,Nt]=r.useState(70),[V,St]=r.useState(50),[pa,Ke]=r.useState(()=>{const t=localStorage.getItem("ai-studio-color-palette"),a=t?JSON.parse(t):[],s=new Array(40).fill(null);return a.forEach((n,l)=>{l<40&&(s[l]=n)}),s}),[xe,Ue]=r.useState(null),x=g==="char"?la:g==="bg"?ca:ha,S=g==="char"?oa:g==="bg"?da:ma,Ie=g==="char"?_a:g==="bg"?Ba:Ga,ua=g==="char"?Ha:g==="bg"?Va:Ja,ya=r.useCallback(t=>{S(a=>({...a,cat:t}))},[S]),fa=r.useCallback((t,a,s)=>{S(n=>{if(s){const l=n.negTags.includes(a)?n.negTags.filter(d=>d!==a):[...n.negTags,a];return{...n,negTags:l}}else{const l=n.values[t];let d;return Array.isArray(l)?d=l.includes(a)?l.filter(w=>w!==a):[...l,a]:d=[a],{...n,values:{...n.values,[t]:d.length>0?d:void 0}}}})},[S]),$t=r.useCallback((t,a)=>{S(s=>({...s,values:{...s.values,[t]:a}}))},[S]);r.useCallback((t,a,s)=>{S(n=>{const l=n.values[t]||{h:30,l:50};return{...n,values:{...n.values,[t]:{...l,[a]:s}}}})},[S]);const It=r.useCallback(t=>{S(a=>({...a,values:{...a.values,[t]:{h:U,s:H,l:V}}})),Ke(a=>{if(a.some(l=>l&&l.h===U&&l.s===H&&l.l===V))return a;const n=[{h:U,s:H,l:V},...a].slice(0,40);return localStorage.setItem("ai-studio-color-palette",JSON.stringify(n)),n})},[U,H,V,S]),ba=r.useCallback((t,a)=>{S(s=>{if(a)return{...s,negTags:[]};const n={...s.values};return delete n[t],delete n[t+"Color"],delete n[t+"Str"],{...s,values:n}})},[S]),Tt=r.useCallback(t=>{S(a=>({...a,values:{...t.data}}))},[S]),xa=r.useCallback(()=>{S(t=>({...t,values:{}}))},[S]),At=r.useCallback(()=>{if(!Se.trim()){alert("í”„ë¦¬ì…‹ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”");return}const t={name:Se.trim(),icon:g==="char"?"ğŸ‘¤":"ğŸ™ï¸",data:{...x.values}},a=[...Ne,t];jt(a),localStorage.setItem("ai-studio-custom-presets",JSON.stringify(a)),kt(""),$e(!1),alert(`"${Se}" í”„ë¦¬ì…‹ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤`)},[Se,g,x.values,Ne]),wa=r.useCallback(t=>{if(!confirm("ì´ í”„ë¦¬ì…‹ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))return;const a=Ne.filter((s,n)=>n!==t);jt(a),localStorage.setItem("ai-studio-custom-presets",JSON.stringify(a))},[Ne]),nt=r.useCallback(async t=>{const a=[];for(const s of Array.from(t)){if(x.refImgs.length+a.length>=14)break;const n=URL.createObjectURL(s),l=await le(s);a.push({url:n,b64:l,type:"style",strength:.8})}S(s=>({...s,refImgs:[...s.refImgs,...a]}))},[x.refImgs.length,S]),va=r.useCallback(t=>{S(a=>({...a,refImgs:a.refImgs.filter((s,n)=>n!==t)}))},[S]),ja=r.useCallback((t,a)=>{S(s=>({...s,refImgs:s.refImgs.map((n,l)=>l===t?{...n,type:a}:n)}))},[S]);r.useCallback((t,a)=>{S(s=>({...s,refImgs:s.refImgs.map((n,l)=>l===t?{...n,strength:a}:n)}))},[S]);const D=r.useMemo(()=>{const t=[];Object.values(Ie).forEach(s=>{Object.entries(s.items).forEach(([n,l])=>{if("isNeg"in l&&l.isNeg)return;const d=x.values[n];if(d==null||d===""||Array.isArray(d)&&d.length===0)return;let w="";if("type"in l&&l.type){const f=l;if(f.type==="hue"||f.type==="skin"){const A=d;w=f.prompt(A.h,A.s??70,A.l)}else w=f.prompt(d)}else if("tags"in l){const f=l,M=(Array.isArray(d)?d:[d]).filter(m=>m&&m!=="none"&&!m.startsWith("no ")&&!m.startsWith("empty"));if(M.length===0)return;if(f.hasColor&&x.values[n+"Color"]){const m=x.values[n+"Color"];w=M.map(R=>oe(m.h,m.s??70,m.l)+" colored "+R).join(", ")}else w=M.join(", ")}if(w){const f=x.values[n+"Str"]??1;t.push(f!==1?`(${w}:${f})`:w)}})});let a=t.join(", ");if(Fe!=="1x1"){const s=parseInt(Fe.split("x")[0]),n=s*s,l=`${s}x${s} grid layout, ${n} different variations arranged in a grid`;g==="char"?a=`${l}, ${n} different characters with different poses/expressions/outfits, each in separate grid cell, pure white background, ${a}. Reference sheet style, character turnaround.`:g==="asset"?a=`${l}, ${n} different items/variations, each in separate grid cell, product catalog layout, pure white background, ${a}. Item sheet, asset variations.`:a=`${l}, ${n} different scene variations, each in separate grid cell, ${a}. Environment concept art sheet.`}else g==="char"?a=`A single character, full body, pure white background, ${a}. Only ONE character.`:g==="asset"&&(a=`A single item, product shot, centered, pure white background, solid white background #FFFFFF, ${a}. Only ONE object, no person, no character, isolated object on white.`);return a},[Ie,x.values,g,Fe]),_e=r.useMemo(()=>x.negTags.join(", "),[x.negTags]);r.useMemo(()=>Qe==="all"?o:o.filter(t=>t.category===Qe),[o,Qe]);const ka=r.useCallback(async(t,a)=>{let s;if(x.refImgs.length>0){const n=x.refImgs.map(l=>l.b64);s=await se(p,n[0],t,b,"image/png",n.slice(1),{imageSize:P,aspectRatio:$})}else Et(b)==="modelscope"?s=await Ot(p,t,{aspectRatio:$}):s=await Mt(p,t,b,{imageSize:P,aspectRatio:$});if(re){L(`ì´ë¯¸ì§€ ${a+1} íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...`);const n=await we(p,s.base64,b,d=>L(`ì´ë¯¸ì§€ ${a+1}: ${d}`)),l=n.split(",")[1];return{url:n,b64:l,prompt:`[íˆ¬ëª…ë°°ê²½] ${t}`}}return{url:s.url,b64:s.base64,prompt:t}},[p,x.refImgs,b,P,$,re]),Ca=r.useCallback(()=>{at&&at.abort(),q([]),O(!1),L(null),st(null)},[at]),Na=r.useCallback(t=>{q(a=>a.map(s=>s.id===t?{...s,status:"cancelled"}:s))},[]),Sa=r.useCallback(async()=>{if(!p){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}if(re&&!window.confirm(`âš ï¸ íˆ¬ëª…ë°°ê²½ ìƒì„± ì•ˆë‚´

â€¢ í°ë°°ê²½ ì´ë¯¸ì§€ ìƒì„± í›„ ê²€ì •ë°°ê²½ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì•ŒíŒŒ ì±„ë„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
â€¢ ì¼ë°˜ ìƒì„±ë³´ë‹¤ 2ë°°ì˜ API í˜¸ì¶œì´ í•„ìš”í•©ë‹ˆë‹¤.
â€¢ ì²˜ë¦¬ ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.

ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))return;O(!0);const t=new AbortController;st(t);const a=Array.from({length:W},(s,n)=>({id:`gen-${Date.now()}-${n}`,index:n,status:"generating"}));q(a);try{let s=D;if(x.refImgs.length>0){const m=ot(x.refImgs);s+=`

`+m}x.negTags.length>0&&(s+=`

Avoid: ${_e}`);const n=(m,R,T)=>{q(ee=>ee.map(z=>z.id===m?{...z,progress:R,...T?{status:T}:{}}:z))},l=async m=>{const R=Ce.find(T=>T.id===m.id);if((R==null?void 0:R.status)==="cancelled")return{slotId:m.id,result:null,failed:!1};try{n(m.id,"API í˜¸ì¶œ ì¤‘...");let T;if(x.refImgs.length>0){n(m.id,"ì°¸ì¡° ì´ë¯¸ì§€ ì²˜ë¦¬ ì¤‘...");const z=x.refImgs.map(pe=>pe.b64);T=await se(p,z[0],s,b,"image/png",z.slice(1),{imageSize:P,aspectRatio:$})}else n(m.id,"ì´ë¯¸ì§€ ìƒì„± ì¤‘..."),Et(b)==="modelscope"?T=await Ot(p,s,{aspectRatio:$}):T=await Mt(p,s,b,{imageSize:P,aspectRatio:$});if(n(m.id,"ì´ë¯¸ì§€ ìˆ˜ì‹  ì™„ë£Œ"),re){n(m.id,"íˆ¬ëª…í™” ì¤€ë¹„...","transparent");const z=await we(p,T.base64,b,za=>n(m.id,za,"transparent")),pe=z.split(",")[1],Rt=await Ge(z);return{slotId:m.id,result:{url:z,b64:pe,prompt:`[íˆ¬ëª…ë°°ê²½] ${s}`,width:Rt.width,height:Rt.height,createdAt:Date.now()},failed:!1}}const ee=await Ge(T.url);return{slotId:m.id,result:{url:T.url,b64:T.base64,prompt:s,width:ee.width,height:ee.height,createdAt:Date.now()},failed:!1}}catch(T){const ee=T instanceof Error?T.message:"ìƒì„± ì‹¤íŒ¨";return q(z=>z.map(pe=>pe.id===m.id?{...pe,status:"failed",error:ee,progress:"ì‹¤íŒ¨"}:pe)),{slotId:m.id,result:null,failed:!0}}},d=a.map(m=>l(m)),w=await Promise.all(d),f=w.filter(m=>m.result!==null&&!m.failed).map(m=>m.result).reverse(),A=w.filter(m=>m.result!==null&&!m.failed).map(m=>m.slotId);q(m=>m.filter(R=>!A.includes(R.id))),f.length>0&&(J(m=>[...f,...m]),f.forEach(m=>{i==null||i(m.url,m.prompt||""),h({url:m.url,prompt:m.prompt,category:g==="char"?"character":"background",source:"whiteboard"})}));const M=w.filter(m=>m.failed).length;M>0&&console.log(`${M}ê°œ ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨`)}catch(s){s instanceof Error&&s.name==="AbortError"?console.log("ìƒì„±ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤"):(console.error("ìƒì„± ì˜¤ë¥˜:",s),alert(s instanceof Error?s.message:"ìƒì„± ì‹¤íŒ¨"))}finally{O(!1),L(null),q(s=>s.filter(n=>n.status==="failed")),st(null)}},[p,W,D,x.refImgs,x.negTags,_e,ka,re,i,Ce]),$a=r.useCallback((t,a)=>{const s=document.createElement("a");s.href=t.url,s.download=`image_${Date.now()}_${a}.png`,s.click()},[]),Ia=r.useCallback(()=>{confirm("ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&J([])},[]),Ta=r.useCallback((t,a)=>{if(a.ctrlKey||a.metaKey)C(s=>{if(s.includes(t)){const n=s.filter(l=>l!==t);return j===t&&I(n.length>0?n[0]:-1),n}else return[...s,t].sort((n,l)=>n-l)});else if(a.shiftKey&&v.length>0){const s=v[v.length-1],n=Math.min(s,t),l=Math.max(s,t),d=Array.from({length:l-n+1},(w,f)=>n+f);C(w=>[...new Set([...w,...d])].sort((f,A)=>f-A)),I(t)}else C([t]),I(t)},[v,j]),Be=r.useCallback(()=>{C([]),I(-1)},[]),Lt=r.useCallback(()=>{C(K.map((t,a)=>a)),I(0)},[K]);r.useCallback(()=>{if(v.length===0)return;const t=v.indexOf(j);t>0&&I(v[t-1])},[v,j]),r.useCallback(()=>{if(v.length===0)return;const t=v.indexOf(j);t<v.length-1&&I(v[t+1])},[v,j]);const Q=j>=0?K[j]:null,k=v.map(t=>K[t]).filter(Boolean),it=r.useCallback(()=>{v.length!==0&&confirm(`ì„ íƒí•œ ${v.length}ê°œ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)&&(J(t=>t.filter((a,s)=>!v.includes(s))),C([]),I(-1))},[v]),rt=r.useCallback(t=>{if(!(t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLInputElement)&&K.length!==0)if(t.key==="ArrowUp"){t.preventDefault();const a=j>=0?j:0,s=a>0?a-1:K.length-1;C([s]),I(s)}else if(t.key==="ArrowDown"){t.preventDefault();const a=j>=0?j:-1,s=a<K.length-1?a+1:0;C([s]),I(s)}else t.key==="Escape"?Be():t.key==="a"&&(t.ctrlKey||t.metaKey)?(t.preventDefault(),Lt()):t.key==="Delete"&&v.length>0&&it()},[v,j,K,Be,Lt,it]);r.useEffect(()=>(window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)),[rt]),r.useEffect(()=>{const t=s=>{s.code==="Space"&&!s.repeat&&!(s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLInputElement)&&(s.preventDefault(),gt(!0))},a=s=>{s.code==="Space"&&(gt(!1),Ae(!1))};return window.addEventListener("keydown",t),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",a)}},[]),r.useEffect(()=>{ve(1),Ve({x:0,y:0})},[j]);const Aa=r.useCallback(t=>{confirm("ì´ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&(J(a=>a.filter((s,n)=>n!==t)),C(a=>a.filter(s=>s!==t).map(s=>s>t?s-1:s)),j===t?I(-1):j>t&&I(a=>a-1))},[j]),La=r.useCallback(t=>{t.preventDefault(),yt(!0);const a=t.clientX,s=ie,n=d=>{const w=d.clientX-a,f=Math.min(Math.max(s+w,180),400);fe(f)},l=()=>{yt(!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",l)},[ie]),Ra=r.useCallback(async t=>{const a=t.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d,prompt:`[ì—…ë¡œë“œ] ${n.name}`})}J(n=>[...s,...n]),t.target.value=""},[]),Ea=r.useCallback(async t=>{t.preventDefault(),We(!1);const a=t.dataTransfer.files;if(!a.length)return;const s=[];for(const n of Array.from(a)){if(!n.type.startsWith("image/"))continue;const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d,prompt:`[ì—…ë¡œë“œ] ${n.name}`})}s.length>0&&J(n=>[...s,...n])},[]),Pa=r.useCallback(t=>{t.preventDefault(),t.stopPropagation(),We(!0)},[]),qa=r.useCallback(t=>{t.preventDefault(),t.stopPropagation();const a=t.currentTarget.getBoundingClientRect(),s=t.clientX,n=t.clientY;s>=a.left&&s<=a.right&&n>=a.top&&n<=a.bottom||We(!1)},[]);r.useCallback(async t=>{const a=t.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d})}Qt(n=>[...n,...s]),t.target.value=""},[]),r.useCallback(async t=>{const a=[];for(const s of Array.from(t)){if(Ze.length+a.length>=14)break;const n=URL.createObjectURL(s),l=await le(s);a.push({url:n,b64:l,type:"style",strength:.8})}Me(s=>[...s,...a])},[Ze.length]),r.useCallback(t=>{Me(a=>a.filter((s,n)=>n!==t))},[]),r.useCallback((t,a)=>{Me(s=>s.map((n,l)=>l===t?{...n,type:a}:n))},[]),r.useCallback((t,a)=>{Me(s=>s.map((n,l)=>l===t?{...n,strength:a}:n))},[]),r.useCallback(async()=>{if(!p||Xe.length===0){alert("API í‚¤ì™€ ë³€í™˜í•  ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•˜ì„¸ìš”");return}wt(!0),G(0),bt([]);const t={style:`Convert this image to ${qe} art style. Keep the composition and subject the same.`,full:`Completely redraw this image in ${qe} style. Reimagine all elements.`,color:`Adjust the color palette of this image to match ${qe} aesthetic. Keep everything else the same.`,pose:"Change the pose of the character in this image to a different pose. Keep the same character, style, and background. Use reference images for the new pose if provided.",angle:"Change the camera angle/view of this image. Keep the same subject and style but show it from a different perspective. Use reference images if provided.",expression:"Change the facial expression of the character in this image. Keep everything else the same - same pose, clothes, background.",lineart:"Extract clean line art from this image. Black lines on white background, no colors.",sketch:"Convert this image to a pencil sketch style. Grayscale, hand-drawn look.",enhance:"Enhance this image with better quality, sharper details, and improved lighting.",upscale:"Upscale and enhance this image while preserving all details.",removebg:"Remove the background and make it pure white. Keep the main subject intact.",nightify:"Convert this daytime scene to a nighttime scene. Add moonlight and stars.",dayify:"Convert this nighttime scene to a daytime scene. Add sunlight and blue sky."};let a=t[xt]||t.style;if(x.refImgs.length>0){const d=ot(x.refImgs);a+=`

`+d}const s=[];Xe.forEach((d,w)=>{for(let f=0;f<Ye;f++)s.push({input:d,idx:w*Ye+f})});const n=s.length;let l=0;try{const d=s.map(async({input:f})=>{const A=x.refImgs.map(m=>m.b64),M=await se(p,f.b64,a,b,"image/png",A.length>0?A:void 0,{imageSize:P,aspectRatio:$});return l++,G(l/n*100),{url:M.url,b64:M.base64,prompt:a}}),w=await Promise.all(d);bt(w),w.forEach(f=>{h({url:f.url,prompt:f.prompt,category:"batch",source:"whiteboard"})})}catch(d){console.error("ë°°ì¹˜ ì˜¤ë¥˜:",d),alert(d instanceof Error?d.message:"ë°°ì¹˜ ì²˜ë¦¬ ì‹¤íŒ¨")}finally{wt(!1)}},[p,Xe,Ye,xt,qe,Ze,b,P,$,h]),r.useCallback(t=>{et(t),be(""),vt(!0)},[]),r.useCallback(async()=>{if(!p||!X||!Y.trim()){alert("API í‚¤ì™€ í¸ì§‘ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}Z(!0);try{const t=await se(p,X.b64,Y,b,"image/png",void 0,{imageSize:P,aspectRatio:$});et({url:t.url,b64:t.base64,prompt:Y})}catch(t){console.error("í¸ì§‘ ì˜¤ë¥˜:",t),alert(t instanceof Error?t.message:"í¸ì§‘ ì‹¤íŒ¨")}finally{Z(!1)}},[p,X,Y,b,P,$]),r.useCallback(()=>{X&&(J(t=>[X,...t]),vt(!1))},[X]),r.useCallback(async(t,a)=>{if(!p){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}L(`ì´ë¯¸ì§€ ${a+1} íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...`);try{const s=await we(p,t.b64,b,d=>L(`ì´ë¯¸ì§€ ${a+1}: ${d}`)),n=s.split(",")[1],l={url:s,b64:n,prompt:`[íˆ¬ëª…ë°°ê²½] ${t.prompt||""}`};J(d=>[l,...d]),i==null||i(s,l.prompt||"")}catch(s){console.error("íˆ¬ëª…í™” ì˜¤ë¥˜:",s),alert(s instanceof Error?s.message:"íˆ¬ëª…í™” ì‹¤íŒ¨")}finally{L(null)}},[p,b,i]),r.useCallback(async()=>{if(!p||!X){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}Z(!0),L("íˆ¬ëª…í™” ì²˜ë¦¬ ì¤‘...");try{const t=await we(p,X.b64,b,s=>L(s)),a=t.split(",")[1];et({url:t,b64:a,prompt:`[íˆ¬ëª…ë°°ê²½] ${X.prompt||""}`})}catch(t){console.error("íˆ¬ëª…í™” ì˜¤ë¥˜:",t),alert(t instanceof Error?t.message:"íˆ¬ëª…í™” ì‹¤íŒ¨")}finally{Z(!1),L(null)}},[p,X,b]);const Ma=(t,a)=>{if(!a||Array.isArray(a)&&a.length===0)return"";if("type"in t&&t.type==="slider")return`${a}${t.unit||""}`;if("type"in t&&(t.type==="hue"||t.type==="skin")){const s=a;return Ua(s.h,s.l)}if("tags"in t){const s=t,n=Array.isArray(a)?a:[a],l=n.slice(0,2).map(d=>{var w;return((w=s.tags.find(f=>f[0]===d))==null?void 0:w[1])||d}).join(", ");return n.length>2?l+"...":l}return String(a)},Oa=t=>{const a=Ie[t];return Object.keys(a.items).some(s=>{const n=x.values[s];return n!=null&&n!==""&&!(Array.isArray(n)&&n.length===0)})};return e.jsxs("div",{className:"ai-studio",children:[e.jsxs("header",{className:"studio-header",children:[e.jsx("button",{className:"nav-btn back-btn",onClick:()=>c("/workspace"),children:"â† ì›Œí¬ìŠ¤í˜ì´ìŠ¤"}),e.jsx("div",{className:"logo",children:"ğŸ¨ AI ìŠ¤íŠœë””ì˜¤"}),e.jsxs("div",{className:"header-controls",children:[e.jsx("input",{type:"password",className:"inp api-input",value:p,onChange:t=>E(t.target.value),placeholder:"ğŸ”‘ API Key"}),e.jsx("select",{className:"sel model-select",value:b,onChange:t=>N(t.target.value),title:"AI ëª¨ë¸",children:ye.map(t=>e.jsx("option",{value:t.id,title:`${t.desc} | ${t.price}`,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"studio-main",children:[e.jsxs("div",{className:"left-panel",children:[e.jsxs("div",{className:"page-tabs",children:[e.jsx("button",{className:`page-tab ${g==="char"?"active":""}`,onClick:()=>u("char"),children:"ğŸ‘¤ ìºë¦­í„°"}),e.jsx("button",{className:`page-tab ${g==="bg"?"active":""}`,onClick:()=>u("bg"),children:"ğŸ™ï¸ ë°°ê²½"}),e.jsx("button",{className:`page-tab ${g==="asset"?"active":""}`,onClick:()=>u("asset"),children:"ğŸ“¦ ì–´ì…‹"})]}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left-panel-actions",children:e.jsx("button",{className:"btn-reset",onClick:xa,title:"ëª¨ë“  ì„¤ì • ì´ˆê¸°í™”",children:"ğŸ”„ ì´ˆê¸°í™”"})}),e.jsx("div",{className:"cat-bar",children:Object.entries(Ie).map(([t,a])=>e.jsxs("button",{className:`cat-btn ${x.cat===t?"active":""} ${Oa(t)?"has-val":""}`,onClick:()=>ya(t),children:[e.jsx("span",{className:"dot"}),a.icon," ",a.name]},t))}),e.jsx("div",{className:"settings",children:Da()}),e.jsxs("div",{className:"panel-section preset-section-left",children:[e.jsxs("div",{className:"panel-title",children:[e.jsx("span",{children:"ğŸ“š"})," í”„ë¦¬ì…‹",e.jsx("button",{className:"btn-add-preset-sm",onClick:()=>$e(!0),children:"+ ì €ì¥"})]}),e.jsxs("div",{className:"preset-grid-left",children:[Ne.map((t,a)=>e.jsxs("div",{className:"preset-chip custom",onClick:()=>Tt(t),children:[e.jsx("span",{children:t.name}),e.jsx("button",{className:"preset-del",onClick:s=>{s.stopPropagation(),wa(a)},children:"Ã—"})]},`c-${a}`)),ua.map((t,a)=>e.jsx("div",{className:"preset-chip",onClick:()=>Tt(t),children:t.name},a))]})]}),e.jsxs("div",{className:"panel-section color-picker-section",children:[e.jsxs("div",{className:"panel-title",children:[e.jsx("span",{children:"ğŸ¨"})," ìƒ‰ìƒ ì„ íƒ"]}),e.jsx("div",{className:"color-preview-box",style:{background:ue(U,H,V)},children:e.jsx("span",{className:"color-hex-label",children:ue(U,H,V)})}),e.jsxs("div",{className:"color-slider-row",children:[e.jsx("span",{className:"color-slider-label",children:"ìƒ‰ìƒ"}),e.jsx("div",{className:"color-slider-track hue-track",children:e.jsx("input",{type:"range",min:0,max:360,value:U,onChange:t=>Ct(Number(t.target.value))})}),e.jsxs("span",{className:"color-slider-value",children:[U,"Â°"]})]}),e.jsxs("div",{className:"color-slider-row",children:[e.jsx("span",{className:"color-slider-label",children:"ì±„ë„"}),e.jsx("div",{className:"color-slider-track sat-track",style:{"--hue":U,"--light":V},children:e.jsx("input",{type:"range",min:0,max:100,value:H,onChange:t=>Nt(Number(t.target.value))})}),e.jsxs("span",{className:"color-slider-value",children:[H,"%"]})]}),e.jsxs("div",{className:"color-slider-row",children:[e.jsx("span",{className:"color-slider-label",children:"ëª…ë„"}),e.jsx("div",{className:"color-slider-track light-track",style:{"--hue":U,"--sat":H},children:e.jsx("input",{type:"range",min:5,max:95,value:V,onChange:t=>St(Number(t.target.value))})}),e.jsxs("span",{className:"color-slider-value",children:[V,"%"]})]}),e.jsxs("div",{className:"mini-palette",children:[e.jsxs("div",{className:"mini-palette-header",children:[e.jsx("span",{className:"mini-palette-label",children:"íŒ”ë ˆíŠ¸"}),e.jsx("button",{className:`btn-bucket ${xe!==null?"active":""}`,onClick:()=>{xe!==null&&(Ke(t=>{const a=[...t];return a[xe]={h:U,s:H,l:V},localStorage.setItem("ai-studio-color-palette",JSON.stringify(a)),a}),Ue(null))},disabled:xe===null,title:"ì„ íƒëœ ì¹¸ì— í˜„ì¬ ìƒ‰ìƒ ì±„ìš°ê¸°",children:"ğŸª£"}),e.jsx("button",{className:"btn-clear-palette",onClick:()=>{Ke(new Array(40).fill(null)),localStorage.setItem("ai-studio-color-palette",JSON.stringify(new Array(40).fill(null))),Ue(null)},title:"íŒ”ë ˆíŠ¸ ì´ˆê¸°í™”",children:"âœ•"})]}),e.jsx("div",{className:"mini-palette-grid-40",children:pa.map((t,a)=>e.jsx("button",{className:`mini-palette-slot ${t?"filled":"empty"} ${xe===a?"slot-selected":""} ${t&&U===t.h&&H===t.s&&V===t.l?"color-active":""}`,style:t?{background:ue(t.h,t.s,t.l)}:void 0,onClick:()=>{t?(Ct(t.h),Nt(t.s),St(t.l),Ue(null)):Ue(xe===a?null:a)},onContextMenu:s=>{s.preventDefault(),Ke(n=>{const l=[...n];return l[a]=null,localStorage.setItem("ai-studio-color-palette",JSON.stringify(l)),l})},title:t?`H:${t.h} S:${t.s} L:${t.l} (ìš°í´ë¦­: ì‚­ì œ)`:"í´ë¦­í•˜ì—¬ ì„ íƒ í›„ ğŸª£ ë²„í‚·ìœ¼ë¡œ ì±„ìš°ê¸°"},a))})]})]})]})]}),e.jsxs("div",{className:"center-panel",children:[e.jsxs("div",{className:`lib-area ${ft?"drag-over":""}`,style:{width:ie},onDrop:Ea,onDragOver:Pa,onDragLeave:qa,children:[ft&&e.jsx("div",{className:"drop-overlay",children:e.jsx("div",{className:"drop-message",children:"ğŸ“¥ ì´ë¯¸ì§€ë¥¼ ì—¬ê¸°ì— ë†“ìœ¼ì„¸ìš”"})}),e.jsxs("div",{className:"lib-header-inline",children:[e.jsx("span",{className:"title",children:"ğŸ“¸ ë¼ì´ë¸ŒëŸ¬ë¦¬"}),e.jsx("span",{className:"count",children:K.length}),tt&&e.jsxs("span",{className:"progress-text",children:["â³ ",tt]}),e.jsx("div",{className:"spacer"}),e.jsx("button",{className:"btn-icon",onClick:()=>{var t;return(t=document.getElementById("lib-upload"))==null?void 0:t.click()},title:"ì—…ë¡œë“œ",children:"ğŸ“¤"}),e.jsx("input",{type:"file",id:"lib-upload",accept:"image/*",multiple:!0,hidden:!0,onChange:Ra}),e.jsx("button",{className:"btn-icon danger",onClick:Ia,title:"ì „ì²´ì‚­ì œ",children:"ğŸ—‘ï¸"})]}),e.jsxs("div",{className:"lib-grid large",children:[Ce.map(t=>e.jsxs("div",{className:`lib-card generating ${t.status}`,children:[e.jsx("div",{className:"generating-content",children:t.status==="failed"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"failed-icon",children:"âŒ"}),e.jsx("span",{className:"generating-text failed-text",children:"ìƒì„± ì‹¤íŒ¨"}),e.jsx("span",{className:"failed-error",children:t.error||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{className:"generating-text",children:t.progress||(t.status==="transparent"?"íˆ¬ëª…í™” ì¤‘...":t.status==="editing"?"í¸ì§‘ ì¤‘...":t.status==="resizing"?"ë¦¬ì‚¬ì´ì¦ˆ ì¤‘...":t.status==="cancelled"?"ì·¨ì†Œë¨":"ìƒì„± ì¤‘...")}),e.jsxs("span",{className:"generating-index",children:["#",t.index+1]}),t.type==="transparent"&&e.jsx("span",{className:"generating-status-badge",children:"ğŸ”® íˆ¬ëª…í™”"}),t.type==="resize"&&e.jsx("span",{className:"generating-status-badge",children:"ğŸ“ ë¦¬ì‚¬ì´ì¦ˆ"}),t.type==="edit"&&e.jsx("span",{className:"generating-status-badge",children:"âœï¸ í¸ì§‘"})]})}),e.jsx("div",{className:"actions",children:t.status==="failed"?e.jsx("button",{onClick:()=>q(a=>a.filter(s=>s.id!==t.id)),title:"ë‹«ê¸°",children:"âœ–ï¸"}):e.jsx("button",{onClick:()=>Na(t.id),title:"ì´ ì´ë¯¸ì§€ ì·¨ì†Œ",disabled:t.status==="cancelled",children:"â¹ï¸"})})]},t.id)),K.length===0&&Ce.length===0?e.jsx("div",{className:"empty-lib",children:"ğŸ¨ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤"}):K.map((t,a)=>{const s=Ya(t.width,t.height);return e.jsxs("div",{className:`lib-card clickable ${v.includes(a)?"selected":""} ${j===a?"previewing":""}`,onClick:n=>Ta(a,n),children:[e.jsx("img",{src:t.url,alt:`Generated ${a}`}),s&&e.jsx("div",{className:"res-label",children:s}),v.includes(a)&&v.length>1&&e.jsx("div",{className:"selection-badge",children:v.indexOf(a)+1})]},a)})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`preview-resize-handle ${_t?"resizing":""}`,onMouseDown:La,title:"ë“œë˜ê·¸í•˜ì—¬ í¬ê¸° ì¡°ì ˆ",children:e.jsx("div",{className:"resize-bar"})}),e.jsxs("div",{className:"preview-panel-large",children:[e.jsxs("div",{className:"preview-toolbar",children:[e.jsx("button",{className:`tool-btn ${me==="select"?"active":""}`,onClick:()=>ge("select"),title:"ì„ íƒ (V)",children:"â¬š"}),e.jsx("button",{className:`tool-btn ${me==="lasso"?"active":""}`,onClick:()=>ge("lasso"),title:"ì˜¬ê°€ë¯¸ (L)",children:"ã€°ï¸"}),e.jsx("button",{className:`tool-btn ${me==="canvas"?"active":""}`,onClick:()=>ge("canvas"),title:"ìº”ë²„ìŠ¤ í¬ê¸° (C)",children:"â›¶"}),e.jsx("div",{className:"tool-divider"}),e.jsx("button",{className:`tool-btn ${me==="marker"?"active":""}`,onClick:()=>ge("marker"),title:"ë§ˆí‚¹ (M)",children:"âœï¸"}),e.jsx("button",{className:`tool-btn ${me==="eyedropper"?"active":""}`,onClick:()=>ge("eyedropper"),title:"ìŠ¤í¬ì´ë“œ (I)",children:"ğŸ’§"}),e.jsx("button",{className:`tool-btn ${me==="bucket"?"active":""}`,onClick:()=>ge("bucket"),title:"ë²„í‚· (G)",children:"ğŸª£"}),e.jsx("button",{className:`tool-btn ${me==="pen"?"active":""}`,onClick:()=>ge("pen"),title:"íœ (P)",children:"ğŸ–Šï¸"}),e.jsx("div",{className:"tool-divider"}),e.jsxs("span",{className:"zoom-display",children:[Math.round(dt*100),"%"]}),e.jsx("button",{className:"tool-btn",onClick:()=>ve(t=>Math.min(t+.25,5)),title:"í™•ëŒ€",children:"+"}),e.jsx("button",{className:"tool-btn",onClick:()=>ve(t=>Math.max(t-.25,.25)),title:"ì¶•ì†Œ",children:"âˆ’"}),e.jsx("button",{className:"tool-btn",onClick:()=>{ve(1),Ve({x:0,y:0})},title:"ì´ˆê¸°í™”",children:"âŸ²"})]}),e.jsx("div",{className:"preview-viewer-area",onWheel:t=>{if(!Q)return;t.preventDefault();const a=t.deltaY>0?-.15:.15;ve(s=>Math.min(Math.max(s+a,.25),5))},onMouseDown:t=>{Q&&(mt||t.button===1)&&(t.preventDefault(),Ae(!0),Ut({x:t.clientX-Te.x,y:t.clientY-Te.y}))},onMouseMove:t=>{ht&&Ve({x:t.clientX-pt.x,y:t.clientY-pt.y})},onMouseUp:()=>Ae(!1),onMouseLeave:()=>Ae(!1),style:{cursor:mt?ht?"grabbing":"grab":"default"},children:Q?e.jsx("div",{className:"preview-image-wrapper",style:{transform:`translate(${Te.x}px, ${Te.y}px) scale(${dt})`},children:e.jsx("img",{src:Q.url,alt:"Preview",className:"preview-image-lg",draggable:!1})}):e.jsxs("div",{className:"preview-empty",children:[e.jsx("div",{className:"preview-empty-icon",children:"ğŸ–¼ï¸"}),e.jsx("div",{className:"preview-empty-text",children:"ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”"}),e.jsx("div",{className:"preview-empty-hint",children:"íœ : í™•ëŒ€/ì¶•ì†Œ | Space+ë“œë˜ê·¸: íŒ¨ë‹"})]})}),Q&&e.jsxs("div",{className:"preview-bottom-bar",children:[e.jsx("span",{children:v.length>1?`${v.indexOf(j)+1}/${v.length} ì„ íƒë¨`:`${j+1} / ${K.length}`}),Q.width&&Q.height&&e.jsxs("span",{className:"preview-size-info",children:[Q.width," Ã— ",Q.height," px"]}),e.jsxs("div",{className:"preview-quick-actions",children:[e.jsx("button",{onClick:()=>$a(Q,j),title:"PNGë¡œ ì €ì¥",children:"ğŸ’¾"}),e.jsx("button",{onClick:v.length>1?it:()=>Aa(j),title:"ì‚­ì œ",className:"danger",children:"ğŸ—‘ï¸"}),e.jsx("button",{onClick:Be,title:"ì„ íƒ í•´ì œ",children:"âœ•"})]})]})]})]})]}),e.jsxs("div",{className:"right-panel",children:[e.jsxs("div",{className:"right-panel-tabs",children:[e.jsx("button",{className:`tab-btn ${Le==="generate"?"active":""}`,onClick:()=>ut("generate"),children:"ğŸ¨ ìƒì„±"}),e.jsxs("button",{className:`tab-btn ${Le==="edit"?"active":""}`,onClick:()=>ut("edit"),children:["âœï¸ í¸ì§‘ ",k.length>0&&`(${k.length})`]})]}),Le==="generate"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"preview-edit-section prompt-section",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsx("span",{children:"âœ¨ í˜„ì¬ í”„ë¡¬í”„íŠ¸"}),e.jsx("div",{className:"prompt-actions-inline",children:e.jsx("button",{className:"btn-mini",onClick:()=>navigator.clipboard.writeText(D),title:"ë³µì‚¬",children:"ğŸ“‹"})})]}),e.jsx("div",{className:"prompt-preview-box",children:D?D.slice(0,150)+(D.length>150?"...":""):"(ì¢Œì¸¡ì—ì„œ íƒœê·¸ë¥¼ ì„ íƒí•˜ì„¸ìš”)"}),_e&&e.jsxs("div",{className:"prompt-neg-preview",children:[e.jsx("span",{className:"neg-label",children:"ì œì™¸:"})," ",_e.slice(0,40),"..."]})]}),e.jsxs("div",{className:`preview-edit-section ref-section ref-dropzone ${x.refImgs.length===0?"empty":""}`,onDragOver:t=>{t.preventDefault(),t.currentTarget.classList.add("drag-over")},onDragLeave:t=>{t.preventDefault(),t.currentTarget.classList.remove("drag-over")},onDrop:async t=>{t.preventDefault(),t.currentTarget.classList.remove("drag-over");const a=t.dataTransfer.files;a.length>0&&nt(a)},children:[e.jsx("div",{className:"preview-edit-title",children:e.jsxs("span",{children:["ğŸ“ ì°¸ì¡° ì´ë¯¸ì§€ ",x.refImgs.length>0&&`(${x.refImgs.length}/14)`]})}),x.refImgs.length>0?e.jsxs("div",{className:"ref-list-with-roles",children:[x.refImgs.map((t,a)=>e.jsxs("div",{className:"ref-item-with-role",children:[e.jsxs("div",{className:"ref-item-thumb",children:[e.jsx("img",{src:t.url,alt:`Ref ${a}`}),e.jsx("button",{className:"ref-del-btn",onClick:()=>va(a),children:"Ã—"})]}),e.jsx("select",{className:"ref-role-select",value:t.type,onChange:s=>ja(a,s.target.value),children:ct.map(s=>e.jsxs("option",{value:s.id,children:[s.icon," ",s.name]},s.id))})]},a)),e.jsxs("label",{className:"ref-add-btn-large",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:t=>{t.target.files&&nt(t.target.files),t.target.value=""}}),e.jsx("span",{children:"+ ì¶”ê°€"})]})]}):e.jsxs("label",{className:"ref-empty-drop",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:t=>{t.target.files&&nt(t.target.files),t.target.value=""}}),e.jsx("div",{className:"ref-drop-icon",children:"ğŸ“¥"}),e.jsx("div",{className:"ref-drop-text",children:"ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­"}),e.jsx("div",{className:"ref-drop-hint",children:"ê° ì´ë¯¸ì§€ë³„ë¡œ ì—­í•  ì§€ì • ê°€ëŠ¥"})]})]}),e.jsxs("div",{className:"preview-edit-section settings-section",children:[e.jsx("div",{className:"preview-edit-title",children:e.jsx("span",{children:"âš™ï¸ ìƒì„± ì„¤ì •"})}),e.jsxs("div",{className:"gen-settings-grid",children:[e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"í•´ìƒë„"}),e.jsx("select",{className:"sel",value:P,onChange:t=>ra(t.target.value),children:Pt.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"ì¢…íš¡ë¹„"}),e.jsx("select",{className:"sel",value:$,onChange:t=>_(t.target.value),children:qt.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"ê²©ìë°°ì¹˜"}),e.jsxs("select",{className:"sel",value:Fe,onChange:t=>ia(t.target.value),title:"í•œ ì¥ì— ì—¬ëŸ¬ ê°œì²´ ìƒì„±",children:[e.jsx("option",{value:"1x1",children:"1x1 (ë‹¨ì¼)"}),e.jsx("option",{value:"2x2",children:"2x2 (4ê°œ)"}),e.jsx("option",{value:"3x3",children:"3x3 (9ê°œ)"}),e.jsx("option",{value:"4x4",children:"4x4 (16ê°œ)"})]})]}),e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"ìƒì„± ê°œìˆ˜"}),e.jsxs("div",{className:"gen-count-row",children:[e.jsx("select",{className:"sel",value:W,onChange:t=>te(Number(t.target.value)),children:[1,2,3,4,6,8,10].map(t=>e.jsxs("option",{value:t,children:[t,"ì¥"]},t))}),e.jsx("button",{className:"btn-mini",onClick:()=>je(!0),title:"ì—¬ëŸ¬ì¥ ìƒì„± ì˜µì…˜",children:"âš™ï¸"})]})]}),e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"íˆ¬ëª…ë°°ê²½"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:re,onChange:t=>na(t.target.checked)}),e.jsx("span",{className:"toggle-slider"})]})]})]})]}),e.jsx("div",{className:"preview-edit-section action-section",children:ne?e.jsxs("button",{className:"btn-action cancel full-width",onClick:Ca,children:["â¹ï¸ ìƒì„± ì·¨ì†Œ (",Ce.length,")"]}):e.jsx("button",{className:`btn-action generate full-width ${re?"transparent-mode":""}`,onClick:Sa,disabled:!p,children:re?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon-glow",children:"ğŸ”®"}),e.jsx("span",{children:"íˆ¬ëª…ë°°ê²½ ìƒì„±"}),e.jsx("span",{className:"btn-badge",children:"2x API"})]}):e.jsx(e.Fragment,{children:"ğŸ¨ ì´ë¯¸ì§€ ìƒì„±"})})})]}),Le==="edit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"preview-edit-section compact",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsxs("span",{children:["ğŸ–¼ï¸ í¸ì§‘ ëŒ€ìƒ ",k.length>0&&`(${k.length})`]}),k.length>0&&e.jsx("button",{className:"btn-mini",onClick:Be,title:"ì„ íƒ í•´ì œ",children:"âœ•"})]}),k.length>0?e.jsx("div",{className:"edit-target-grid",children:k.map((t,a)=>e.jsx("div",{className:"edit-target-thumb",children:e.jsx("img",{src:t.url,alt:`Target ${a}`})},a))}):e.jsxs("div",{className:"edit-empty-hint",children:["ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì´ë¯¸ì§€ ì„ íƒ",e.jsx("br",{}),e.jsx("small",{children:"Ctrl+í´ë¦­ìœ¼ë¡œ ë‹¤ì¤‘ ì„ íƒ / ë°©í–¥í‚¤ë¡œ ì´ë™"})]})]}),e.jsxs("div",{className:"preview-edit-section prompt-section",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsx("span",{children:"âœï¸ í¸ì§‘ ë‚´ìš©"}),e.jsx("button",{className:"btn-mini",onClick:()=>be(""),title:"ì§€ìš°ê¸°",children:"ğŸ—‘ï¸"})]}),e.jsx("textarea",{className:"preview-edit-prompt",value:Y,onChange:t=>be(t.target.value),placeholder:`í¸ì§‘í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...
ì˜ˆ: í‘œì •ì„ ì›ƒëŠ” ì–¼êµ´ë¡œ ë³€ê²½
ì˜ˆ: ë°°ê²½ì„ ë°”ë‹¤ë¡œ ë³€ê²½
ì˜ˆ: ì†Œí’ˆ ì¶”ê°€ (ì°¸ì¡° ì´ë¯¸ì§€ ì‚¬ìš©)`,rows:4})]}),e.jsxs("div",{className:"preview-edit-section prompt-section compact",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsx("span",{children:"âœ¨ í”„ë¡¬í”„íŠ¸ íƒœê·¸"}),e.jsx("button",{className:"btn-mini",onClick:()=>be(t=>t?t+`
`+D:D),title:"ì¢Œì¸¡ í”„ë¡¬í”„íŠ¸ ì¶”ê°€",children:"+ ì ìš©"})]}),e.jsx("div",{className:"prompt-preview-box scrollable small",onClick:()=>be(D),children:D?D.length>60?D.slice(0,60)+"...":D:"(ì¢Œì¸¡ì—ì„œ íƒœê·¸ ì„ íƒ)"})]}),e.jsxs("div",{className:`preview-edit-section ref-section ref-dropzone ${de.length===0?"empty":""}`,onDragOver:t=>{t.preventDefault(),t.currentTarget.classList.add("drag-over")},onDragLeave:t=>{t.preventDefault(),t.currentTarget.classList.remove("drag-over")},onDrop:async t=>{t.preventDefault(),t.currentTarget.classList.remove("drag-over");const a=t.dataTransfer.files;if(!a.length)return;const s=[];for(const n of Array.from(a)){if(!n.type.startsWith("image/"))continue;const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d,type:"object",strength:1})}ke(n=>[...n,...s].slice(0,14))},children:[e.jsx("div",{className:"preview-edit-title",children:e.jsxs("span",{children:["ğŸ“ ì°¸ì¡° ì´ë¯¸ì§€ ",de.length>0&&`(${de.length}/14)`]})}),de.length>0?e.jsxs("div",{className:"ref-list-with-roles",children:[de.map((t,a)=>e.jsxs("div",{className:"ref-item-with-role",children:[e.jsxs("div",{className:"ref-item-thumb",children:[e.jsx("img",{src:t.url,alt:`Ref ${a}`}),e.jsx("button",{className:"ref-del-btn",onClick:()=>ke(s=>s.filter((n,l)=>l!==a)),children:"Ã—"})]}),e.jsx("select",{className:"ref-role-select",value:t.type,onChange:s=>ke(n=>n.map((l,d)=>d===a?{...l,type:s.target.value}:l)),children:ct.map(s=>e.jsxs("option",{value:s.id,children:[s.icon," ",s.name]},s.id))})]},a)),e.jsxs("label",{className:"ref-add-btn-large",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:async t=>{const a=t.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d,type:"object",strength:1})}ke(n=>[...n,...s].slice(0,14)),t.target.value=""}}),e.jsx("span",{children:"+ ì¶”ê°€"})]})]}):e.jsxs("label",{className:"ref-empty-drop small",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:async t=>{const a=t.target.files;if(!a)return;const s=[];for(const n of Array.from(a)){const l=URL.createObjectURL(n),d=await le(n);s.push({url:l,b64:d,type:"object",strength:1})}ke(n=>[...n,...s].slice(0,14)),t.target.value=""}}),e.jsx("div",{className:"ref-drop-icon",children:"ğŸ“¥"}),e.jsx("div",{className:"ref-drop-text",children:"ë“œë˜ê·¸ ë˜ëŠ” í´ë¦­"}),e.jsx("div",{className:"ref-drop-hint",children:"ì†Œí’ˆ/ìºë¦­í„° ì¶”ê°€"})]})]}),e.jsxs("div",{className:"preview-edit-section settings-section",children:[e.jsx("div",{className:"preview-edit-title",children:e.jsx("span",{children:"âš¡ ë¹ ë¥¸ ë³€í™˜"})}),e.jsx("div",{className:"quick-transform-chips compact",children:[{id:"enhance",label:"ì—…ìŠ¤ì¼€ì¼",prompt:"Upscale and enhance image quality, increase resolution, remove noise and artifacts, sharpen details."},{id:"line",label:"ë¼ì¸",prompt:"Extract clean black line art on white background."},{id:"webtoon",label:"ì›¹íˆ°",prompt:"Convert to Korean webtoon style with clean lines and flat colors."},{id:"day",label:"ë‚®",prompt:"Change to daytime scene with bright sunlight and blue sky."},{id:"night",label:"ë°¤",prompt:"Change to nighttime scene with moonlight and stars."},{id:"flip",label:"ë°˜ì „",prompt:"Mirror flip the image horizontally."},{id:"smile",label:"ì›ƒìŒ",prompt:"Change character expression to smile, happy face."},{id:"sad",label:"ìŠ¬í””",prompt:"Change character expression to sad, tearful face."},{id:"angry",label:"í™”ë‚¨",prompt:"Change character expression to angry face."},{id:"surprised",label:"ë†€ëŒ",prompt:"Change character expression to surprised, shocked face with wide eyes."},{id:"cool",label:"ì‹œí¬",prompt:"Change character expression to cool, confident, mysterious look."}].map(t=>e.jsx("button",{className:"transform-chip",onClick:()=>{be(a=>a?`${a}
${t.prompt}`:t.prompt)},title:t.prompt,children:t.label},t.id))})]}),e.jsxs("div",{className:"preview-edit-section settings-section",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsx("span",{children:"ğŸ”® ë¹ ë¥¸ íˆ¬ëª…í™”"}),e.jsx("small",{style:{color:"#888",fontSize:"11px"},children:"(í”„ë¡¬í”„íŠ¸ ë¶ˆí•„ìš”)"})]}),e.jsx("div",{className:"quick-transform-chips compact",children:[{id:"trans-auto",label:"ìë™",icon:"âœ¨",desc:"í˜„ì¬ íƒ­ ê¸°ì¤€ ìë™ ì²˜ë¦¬"},{id:"trans-char",label:"ë°°ê²½ì œê±°",icon:"ğŸ‘¤",desc:"ì¸ë¬¼/ì–´ì…‹ìš© (í°ë°°ê²½â†”ê²€ì •ë°°ê²½)"},{id:"trans-sky",label:"í•˜ëŠ˜ì œê±°",icon:"ğŸŒ¤ï¸",desc:"ë°°ê²½ìš© (ë§ˆì  íƒ€ í¬ë¡œë§ˆí‚¤)"}].map(t=>e.jsxs("button",{className:"transform-chip transparent-chip",disabled:Oe||k.length===0||!p,onClick:async()=>{if(k.length===0){alert("ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”");return}if(!p){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}const a=t.id==="trans-sky"||t.id==="trans-auto"&&g==="bg";Z(!0),G(0);const s=k.map((n,l)=>({id:`trans-${Date.now()}-${l}`,index:l,status:"transparent",type:"transparent",progress:a?"í•˜ëŠ˜ ê°ì§€ ì¤‘...":"ë°°ê²½ ì œê±° ì¤‘..."}));q(n=>[...s,...n]);try{for(let n=0;n<k.length;n++){G(n+1);const l=k[n],d=s[n].id;let w;const f=R=>{q(T=>T.map(ee=>ee.id===d?{...ee,progress:R}:ee)),L(`[${n+1}/${k.length}] ${R}`)};a?(f("í•˜ëŠ˜ ê°ì§€ ì¤‘..."),w=await Xa(p,l.b64,b,f)):(f("ë°°ê²½ ì œê±° ì¤‘..."),w=await we(p,l.b64,b,f));const A=w.split(",")[1],M=a?"[í•˜ëŠ˜ì œê±°]":"[ë°°ê²½ì œê±°]",m=await Ge(w);q(R=>R.filter(T=>T.id!==d)),J(R=>[{url:w,b64:A,prompt:`${M} ${l.prompt||""}`,width:m.width,height:m.height,createdAt:Date.now()},...R])}C([])}catch(n){console.error("íˆ¬ëª…í™” ì˜¤ë¥˜:",n),alert(n instanceof Error?n.message:"íˆ¬ëª…í™” ì‹¤íŒ¨"),q(l=>l.filter(d=>d.type!=="transparent"))}finally{Z(!1),G(0),L(null)}},title:t.desc,children:[e.jsx("span",{children:t.icon})," ",t.label]},t.id))}),e.jsxs("div",{className:"edit-process-hint",style:{marginTop:"4px"},children:["ìë™: ",g==="char"?"ì¸ë¬¼":g==="asset"?"ì–´ì…‹":"ë°°ê²½"," ëª¨ë“œ â†’ ",g==="bg"?"í•˜ëŠ˜ì œê±°(ë§ˆì  íƒ€)":"ë°°ê²½ì œê±°"]})]}),e.jsxs("div",{className:"preview-edit-section settings-section",children:[e.jsxs("div",{className:"preview-edit-title",children:[e.jsx("span",{children:"ğŸ“ ë¹ ë¥¸ ë¦¬ì‚¬ì´ì¦ˆ"}),e.jsx("small",{style:{color:"#888",fontSize:"11px"},children:"(í”„ë¡¬í”„íŠ¸ ë¶ˆí•„ìš”)"})]}),e.jsxs("div",{className:"gen-settings-grid compact",style:{marginBottom:"8px"},children:[e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"í•´ìƒë„"}),e.jsx("select",{className:"sel",value:ae,onChange:t=>{const a=t.target.value;ta(a),(a==="2K"||a==="4K")&&(Je.includes(b)||N("gemini-3-pro-image-preview"))},children:Pt.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"gen-setting-row",children:[e.jsx("label",{children:"ì¢…íš¡ë¹„"}),e.jsx("select",{className:"sel",value:he,onChange:t=>aa(t.target.value),children:qt.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("button",{className:"transform-chip transparent-chip",style:{width:"100%",justifyContent:"center",padding:"8px"},disabled:Oe||k.length===0||!p,onClick:async()=>{if(k.length===0){alert("ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”");return}if(!p){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}Z(!0),G(0);const t=k.map((a,s)=>({id:`resize-${Date.now()}-${s}`,index:s,status:"resizing",type:"resize",progress:`${ae} ${he} ë³€í™˜ ì¤‘...`}));q(a=>[...t,...a]);try{for(let a=0;a<k.length;a++){G(a+1);const s=k[a],n=t[a].id;q(w=>w.map(f=>f.id===n?{...f,progress:`${ae} ${he} ë³€í™˜ ì¤‘...`}:f)),L(`[${a+1}/${k.length}] ë¦¬ì‚¬ì´ì¦ˆ ì¤‘...`);const l=await se(p,s.b64,"Keep the image exactly the same. Do not change anything.",b,"image/png",void 0,{imageSize:ae,aspectRatio:he}),d=await Ge(l.url);q(w=>w.filter(f=>f.id!==n)),J(w=>[{url:l.url,b64:l.base64,prompt:`[${ae} ${he}] ${s.prompt||""}`,width:d.width,height:d.height,createdAt:Date.now()},...w])}C([])}catch(a){console.error("ë¦¬ì‚¬ì´ì¦ˆ ì˜¤ë¥˜:",a),alert(a instanceof Error?a.message:"ë¦¬ì‚¬ì´ì¦ˆ ì‹¤íŒ¨"),q(s=>s.filter(n=>n.type!=="resize"))}finally{Z(!1),G(0),L(null)}},title:"ì„ íƒí•œ í•´ìƒë„/ì¢…íš¡ë¹„ë¡œ ì´ë¯¸ì§€ ë³€í™˜",children:[e.jsx("span",{children:"ğŸ”„"})," ",ae," / ",he," ë¡œ ë³€í™˜"]})]}),e.jsxs("div",{className:"preview-edit-section settings-section",children:[e.jsx("div",{className:"preview-edit-title",children:e.jsx("span",{children:"âš™ï¸ í¸ì§‘ ì¶œë ¥ ì„¤ì •"})}),e.jsx("div",{className:"gen-settings-grid compact",children:e.jsxs("div",{className:"gen-setting-row full-width",children:[e.jsx("label",{children:"íˆ¬ëª…ë°°ê²½ (í¸ì§‘ í›„ ì ìš©)"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:ze,onChange:t=>sa(t.target.checked)}),e.jsx("span",{className:"toggle-slider"})]})]})}),e.jsx("div",{className:"edit-process-hint",children:"í¸ì§‘ ë²„íŠ¼ í´ë¦­ ì‹œ: í”„ë¡¬í”„íŠ¸ ì ìš© â†’ íˆ¬ëª…ë°°ê²½"})]}),e.jsxs("div",{className:"preview-edit-section preserve-options",children:[e.jsx("div",{className:"preview-edit-title",children:e.jsx("span",{children:"ğŸ”’ ìœ ì§€ ì˜µì…˜"})}),e.jsxs("div",{className:"preserve-options-grid",children:[e.jsxs("label",{className:`preserve-option ${F.style?"active":""}`,children:[e.jsx("input",{type:"checkbox",checked:F.style,onChange:t=>De(a=>({...a,style:t.target.checked}))}),e.jsx("span",{children:"ğŸ¨ ìŠ¤íƒ€ì¼"})]}),e.jsxs("label",{className:`preserve-option ${F.expression?"active":""}`,children:[e.jsx("input",{type:"checkbox",checked:F.expression,onChange:t=>De(a=>({...a,expression:t.target.checked}))}),e.jsx("span",{children:"ğŸ˜Š í‘œì •"})]}),e.jsxs("label",{className:`preserve-option ${F.pose?"active":""}`,children:[e.jsx("input",{type:"checkbox",checked:F.pose,onChange:t=>De(a=>({...a,pose:t.target.checked}))}),e.jsx("span",{children:"ğŸ•º í¬ì¦ˆ"})]}),e.jsxs("label",{className:`preserve-option ${F.background?"active":""}`,children:[e.jsx("input",{type:"checkbox",checked:F.background,onChange:t=>De(a=>({...a,background:t.target.checked}))}),e.jsx("span",{children:"ğŸï¸ ë°°ê²½"})]})]})]}),e.jsx("div",{className:"preview-edit-section action-section",children:e.jsx("button",{className:`btn-action edit full-width ${ze?"transparent-mode":""}`,onClick:async()=>{if(k.length===0){alert("í¸ì§‘í•  ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”");return}if(!p){alert("API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}if(!Y.trim()){alert("í¸ì§‘ í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");return}Z(!0),G(0);try{const t=[],a=de.map(d=>d.b64),s=ot(de),n=[];F.style&&n.push("maintain the original art style"),F.expression&&n.push("keep the facial expression unchanged"),F.pose&&n.push("preserve the body pose"),F.background&&n.push("keep the background unchanged");let l=Y.trim();ae!=="1K"&&(l=`${l}

Upscale to ${ae} resolution, enhance details, remove noise.`),s&&(l+=`

`+s),n.length>0&&(l+=`

Important: ${n.join(", ")}.`);for(let d=0;d<k.length;d++){G(d+1),L(`ì´ë¯¸ì§€ ${d+1}/${k.length} ì²˜ë¦¬ ì¤‘...`);const w=k[d];let f=await se(p,w.b64,l,b,"image/png",a.length>0?a:void 0,{imageSize:ae,aspectRatio:he});if(ze){L(`ì´ë¯¸ì§€ ${d+1}/${k.length} íˆ¬ëª…í™” ì¤‘...`);const A=await we(p,f.base64,b,m=>{L(`ì´ë¯¸ì§€ ${d+1}: ${m}`)}),M=A.split(",")[1];t.push({url:A,b64:M,prompt:`[íˆ¬ëª…] ${Y}`})}else t.push({url:f.url,b64:f.base64,prompt:Y})}J(d=>[...t,...d]),C([0]),I(0)}catch(t){alert("í¸ì§‘ ì‹¤íŒ¨: "+(t instanceof Error?t.message:"ì˜¤ë¥˜"))}finally{Z(!1),G(0),L(null)}},disabled:Oe||k.length===0||!p||!Y.trim(),children:Oe?e.jsxs(e.Fragment,{children:["â³ ",tt||`í¸ì§‘ì¤‘... (${ea}/${k.length})`]}):ze?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon-glow",children:"ğŸ”®"}),e.jsx("span",{children:"AI í¸ì§‘ + íˆ¬ëª…ë°°ê²½"})]}):e.jsx(e.Fragment,{children:"âœï¸ AI í¸ì§‘ ì ìš©"})})})]})]})]}),Bt&&e.jsx("div",{className:"gen-modal show",onClick:()=>je(!1),children:e.jsxs("div",{className:"gen-modal-content",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"gen-modal-title",children:["âš™ï¸ ì—¬ëŸ¬ì¥ ìƒì„± ì˜µì…˜",e.jsx("button",{className:"gen-modal-close",onClick:()=>je(!1),children:"Ã—"})]}),e.jsxs("div",{className:`gen-mode-item ${B==="same"?"selected":""}`,onClick:()=>Re("same"),children:[e.jsx("input",{type:"radio",name:"genModeRadio",checked:B==="same",readOnly:!0}),e.jsxs("div",{className:"gen-mode-info",children:[e.jsx("div",{className:"name",children:"ğŸ“‹ ë™ì¼ ì„¤ì •"}),e.jsx("div",{className:"desc",children:"ê°™ì€ í”„ë¡¬í”„íŠ¸ë¡œ ì—¬ëŸ¬ì¥ ìƒì„± (ì‹œë“œë§Œ ë‹¤ë¦„)"})]})]}),e.jsxs("div",{className:`gen-mode-item ${B==="random"?"selected":""}`,onClick:()=>Re("random"),children:[e.jsx("input",{type:"radio",name:"genModeRadio",checked:B==="random",readOnly:!0}),e.jsxs("div",{className:"gen-mode-info",children:[e.jsx("div",{className:"name",children:"ğŸ² ëœë¤ ë³€í˜•"}),e.jsx("div",{className:"desc",children:"ë§¤ ì¥ë§ˆë‹¤ ì„ íƒí•œ í•­ëª©ì„ ëœë¤í•˜ê²Œ ë³€ê²½"}),B==="random"&&e.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.pose,onChange:t=>Pe(a=>({...a,pose:t.target.checked}))})," í¬ì¦ˆ ë³€í˜•"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.expr,onChange:t=>Pe(a=>({...a,expr:t.target.checked}))})," í‘œì • ë³€í˜•"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.angle,onChange:t=>Pe(a=>({...a,angle:t.target.checked}))})," ì•µê¸€ ë³€í˜•"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.cloth,onChange:t=>Pe(a=>({...a,cloth:t.target.checked}))})," ì˜ìƒ ë³€í˜•"]})]})]})]}),e.jsxs("div",{className:`gen-mode-item ${B==="sequence"?"selected":""}`,onClick:()=>Re("sequence"),children:[e.jsx("input",{type:"radio",name:"genModeRadio",checked:B==="sequence",readOnly:!0}),e.jsxs("div",{className:"gen-mode-info",children:[e.jsx("div",{className:"name",children:"ğŸ”¢ ìˆœì°¨ ë³€í˜•"}),e.jsx("div",{className:"desc",children:"íŠ¹ì • í•­ëª©ì„ ìˆœì„œëŒ€ë¡œ ë³€ê²½í•˜ë©° ìƒì„±"}),B==="sequence"&&e.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[e.jsxs("div",{className:"gen-seq-item",children:[e.jsx("label",{children:"í•­ëª©:"}),e.jsxs("select",{className:"sel",value:Gt,onChange:t=>Jt(t.target.value),children:[e.jsx("option",{value:"expression",children:"í‘œì •"}),e.jsx("option",{value:"bodyPose",children:"í¬ì¦ˆ"}),e.jsx("option",{value:"viewAngle",children:"ì•µê¸€"}),e.jsx("option",{value:"artStyle",children:"í™”í’"})]})]}),e.jsx("div",{style:{fontSize:"0.5rem",color:"var(--text3)",marginTop:4},children:"â€» ìƒì„± ê°œìˆ˜ë§Œí¼ ìˆœì„œëŒ€ë¡œ ë³€í˜•ë©ë‹ˆë‹¤"})]})]})]}),e.jsxs("div",{className:`gen-mode-item ${B==="interpolate"?"selected":""}`,onClick:()=>Re("interpolate"),children:[e.jsx("input",{type:"radio",name:"genModeRadio",checked:B==="interpolate",readOnly:!0}),e.jsxs("div",{className:"gen-mode-info",children:[e.jsx("div",{className:"name",children:"ğŸŒˆ ìŠ¬ë¼ì´ë” ê·¸ë¼ë°ì´ì…˜"}),e.jsx("div",{className:"desc",children:"ìŠ¬ë¼ì´ë” ê°’ì„ ì ì§„ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ë©° ìƒì„±"}),B==="interpolate"&&e.jsxs("div",{className:"gen-mode-opts",style:{display:"block"},children:[e.jsxs("div",{className:"gen-seq-item",children:[e.jsx("label",{children:"í•­ëª©:"}),e.jsxs("select",{className:"sel",value:Ht,onChange:t=>Vt(t.target.value),children:[e.jsx("option",{value:"age",children:"ë‚˜ì´"}),e.jsx("option",{value:"bodyType",children:"ì²´í˜•"}),e.jsx("option",{value:"eyeSize",children:"ëˆˆí¬ê¸°"}),e.jsx("option",{value:"timeOfDay",children:"ì‹œê°„ëŒ€"}),e.jsx("option",{value:"brightness",children:"ë°ê¸°"})]})]}),e.jsxs("div",{className:"gen-seq-item",children:[e.jsx("label",{children:"ì‹œì‘:"}),e.jsx("input",{type:"number",className:"inp",style:{width:60},value:Wt,onChange:t=>Xt(Number(t.target.value))}),e.jsx("label",{children:"ë:"}),e.jsx("input",{type:"number",className:"inp",style:{width:60},value:Yt,onChange:t=>Zt(Number(t.target.value))})]})]})]})]}),e.jsxs("div",{className:"gen-modal-actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>je(!1),children:"ì·¨ì†Œ"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>je(!1),children:"âœ… í™•ì¸"})]})]})}),ga&&e.jsx("div",{className:"preset-modal show",onClick:()=>$e(!1),children:e.jsxs("div",{className:"preset-modal-content",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"preset-modal-title",children:["ğŸ’¾ í”„ë¦¬ì…‹ ì €ì¥",e.jsx("button",{className:"preset-modal-close",onClick:()=>$e(!1),children:"Ã—"})]}),e.jsxs("div",{className:"preset-modal-body",children:[e.jsx("p",{children:"í˜„ì¬ ì„¤ì •ì„ í”„ë¦¬ì…‹ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤."}),e.jsx("input",{type:"text",className:"inp",value:Se,onChange:t=>kt(t.target.value),placeholder:"í”„ë¦¬ì…‹ ì´ë¦„ ì…ë ¥...",style:{width:"100%",marginTop:10},autoFocus:!0,onKeyDown:t=>t.key==="Enter"&&At()})]}),e.jsxs("div",{className:"preset-modal-actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>$e(!1),children:"ì·¨ì†Œ"}),e.jsx("button",{className:"btn btn-primary",onClick:At,children:"ğŸ’¾ ì €ì¥"})]})]})})]});function Da(){const t=Ie[x.cat];return t?e.jsx("div",{className:"settings-grid",children:Object.entries(t.items).map(([a,s])=>{var w,f,A,M;const n=x.values[a],l="isNeg"in s&&s.isNeg,d=l?x.negTags.length>0:n!=null&&n!==""&&!(Array.isArray(n)&&n.length===0);return e.jsxs("div",{className:`card ${d?"active":""}`,children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"card-icon",children:"icon"in s?s.icon:""}),e.jsx("span",{children:s.name}),e.jsx("span",{className:"card-val",children:l?x.negTags.length>0?`${x.negTags.length}ê°œ`:"":Ma(s,n)}),d&&e.jsx("button",{className:"card-clear",onClick:()=>ba(a,l),children:"Ã—"})]}),"tags"in s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hasColor"in s&&s.hasColor?"tags-with-bucket":"",children:[e.jsx("div",{className:"tags",children:s.tags.map(([m,R])=>{const T=l?x.negTags.includes(m):Array.isArray(n)?n.includes(m):n===m;return e.jsx("div",{className:`tag ${T?"selected":""}`,onClick:()=>fa(a,m,l||!1),children:R},m)})}),"hasColor"in s&&s.hasColor&&d&&e.jsx("div",{className:"color-inline-box",onClick:()=>It(a+"Color"),title:"í´ë¦­í•˜ì—¬ ìƒ‰ìƒ ì ìš©",style:{background:ue(((w=x.values[a+"Color"])==null?void 0:w.h)??0,((f=x.values[a+"Color"])==null?void 0:f.s)??70,((A=x.values[a+"Color"])==null?void 0:A.l)??50)}})]}),!l&&d&&e.jsxs("div",{className:"slider-row weight-slider",children:[e.jsx("span",{className:"slider-label",children:"ê°•ë„"}),e.jsxs("div",{className:"slider-track",children:[e.jsx("input",{type:"range",min:.5,max:1.5,step:.1,value:x.values[a+"Str"]??1,onChange:m=>$t(a+"Str",parseFloat(m.target.value))}),e.jsx("div",{className:"thumb",style:{left:`${((x.values[a+"Str"]??1)-.5)/1*100}%`}})]}),e.jsxs("span",{className:"slider-value",children:[x.values[a+"Str"]??1,"x"]})]})]}),"type"in s&&s.type==="slider"&&e.jsxs("div",{className:"slider-row",children:[e.jsx("span",{className:"slider-label",children:((M=s.labels)==null?void 0:M[0])||s.min}),e.jsxs("div",{className:"slider-track",children:[e.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step||1,value:n??s.default,onChange:m=>$t(a,parseFloat(m.target.value))}),e.jsx("div",{className:"thumb",style:{left:`${((n??s.default)-s.min)/(s.max-s.min)*100}%`}})]}),e.jsxs("span",{className:"slider-value",children:[n??s.default,s.unit||""]})]}),"type"in s&&(s.type==="hue"||s.type==="skin")&&e.jsxs("div",{className:"color-inline-row",children:[e.jsx("span",{className:"color-inline-label",children:s.name}),e.jsx("div",{className:"color-inline-box",onClick:()=>It(a),title:"í´ë¦­í•˜ì—¬ ìƒ‰ìƒ ì ìš©",style:{background:ue((n==null?void 0:n.h)??30,(n==null?void 0:n.s)??70,(n==null?void 0:n.l)??50)}})]})]},a)})}):null}}async function le(i){return new Promise(c=>{const o=new FileReader;o.onload=()=>c(o.result.split(",")[1]),o.readAsDataURL(i)})}async function Ge(i){return new Promise(c=>{const o=new Image;o.onload=()=>c({width:o.naturalWidth,height:o.naturalHeight}),o.onerror=()=>c({width:0,height:0}),o.src=i})}function ot(i){if(i.length===0)return"";const c=[];return i.forEach((o,h)=>{const y=ct.find(g=>g.id===o.type);y&&c.push(`From reference image #${h+1}, ${y.prompt}.`)}),c.length===0?`Using the ${i.length} provided reference image(s) as visual guide.`:c.join(" ")}function ds(){const{addAsset:i}=Dt(),c=(o,h)=>{i({url:o,prompt:h,category:"ai-generated",source:"whiteboard"})};return e.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:e.jsx(Za,{onImageGenerated:c})})}export{ds as default};
