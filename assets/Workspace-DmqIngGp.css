.react-flow{direction:ltr}.react-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.react-flow__pane{z-index:1;cursor:-webkit-grab;cursor:grab}.react-flow__pane.selection{cursor:pointer}.react-flow__pane.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.react-flow__renderer{z-index:4}.react-flow__selection{z-index:6}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible{outline:none}.react-flow .react-flow__edges{pointer-events:none;overflow:visible}.react-flow__edge-path,.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1;fill:none}.react-flow__edge{pointer-events:visibleStroke;cursor:pointer}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.animated path.react-flow__edge-interaction{stroke-dasharray:none;-webkit-animation:none;animation:none}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected,.react-flow__edge:focus,.react-flow__edge:focus-visible{outline:none}.react-flow__edge.selected .react-flow__edge-path,.react-flow__edge:focus .react-flow__edge-path,.react-flow__edge:focus-visible .react-flow__edge-path{stroke:#555}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-textbg{fill:#fff}.react-flow__edge .react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connectionline{z-index:1001}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:-webkit-grab;cursor:grab}.react-flow__node.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background:#1a192b;border:1px solid white;border-radius:100%}.react-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__panel{position:absolute;z-index:5;margin:15px}.react-flow__panel.top{top:0}.react-flow__panel.bottom{bottom:0}.react-flow__panel.left{left:0}.react-flow__panel.right{right:0}.react-flow__panel.center{left:50%;transform:translate(-50%)}.react-flow__attribution{font-size:10px;background:#ffffff80;padding:2px 3px;margin:0}.react-flow__attribution a{text-decoration:none;color:#999}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-text{font-size:10px}.react-flow__node.selectable:focus,.react-flow__node.selectable:focus-visible{outline:none}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output,.react-flow__node-group{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid;border-color:#1a192b;background-color:#fff}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover,.react-flow__node-group.selectable:hover{box-shadow:0 1px 4px 1px #00000014}.react-flow__node-default.selectable.selected,.react-flow__node-default.selectable:focus,.react-flow__node-default.selectable:focus-visible,.react-flow__node-input.selectable.selected,.react-flow__node-input.selectable:focus,.react-flow__node-input.selectable:focus-visible,.react-flow__node-output.selectable.selected,.react-flow__node-output.selectable:focus,.react-flow__node-output.selectable:focus-visible,.react-flow__node-group.selectable.selected,.react-flow__node-group.selectable:focus,.react-flow__node-group.selectable:focus-visible{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background-color:#f0f0f040}.react-flow__nodesselection-rect,.react-flow__selection{background:#0059dc14;border:1px dotted rgba(0,89,220,.8)}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible,.react-flow__selection:focus,.react-flow__selection:focus-visible{outline:none}.react-flow__controls{box-shadow:0 0 2px 1px #00000014}.react-flow__controls-button{border:none;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:5px}.react-flow__controls-button:hover{background:#f4f4f4}.react-flow__controls-button svg{width:100%;max-width:12px;max-height:12px}.react-flow__controls-button:disabled{pointer-events:none}.react-flow__controls-button:disabled svg{fill-opacity:.4}.react-flow__minimap{background-color:#fff}.react-flow__minimap svg{display:block}.react-flow__resize-control{position:absolute}.react-flow__resize-control.left,.react-flow__resize-control.right{cursor:ew-resize}.react-flow__resize-control.top,.react-flow__resize-control.bottom{cursor:ns-resize}.react-flow__resize-control.top.left,.react-flow__resize-control.bottom.right{cursor:nwse-resize}.react-flow__resize-control.bottom.left,.react-flow__resize-control.top.right{cursor:nesw-resize}.react-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:#3367d9;transform:translate(-50%,-50%)}.react-flow__resize-control.handle.left{left:0;top:50%}.react-flow__resize-control.handle.right{left:100%;top:50%}.react-flow__resize-control.handle.top{left:50%;top:0}.react-flow__resize-control.handle.bottom{left:50%;top:100%}.react-flow__resize-control.handle.top.left,.react-flow__resize-control.handle.bottom.left{left:0}.react-flow__resize-control.handle.top.right,.react-flow__resize-control.handle.bottom.right{left:100%}.react-flow__resize-control.line{border-color:#3367d9;border-width:0;border-style:solid}.react-flow__resize-control.line.left,.react-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.react-flow__resize-control.line.left{left:0;border-left-width:1px}.react-flow__resize-control.line.right{left:100%;border-right-width:1px}.react-flow__resize-control.line.top,.react-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.react-flow__resize-control.line.top{top:0;border-top-width:1px}.react-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.workspace-error{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fafafa;gap:16px}.workspace-error h2{color:#dc2626;margin:0}.workspace-error p{color:#6b7280;margin:0}.workspace-error .error-detail{font-family:monospace;font-size:12px;background:#fee2e2;padding:8px 16px;border-radius:4px;color:#991b1b;max-width:80%;word-break:break-all}.workspace-error button{padding:12px 24px;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-size:14px;cursor:pointer;margin-top:16px}.workspace-error button:hover{background:#2563eb}.workspace-container{width:100vw;height:100vh;display:flex;flex-direction:row;background-color:#fafafa;position:relative}.workspace-header{position:absolute;top:0;left:60px;right:0;height:48px;background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between;padding:0 16px;z-index:100}.breadcrumb{display:flex;align-items:center;gap:4px}.breadcrumb-item{display:flex;align-items:center}.breadcrumb-separator{color:#9ca3af;margin:0 4px;font-size:14px}.breadcrumb-link{display:flex;align-items:center;gap:6px;padding:6px 10px;background:transparent;border:none;border-radius:6px;color:#6b7280;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.breadcrumb-link:hover{background:#f3f4f6;color:#374151}.breadcrumb-link.active{background:#e5e7eb;color:#111827}.breadcrumb-link svg{color:#9ca3af}.workspace-header-actions{display:flex;align-items:center;gap:8px}.header-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:6px;color:#374151;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s}.header-btn:hover{background:#e5e7eb;border-color:#d1d5db}.toolbar{display:flex;flex-direction:column;gap:4px;padding:12px 8px;background:#18181b;border-right:1px solid #27272a;box-shadow:4px 0 24px #0000004d;z-index:1000;width:60px;align-items:center;overflow-y:auto;overflow-x:visible;position:relative}.toolbar::-webkit-scrollbar{width:3px}.toolbar::-webkit-scrollbar-track{background:transparent}.toolbar::-webkit-scrollbar-thumb{background:#3f3f46;border-radius:2px}.toolbar-group{position:relative;display:flex;flex-direction:column;align-items:center}.toolbar-group-button{padding:0;background:transparent;border:none;border-radius:10px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;width:44px;height:44px;position:relative;color:#a1a1aa}.toolbar-group-button:hover{background:#ffffff1a;color:#fff;transform:translateY(-1px)}.toolbar-group-button:active{transform:translateY(0) scale(.95)}.toolbar-group-button.active{background:linear-gradient(135deg,#3b82f64d,#8b5cf64d);color:#60a5fa}.toolbar-group-button.delete-button{color:#f87171}.toolbar-group-button.delete-button:hover{background:#f871711a;color:#ef4444}.toolbar-group-button.disabled,.toolbar-group-button:disabled{opacity:.3;cursor:not-allowed;pointer-events:none}.toolbar-divider{width:32px;height:1px;background:#3f3f46;margin:6px 0;border-radius:1px}.toolbar-group-button:before{content:attr(data-tooltip);position:absolute;left:100%;margin-left:16px;padding:8px 12px;background:#27272a;color:#fff;border:1px solid #3f3f46;border-radius:8px;font-size:13px;font-weight:500;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s;z-index:1000;box-shadow:0 4px 12px #0006}.toolbar-group-button:after{content:"";position:absolute;left:100%;margin-left:10px;border:5px solid transparent;border-right-color:#3f3f46;opacity:0;pointer-events:none;transition:opacity .2s;z-index:1000}.toolbar-group-button:hover:before,.toolbar-group-button:hover:after{opacity:1}.ai-panel{position:absolute;left:68px;top:12px;width:320px;background:#27272a;border:1px solid #3f3f46;border-radius:16px;box-shadow:0 20px 60px #0009;z-index:1001;animation:slideIn .25s cubic-bezier(.34,1.56,.64,1);overflow:hidden}@keyframes slideIn{0%{opacity:0;transform:translate(-15px) scale(.95)}to{opacity:1;transform:translate(0) scale(1)}}.ai-panel:before{content:"";position:absolute;left:-8px;top:20px;width:0;height:0;border-style:solid;border-width:8px 8px 8px 0;border-color:transparent #3f3f46 transparent transparent}.ai-panel:after{content:"";position:absolute;left:-6px;top:21px;width:0;height:0;border-style:solid;border-width:7px 7px 7px 0;border-color:transparent #27272a transparent transparent}.ai-panel-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #3f3f46}.ai-panel-header h3{font-size:15px;font-weight:600;color:#fff;margin:0}.ai-panel-close{background:transparent;border:none;color:#a1a1aa;font-size:20px;cursor:pointer;padding:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .2s}.ai-panel-close:hover{background:#ffffff1a;color:#fff}.ai-panel-content{padding:16px 20px;display:flex;flex-direction:column;gap:16px}.ai-input-group{display:flex;flex-direction:column;gap:6px}.ai-input-group label{font-size:12px;font-weight:500;color:#a1a1aa}.ai-input-group input,.ai-input-group select,.ai-input-group textarea{width:100%;padding:10px 12px;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:14px;outline:none;transition:border-color .2s}.ai-input-group input:focus,.ai-input-group select:focus,.ai-input-group textarea:focus{border-color:#3b82f6}.ai-input-group textarea{resize:vertical;min-height:80px;font-family:inherit}.ai-input-group select{cursor:pointer}.ai-input-row{display:flex;gap:8px}.ai-input-row input{flex:1}.ai-input-row button{padding:10px 12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#a1a1aa;font-size:12px;cursor:pointer;transition:all .2s}.ai-input-row button:hover{background:#ffffff1a;color:#fff}.ai-link{font-size:11px;color:#60a5fa}.ai-link:hover{text-decoration:underline}.ai-error{padding:10px 12px;background:#ef44441a;border:1px solid rgba(239,68,68,.2);border-radius:8px;color:#fca5a5;font-size:13px}.ai-progress{display:flex;flex-direction:column;gap:8px}.ai-progress span{font-size:13px;color:#a5b4fc}.ai-progress-bar{height:4px;background:#0000004d;border-radius:2px;overflow:hidden}.ai-progress-fill{height:100%;background:linear-gradient(90deg,#6366f1,#a855f7);border-radius:2px;transition:width .3s}.ai-generate-btn{width:100%;padding:12px;background:linear-gradient(135deg,#6366f1,#a855f7);border:none;border-radius:10px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 4px 16px #6366f14d}.ai-generate-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 20px #6366f166}.ai-generate-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.react-flow-canvas{flex:1;background-color:#fafafa}.image-node{background:#fff;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a;transition:all .2s;position:relative;display:flex;flex-direction:column}.image-node:hover{box-shadow:0 4px 12px #00000026}.image-node.selected{border-color:#3b82f6!important;box-shadow:0 0 0 2px #3b82f64d!important}.image-content{flex:1;width:100%;background:#f9fafb;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;padding:8px}.image-label{padding:8px 12px;background:#fff;border-top:1px solid #e5e7eb;font-size:11px;color:#6b7280;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.image-thumbnail{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;-webkit-user-select:none;user-select:none;pointer-events:none}.image-loading{display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:#9ca3af;font-size:12px}.note-node{padding:16px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:all .2s;position:relative;display:flex;flex-direction:column}.note-node:hover{box-shadow:0 4px 12px #00000026}.note-node.selected{box-shadow:0 0 0 2px #3b82f680!important}.note-content{font-size:13px;line-height:1.6;color:#374151;white-space:pre-wrap;flex:1;overflow:auto}.note-edit-textarea{width:100%;height:100%;min-height:80px;padding:0;margin:0;border:none;background:transparent;font-size:13px;line-height:1.6;color:#374151;resize:none;outline:none;font-family:inherit}.react-flow__handle{width:10px;height:10px;background:#3b82f6;border:2px solid white;border-radius:50%}.react-flow__handle:hover{width:12px;height:12px}.react-flow__resize-control{background:#fff;border:2px solid #3b82f6;border-radius:2px}.react-flow__resize-control:hover{background:#3b82f6}.react-flow__controls{bottom:20px;left:80px;box-shadow:0 4px 12px #0000001a;border-radius:8px;overflow:hidden}.react-flow__controls-button{background:#fff;border:none;border-bottom:1px solid #e5e7eb}.react-flow__controls-button:hover{background:#f3f4f6}.react-flow__minimap{background-color:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 4px 12px #0000001a}.react-flow__selection{background:#3b82f61a;border:2px solid #3b82f6}.toolbar-group-button.exit-button{color:#a1a1aa}.toolbar-group-button.exit-button:hover{background:#ffffff1a;color:#fff}.add-panel{position:absolute;left:68px;top:12px;width:280px;background:#27272a;border:1px solid #3f3f46;border-radius:16px;box-shadow:0 20px 60px #0009;z-index:1001;animation:slideIn .25s cubic-bezier(.34,1.56,.64,1);overflow:hidden}.add-panel:before{content:"";position:absolute;left:-8px;top:20px;width:0;height:0;border-style:solid;border-width:8px 8px 8px 0;border-color:transparent #3f3f46 transparent transparent}.add-panel:after{content:"";position:absolute;left:-6px;top:21px;width:0;height:0;border-style:solid;border-width:7px 7px 7px 0;border-color:transparent #27272a transparent transparent}.add-panel-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #3f3f46}.add-panel-header h3{font-size:15px;font-weight:600;color:#fff;margin:0}.add-panel-close{background:transparent;border:none;color:#a1a1aa;font-size:20px;cursor:pointer;padding:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .2s}.add-panel-close:hover{background:#ffffff1a;color:#fff}.add-panel-content{padding:16px 20px;display:flex;flex-direction:column;gap:20px}.add-section h4{font-size:12px;font-weight:600;color:#a1a1aa;margin:0 0 10px;text-transform:uppercase;letter-spacing:.5px}.add-color-grid{display:flex;gap:8px;flex-wrap:wrap}.add-color-btn{width:32px;height:32px;border-radius:8px;border:2px solid transparent;cursor:pointer;transition:all .2s}.add-color-btn:hover{transform:scale(1.1);border-color:#ffffff4d}.add-shape-grid{display:flex;gap:10px;margin-bottom:12px}.add-shape-btn{width:48px;height:48px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.add-shape-btn:hover{background:#ffffff1a;border-color:#fff3}.shape-preview{width:24px;height:24px;background:#3b82f6}.shape-preview.shape-rect{border-radius:4px}.shape-preview.shape-circle{border-radius:50%}.shape-preview.shape-triangle{width:0;height:0;background:transparent;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:24px solid #3b82f6}.add-item-btn{display:flex;align-items:center;gap:10px;width:100%;padding:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#e4e4e7;font-size:14px;cursor:pointer;transition:all .2s}.add-item-btn:hover{background:#ffffff1a;border-color:#fff3}.text-node{padding:8px 12px;background:transparent;position:relative;display:flex;align-items:center;justify-content:center}.text-node.selected{box-shadow:0 0 0 2px #3b82f680;border-radius:4px}.text-content{line-height:1.4;white-space:pre-wrap;-webkit-user-select:none;user-select:none;width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:auto}.text-edit-input{width:100%;padding:0;margin:0;border:none;background:transparent;outline:none;font-family:inherit;text-align:center}.text-node .react-flow__handle{width:8px;height:8px;background:#3b82f6;border:2px solid white;opacity:0;transition:opacity .2s}.text-node:hover .react-flow__handle,.text-node.selected .react-flow__handle{opacity:1}.shape-node{position:relative;transition:all .2s}.shape-node.shape-rectangle{border-radius:8px}.shape-node.shape-circle{border-radius:50%}.shape-node.shape-triangle{background:transparent!important;clip-path:polygon(50% 0%,0% 100%,100% 100%)}.shape-node:hover{box-shadow:0 4px 12px #0003}.shape-node.selected{box-shadow:0 0 0 2px #3b82f680!important}.shape-node .react-flow__handle{width:8px;height:8px;background:#3b82f6;border:2px solid white;opacity:0;transition:opacity .2s}.shape-node:hover .react-flow__handle,.shape-node.selected .react-flow__handle{opacity:1}.board-node{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px;background:transparent;cursor:pointer;transition:all .15s;min-width:56px;position:relative}.board-node:hover{background:#0000000a;border-radius:8px}.board-node.selected{background:#3b82f614;border-radius:8px}.board-node-icon{width:28px;height:28px;display:flex;align-items:center;justify-content:center;transition:transform .15s}.board-node:hover .board-node-icon{transform:scale(1.08)}.board-node:hover .board-node-icon svg{stroke:#374151}.board-node-name{font-size:11px;font-weight:500;color:#6b7280;text-align:center;max-width:64px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.board-node-name:empty:after{content:"새 보드";color:#9ca3af}.board-node:hover .board-node-name{color:#374151}.board-node-count{position:absolute;top:4px;right:4px;min-width:14px;height:14px;padding:0 4px;background:#e5e7eb;border-radius:7px;font-size:9px;font-weight:600;color:#6b7280;display:flex;align-items:center;justify-content:center}.board-node-input{width:60px;padding:2px 4px;font-size:11px;font-weight:500;color:#374151;background:#fff;border:1px solid #3b82f6;border-radius:4px;outline:none;text-align:center}.board-node-input::placeholder{color:#9ca3af}.react-flow-canvas{flex:1;background-color:#fafafa;padding-top:48px}.add-panel,.ai-panel{top:60px}.bottom-tray{position:absolute;bottom:0;left:60px;right:0;background:#fffffffa;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid #e5e7eb;box-shadow:0 -4px 20px #00000014;z-index:100;animation:slideUp .2s ease-out}@keyframes slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.tray-header{display:flex;align-items:center;gap:8px;padding:10px 16px;border-bottom:1px solid #f3f4f6}.tray-title{font-size:13px;font-weight:600;color:#374151}.tray-count{font-size:12px;color:#9ca3af;background:#f3f4f6;padding:2px 8px;border-radius:10px}.tray-toggle{margin-left:auto;padding:4px;background:transparent;border:none;color:#9ca3af;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .15s}.tray-toggle:hover{background:#f3f4f6;color:#6b7280}.tray-items{display:flex;gap:12px;padding:12px 16px;overflow-x:auto;min-height:80px;align-items:center}.tray-items::-webkit-scrollbar{height:6px}.tray-items::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.tray-items::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.tray-items::-webkit-scrollbar-thumb:hover{background:#9ca3af}.tray-empty{flex:1;display:flex;align-items:center;justify-content:center;font-size:12px;color:#9ca3af;text-align:center;line-height:1.6}.tray-item{position:relative;width:64px;height:64px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;cursor:grab;transition:all .15s;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden}.tray-item:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f626;transform:translateY(-2px)}.tray-item:active{cursor:grabbing}.tray-item-image{width:100%;height:100%;object-fit:cover;pointer-events:none}.tray-item-note{width:48px;height:48px;border-radius:4px;box-shadow:0 1px 3px #0000001a}.tray-item-board{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#f3f4f6;border-radius:6px}.tray-item-remove{position:absolute;top:2px;right:2px;width:18px;height:18px;background:#0009;border:none;border-radius:50%;color:#fff;font-size:12px;cursor:pointer;opacity:0;transition:opacity .15s;display:flex;align-items:center;justify-content:center;line-height:1}.tray-item:hover .tray-item-remove{opacity:1}.tray-item-remove:hover{background:#ef4444}.tray-open-btn{position:absolute;bottom:16px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:6px;padding:8px 16px;background:#fffffff2;border:1px solid #e5e7eb;border-radius:20px;color:#374151;font-size:13px;font-weight:500;cursor:pointer;box-shadow:0 4px 12px #0000001a;transition:all .2s;z-index:100}.tray-open-btn:hover{background:#fff;box-shadow:0 6px 16px #00000026;transform:translate(-50%) translateY(-2px)}.react-flow-canvas{position:absolute;top:48px;left:60px;right:200px;bottom:0}.board-node.drag-over{background:#3b82f626;border-radius:8px}.board-node.drag-over .board-node-icon svg{stroke:#3b82f6}.node-panel-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000080;z-index:199;animation:fadeIn .2s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.ai-node-helper-btn{margin-top:8px;padding:10px 16px;width:100%;background:linear-gradient(135deg,#4a90d9,#9c27b0,#ff6b35);border:none;border-radius:8px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.ai-node-helper-btn:hover{transform:translateY(-1px);box-shadow:0 4px 12px #4a90d94d}.add-item-btn.ai-node-btn{background:linear-gradient(135deg,#4a90d933,#9c27b033,#ff6b3533);border:1px solid rgba(156,39,176,.3)}.add-item-btn.ai-node-btn:hover{background:linear-gradient(135deg,#4a90d94d,#9c27b04d,#ff6b354d);border-color:#9c27b080}.draggable-items{display:flex;flex-direction:column;gap:8px}.draggable-item{display:flex;align-items:center;gap:10px;padding:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#e4e4e7;font-size:14px;cursor:grab;transition:all .2s}.draggable-item:hover{background:#ffffff1a;border-color:#fff3;transform:translate(4px)}.draggable-item:active{cursor:grabbing}.draggable-item .drag-icon{font-size:18px}.draggable-item.ai-generator-drag{background:linear-gradient(135deg,#3b82f633,#3b82f61a);border-color:#3b82f64d}.draggable-item.prompt-builder-drag{background:linear-gradient(135deg,#9c27b033,#ff6b351a);border-color:#9c27b04d}.draggable-item.board-drag{background:#22c55e1a;border-color:#22c55e4d}.draggable-item.text-drag{background:#6b72801a;border-color:#6b72804d}.draggable-color-btn{width:32px;height:32px;border-radius:8px;border:2px solid transparent;cursor:grab;transition:all .2s}.draggable-color-btn:hover{transform:scale(1.1);border-color:#ffffff4d}.draggable-color-btn:active{cursor:grabbing}.draggable-shape-btn{width:48px;height:48px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:10px;cursor:grab;display:flex;align-items:center;justify-content:center;transition:all .2s}.draggable-shape-btn:hover{background:#ffffff1a;border-color:#fff3}.draggable-shape-btn:active{cursor:grabbing}.ai-generator-node{width:100%;height:100%;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;border:2px solid #3b82f6;overflow:hidden;display:flex;flex-direction:column}.ai-generator-node.selected{box-shadow:0 0 0 2px #3b82f680,0 4px 20px #00000026}.ai-node-header{padding:12px 16px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;font-weight:600;font-size:14px}.ai-node-content{padding:12px;display:flex;flex-direction:column;gap:10px;flex:1;overflow-y:auto}.ai-node-field{display:flex;flex-direction:column;gap:4px}.ai-node-field label{font-size:11px;color:#6b7280;font-weight:500}.ai-node-field input,.ai-node-field select,.ai-node-field textarea{padding:8px 10px;border:1px solid #e5e7eb;border-radius:6px;font-size:13px;font-family:inherit}.ai-node-field input:focus,.ai-node-field select:focus,.ai-node-field textarea:focus{outline:none;border-color:#3b82f6}.ai-node-field textarea{resize:none}.ai-node-input-row{display:flex;gap:6px}.ai-node-input-row input{flex:1}.ai-node-input-row button{padding:8px 12px;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:6px;font-size:12px;cursor:pointer}.ai-node-input-row button:hover{background:#e5e7eb}.ai-node-error{padding:8px;background:#fef2f2;border:1px solid #fecaca;border-radius:6px;color:#dc2626;font-size:12px}.ai-node-generate-btn{padding:10px 16px;background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;border-radius:8px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.ai-node-generate-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.ai-node-generate-btn:disabled{opacity:.6;cursor:not-allowed}.prompt-builder-node{width:100%;height:100%;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;border:2px solid #9c27b0;overflow:hidden;display:flex;flex-direction:column}.prompt-builder-node.selected{box-shadow:0 0 0 2px #9c27b080,0 4px 20px #00000026}.prompt-builder-node .prompt-node-header{padding:12px 16px;background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:#fff;font-weight:600;font-size:14px}.prompt-builder-node .prompt-node-tabs{display:flex;padding:8px;gap:4px;background:#f9fafb;border-bottom:1px solid #e5e7eb}.prompt-builder-node .prompt-node-tabs button{flex:1;padding:8px;border:none;background:transparent;border-radius:6px;font-size:13px;cursor:pointer;transition:all .2s;color:#6b7280}.prompt-builder-node .prompt-node-tabs button:hover{background:#f3f4f6}.prompt-builder-node .prompt-node-tabs button.active{background:#9c27b0;color:#fff}.prompt-builder-node .prompt-node-body{padding:12px;display:flex;flex-direction:column;gap:10px;flex:1;overflow-y:auto}.prompt-builder-node .prompt-node-input{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:6px;font-size:13px;box-sizing:border-box}.prompt-builder-node .prompt-node-input:focus{outline:none;border-color:#9c27b0}.prompt-builder-node .prompt-node-categories{display:flex;flex-direction:column;gap:10px}.prompt-builder-node .prompt-mini-category{display:flex;flex-direction:column;gap:6px}.prompt-builder-node .prompt-cat-title{font-size:12px;font-weight:600;color:#374151}.prompt-builder-node .prompt-cat-options{display:flex;flex-wrap:wrap;gap:4px}.prompt-builder-node .prompt-opt-btn{padding:5px 10px;border:1px solid #e5e7eb;border-radius:14px;background:#fff;font-size:12px;cursor:pointer;transition:all .2s;color:#6b7280}.prompt-builder-node .prompt-opt-btn:hover{border-color:#9c27b0;color:#9c27b0}.prompt-builder-node .prompt-opt-btn.active{background:#9c27b0;border-color:#9c27b0;color:#fff}.prompt-builder-node .prompt-node-preview{padding:8px 10px;background:#f3e5f5;border:1px solid #ce93d8;border-radius:6px;font-size:11px;color:#7b1fa2;line-height:1.4}.ai-generator-node .react-flow__handle,.prompt-builder-node .react-flow__handle{width:12px;height:12px;background:#3b82f6;border:2px solid white}.prompt-builder-node .react-flow__handle{background:#9c27b0}.reference-node{width:100%;height:100%;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000001a;border:2px solid #eee;overflow:hidden;transition:all .3s;display:flex;flex-direction:column}.reference-node.selected{box-shadow:0 4px 20px #00000026;border-color:var(--ref-color)}.ref-node-header{padding:10px 14px;color:#fff;font-weight:600;font-size:14px}.ref-node-content{padding:12px;display:flex;flex-direction:column;gap:10px;flex:1;overflow-y:auto}.ref-dropzone{width:100%;min-height:100px;border:2px dashed #ddd;border-radius:8px;background:#fafafa;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}.ref-dropzone.dragging{background:#4caf501a}.ref-preview-img{width:100%;height:auto;max-height:120px;object-fit:contain}.ref-remove-btn{position:absolute;top:4px;right:4px;width:24px;height:24px;border-radius:50%;border:none;background:#00000080;color:#fff;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}.ref-remove-btn:hover{background:#000000b3}.ref-drop-icon{font-size:24px;margin-bottom:6px}.ref-drop-text{font-size:12px;color:#888}.ref-strength{width:100%}.ref-strength-label{display:flex;justify-content:space-between;font-size:11px;color:#666;margin-bottom:4px}.ref-strength input[type=range]{width:100%}.ref-options{display:flex;flex-wrap:wrap;gap:4px}.ref-opt-btn{padding:5px 10px;border:2px solid #ddd;border-radius:14px;background:#fff;font-size:11px;cursor:pointer;transition:all .2s}.ref-opt-btn:hover{border-color:var(--ref-color)}.ref-opt-btn.active{font-weight:600}.postprocess-node{width:100%;height:100%;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000001a;border:2px solid #eee;overflow:hidden;transition:all .3s;display:flex;flex-direction:column}.postprocess-node.selected{box-shadow:0 4px 20px #00000026;border-color:var(--pp-color)}.pp-node-header{padding:10px 14px;color:#fff;font-weight:600;font-size:14px;display:flex;justify-content:space-between;align-items:center}.pp-node-content{padding:12px;display:flex;flex-direction:column;gap:10px;flex:1;overflow-y:auto}.pp-intensity{width:100%}.pp-intensity-label{display:flex;justify-content:space-between;font-size:11px;color:#666;margin-bottom:4px}.pp-intensity input[type=range]{width:100%}.pp-options{display:flex;flex-wrap:wrap;gap:4px}.pp-opt-btn{padding:5px 10px;border:2px solid #ddd;border-radius:14px;background:#fff;font-size:11px;cursor:pointer;transition:all .2s}.pp-opt-btn:hover{border-color:var(--pp-color)}.pp-opt-btn.active{font-weight:600}.pp-status{font-size:11px;color:#888;text-align:center;padding:6px;background:#f9f9f9;border-radius:6px}.reference-node .react-flow__handle,.postprocess-node .react-flow__handle{width:12px;height:12px;background:var(--ref-color, #4CAF50);border:2px solid white}.postprocess-node .react-flow__handle{background:var(--pp-color, #E91E63)}.reference-items,.postprocess-items{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}.reference-items .draggable-item,.postprocess-items .draggable-item{flex-direction:column;padding:8px 6px;font-size:11px}.reference-items .draggable-item .drag-icon,.postprocess-items .draggable-item .drag-icon{font-size:18px;margin-bottom:2px}.ref-pose-drag{border-color:#4caf50!important}.ref-pose-drag:hover{background:#4caf501a}.ref-char-drag{border-color:#2196f3!important}.ref-char-drag:hover{background:#2196f31a}.ref-style-drag{border-color:#9c27b0!important}.ref-style-drag:hover{background:#9c27b01a}.ref-comp-drag{border-color:#ff9800!important}.ref-comp-drag:hover{background:#ff98001a}.ref-bg-drag{border-color:#00bcd4!important}.ref-bg-drag:hover{background:#00bcd41a}.ref-obj-drag{border-color:#795548!important}.ref-obj-drag:hover{background:#7955481a}.pp-remove-drag{border-color:#e91e63!important}.pp-remove-drag:hover{background:#e91e631a}.pp-line-drag{border-color:#607d8b!important}.pp-line-drag:hover{background:#607d8b1a}.pp-mat-drag{border-color:#9c27b0!important}.pp-mat-drag:hover{background:#9c27b01a}.pp-up-drag{border-color:#2196f3!important}.pp-up-drag:hover{background:#2196f31a}.pp-sty-drag{border-color:#ff9800!important}.pp-sty-drag:hover{background:#ff98001a}.ai-generator-node.has-connections{border-color:#22c55e}.ai-node-header{display:flex;justify-content:space-between;align-items:center}.connection-badge{background:#fff3;padding:2px 8px;border-radius:10px;font-size:11px}.ai-node-connections{background:#f0fdf4;border:1px solid #86efac;border-radius:8px;padding:8px 10px;margin-bottom:8px}.connections-title{font-size:11px;font-weight:600;color:#166534;margin-bottom:6px}.connection-item{display:flex;align-items:center;gap:6px;font-size:11px;color:#374151;padding:4px 0}.connection-item .conn-icon{font-size:14px}.connection-item .conn-label{flex:1}.connection-item .conn-status{color:#22c55e;font-weight:600}.connection-item.ref-connection:not(.has-image) .conn-status{color:#f59e0b}.connection-item .conn-preview{width:100%;font-size:9px;color:#6b7280;background:#f3f4f6;padding:3px 6px;border-radius:4px;margin-top:2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.connection-item.charmaker-connection{background:#8b5cf61a;border-color:#8b5cf6}.connection-item.charmaker-connection .conn-icon{color:#8b5cf6}.connection-item.charmaker-connection .conn-status{color:#22c55e}.ai-node-preview{background:#eff6ff;border:1px solid #93c5fd;border-radius:6px;padding:8px 10px}.ai-node-preview label{font-size:11px;font-weight:600;color:#1d4ed8;margin-bottom:4px;display:block}.ai-node-preview p{margin:0;font-size:11px;color:#374151;line-height:1.4}.ai-node-help{font-size:11px;color:#9ca3af;text-align:center;padding:8px;background:#f9fafb;border-radius:6px;margin-top:4px}.ai-node-gallery{margin-top:8px;padding-top:10px;border-top:1px solid #e5e7eb}.ai-node-gallery label{font-size:11px;font-weight:600;color:#374151;display:block;margin-bottom:8px}.ai-node-gallery-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;max-height:200px;overflow-y:auto}.ai-node-gallery-item{position:relative;aspect-ratio:1;background:#f3f4f6;border-radius:6px;overflow:hidden;cursor:pointer;transition:all .2s}.ai-node-gallery-item:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.ai-node-gallery-item img{width:100%;height:100%;object-fit:cover}.ai-node-download-btn{position:absolute;bottom:4px;right:4px;width:24px;height:24px;background:#0009;border:none;border-radius:4px;font-size:12px;cursor:pointer;opacity:0;transition:opacity .2s;display:flex;align-items:center;justify-content:center}.ai-node-gallery-item:hover .ai-node-download-btn{opacity:1}.ai-node-download-btn:hover{background:#3b82f6cc}.ai-node-clear-btn{width:100%;margin-top:8px;padding:6px;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:6px;font-size:11px;color:#6b7280;cursor:pointer;transition:all .2s}.ai-node-clear-btn:hover{background:#fee2e2;border-color:#fecaca;color:#dc2626}.prompt-builder-node{width:360px;border-color:var(--prompt-color, #9c27b0)}.prompt-builder-node .prompt-node-header{display:flex;justify-content:space-between;align-items:center}.prompt-header-count{background:#fff3;padding:2px 8px;border-radius:10px;font-size:11px}.prompt-builder-node .prompt-node-tabs button{font-size:12px}.prompt-builder-node .prompt-node-tabs button.active{background:var(--tab-color, #9c27b0)}.prompt-cat-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.prompt-cat-count{font-size:10px;color:#9ca3af}.prompt-opt-btn{display:inline-flex;align-items:center;gap:3px}.prompt-opt-btn .check-mark{font-size:10px}.prompt-node-preview{background:#fafafa;border:1px solid #e5e7eb;border-left:3px solid var(--prompt-color, #9c27b0);border-radius:6px;padding:10px}.preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.preview-header span{font-size:11px;font-weight:600}.clear-btn{padding:2px 8px;border:1px solid #d1d5db;border-radius:4px;background:#fff;font-size:10px;cursor:pointer;color:#6b7280}.clear-btn:hover{background:#f3f4f6}.preview-text{margin:0;font-size:11px;color:#374151;line-height:1.4;max-height:60px;overflow-y:auto}.prompt-node-help{font-size:11px;color:#9ca3af;text-align:center;padding:8px;background:#f9fafb;border-radius:6px}.ref-node-help{font-size:10px;color:#9ca3af;text-align:center;padding:6px;background:#f9fafb;border-radius:4px;margin-top:6px}.react-flow__edge-path{stroke-width:2}.react-flow__edge.selected .react-flow__edge-path{stroke-width:3}.react-flow__edge-path{stroke-dasharray:5;animation:flowDash 1s linear infinite}@keyframes flowDash{to{stroke-dashoffset:-10}}.add-panel-scrollable{max-height:calc(100vh - 200px);overflow-y:auto}.add-panel-scrollable::-webkit-scrollbar{width:6px}.add-panel-scrollable::-webkit-scrollbar-track{background:#ffffff0d;border-radius:3px}.add-panel-scrollable::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.prompt-scrollable{max-height:280px;overflow-y:auto}.prompt-scrollable::-webkit-scrollbar{width:4px}.prompt-scrollable::-webkit-scrollbar-track{background:#f3f4f6;border-radius:2px}.prompt-scrollable::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:2px}.ref-scrollable{max-height:320px;overflow-y:auto}.ref-scrollable::-webkit-scrollbar{width:4px}.ref-scrollable::-webkit-scrollbar-track{background:#f3f4f6;border-radius:2px}.ref-scrollable::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:2px}.pp-scrollable{flex:1;overflow-y:auto;min-height:0}.pp-scrollable::-webkit-scrollbar{width:4px}.pp-scrollable::-webkit-scrollbar-track{background:#f3f4f6;border-radius:2px}.pp-scrollable::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:2px}.prompt-single-node{width:100%;height:100%;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;border:2px solid var(--prompt-color, #9c27b0);overflow:visible;display:flex;flex-direction:column;min-width:280px}.prompt-single-node.selected{box-shadow:0 0 0 2px #9c27b080,0 4px 20px #00000026}.prompt-node-body-compact{padding:10px;display:flex;flex-direction:column;gap:8px}.prompt-cat-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:6px}.prompt-cat-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;padding:6px 4px;border:2px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s;position:relative;min-height:44px}.prompt-cat-btn:hover{border-color:var(--prompt-color, #9c27b0);background:#fafafa}.prompt-cat-btn.expanded{border-color:var(--prompt-color, #9c27b0);background:var(--prompt-color, #9c27b0)}.prompt-cat-btn.expanded .cat-btn-title{color:#fff}.cat-btn-title{font-size:10px;font-weight:500;color:#374151;text-align:center;line-height:1.2}.cat-btn-count{position:absolute;top:-6px;right:-6px;min-width:16px;height:16px;padding:0 4px;border-radius:8px;font-size:9px;font-weight:600;color:#fff;display:flex;align-items:center;justify-content:center}.prompt-expanded-options{position:absolute;top:100%;left:0;right:0;margin-top:4px;background:#fff;border:2px solid var(--prompt-color, #9c27b0);border-radius:10px;box-shadow:0 8px 24px #0003;z-index:100;animation:expandIn .15s ease-out}@keyframes expandIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.expanded-header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-bottom:1px solid #e5e7eb;font-size:12px;font-weight:600;color:var(--prompt-color, #9c27b0)}.expanded-close{background:none;border:none;font-size:14px;color:#9ca3af;cursor:pointer;padding:2px 6px;border-radius:4px}.expanded-close:hover{background:#f3f4f6;color:#374151}.expanded-options-grid{display:flex;flex-wrap:wrap;gap:6px;padding:10px;max-height:180px;overflow-y:auto}.prompt-opt-chip{padding:5px 10px;border:1.5px solid #ddd;border-radius:14px;background:#fff;font-size:11px;cursor:pointer;transition:all .15s;display:inline-flex;align-items:center;gap:3px}.prompt-opt-chip:hover{border-color:var(--prompt-color, #9c27b0)}.prompt-opt-chip.active{font-weight:600}.chip-check{font-size:9px}.prompt-selected-tags{display:flex;flex-wrap:wrap;gap:4px;padding-top:6px;border-top:1px solid #e5e7eb}.selected-tag{padding:3px 7px;border:1px solid;border-radius:10px;font-size:9px;cursor:pointer;transition:all .15s}.selected-tag:hover{opacity:.7}.clear-all-btn{padding:3px 7px;border:1px solid #d1d5db;border-radius:10px;background:#f9fafb;font-size:9px;color:#6b7280;cursor:pointer}.clear-all-btn:hover{background:#ef4444;border-color:#ef4444;color:#fff}.ref-type-selector,.pp-type-selector{display:flex;flex-direction:column;gap:4px;margin-bottom:8px}.ref-type-selector label,.pp-type-selector label{font-size:11px;font-weight:500;color:#6b7280}.ref-type-selector select,.pp-type-selector select{width:100%;padding:8px 10px;border:2px solid #e5e7eb;border-radius:8px;font-size:13px;font-family:inherit;background:#fff;cursor:pointer;transition:border-color .2s}.ref-type-selector select:focus,.pp-type-selector select:focus{outline:none}.prompt-scene-drag{background:linear-gradient(135deg,#4caf5033,#4caf501a);border-color:#4caf504d!important}.prompt-scene-drag:hover{background:linear-gradient(135deg,#4caf504d,#4caf5033)}.prompt-character-drag{background:linear-gradient(135deg,#2196f333,#2196f31a);border-color:#2196f34d!important}.prompt-character-drag:hover{background:linear-gradient(135deg,#2196f34d,#2196f333)}.prompt-props-drag{background:linear-gradient(135deg,#ff980033,#ff98001a);border-color:#ff98004d!important}.prompt-props-drag:hover{background:linear-gradient(135deg,#ff98004d,#ff980033)}.reference-drag{background:linear-gradient(135deg,#4caf5033,#2196f31a);border-color:#4caf504d!important}.reference-drag:hover{background:linear-gradient(135deg,#4caf504d,#2196f333)}.postprocess-drag{background:linear-gradient(135deg,#e91e6333,#9c27b01a);border-color:#e91e634d!important}.postprocess-drag:hover{background:linear-gradient(135deg,#e91e634d,#9c27b033)}.pp-image-preview{margin-top:10px;padding:8px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb}.pp-image-preview label{font-size:10px;font-weight:600;color:#6b7280;display:block;margin-bottom:6px}.pp-image-preview img{width:100%;border-radius:6px;object-fit:contain;max-height:150px}.pp-image-preview.output{background:linear-gradient(135deg,#ecfdf5,#f0fdf4);border-color:#86efac}.pp-process-btn{width:100%;margin-top:10px;padding:10px;border:none;border-radius:8px;font-size:12px;font-weight:600;color:#fff;cursor:pointer;transition:all .2s}.pp-process-btn:hover:not(:disabled){filter:brightness(1.1);transform:translateY(-1px)}.pp-process-btn:disabled{opacity:.5;cursor:not-allowed}.pp-status{font-size:11px;text-align:center;margin-top:6px;padding:4px 8px;background:#0000000d;border-radius:4px}.pp-download-btn{width:100%;margin-top:6px;padding:6px;background:#10b981;border:none;border-radius:6px;font-size:11px;color:#fff;cursor:pointer;transition:all .2s}.pp-download-btn:hover{background:#059669}.pp-help{font-size:11px;color:#9ca3af;text-align:center;padding:12px;background:#f9fafb;border-radius:6px;margin-top:8px;line-height:1.5}.pp-help small{font-size:10px;color:#b0b0b0}.pp-output-actions{display:flex;gap:6px;margin-top:8px}.pp-action-btn{flex:1;padding:8px;border:none;border-radius:6px;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s;background:#3b82f6;color:#fff}.pp-action-btn:hover{filter:brightness(1.1)}.pp-action-btn.download{background:#10b981}.pp-api-badge{background:#ffffff4d;padding:2px 6px;border-radius:4px;font-size:10px;margin-left:8px}.pp-intensity-hint{font-size:10px;color:#888;text-align:center;margin-top:2px}.react-flow__node:hover .react-flow__resize-control,.react-flow__node.selected .react-flow__resize-control{opacity:1!important}.react-flow__resize-control{opacity:0;transition:opacity .2s}.react-flow__node.selected .react-flow__resize-control.handle{opacity:1!important}.react-flow__node:hover{z-index:100!important}.ai-generator-node:hover,.prompt-single-node:hover,.reference-node:hover,.postprocess-node:hover,.note-node:hover,.text-node:hover,.shape-node:hover,.image-node:hover{box-shadow:0 8px 24px #00000026!important}.asset-library-panel{position:absolute;right:16px;bottom:16px;width:320px;max-height:400px;background:#fff;border-radius:12px;box-shadow:0 8px 32px #00000026;z-index:1000;display:flex;flex-direction:column;overflow:hidden}.asset-library-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);color:#fff}.asset-library-header h3{margin:0;font-size:14px;font-weight:600}.asset-library-header button{background:#fff3;border:none;border-radius:4px;padding:4px 8px;color:#fff;cursor:pointer;font-size:12px}.asset-library-header button:hover{background:#ffffff4d}.asset-library-content{flex:1;overflow-y:auto;padding:12px}.asset-library-empty{text-align:center;padding:24px;color:#9ca3af;font-size:13px}.asset-library-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.asset-item{position:relative;aspect-ratio:1;background:#f3f4f6;border-radius:8px;overflow:hidden;cursor:pointer;transition:all .2s}.asset-item:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.asset-item img{width:100%;height:100%;object-fit:cover}.asset-item-actions{position:absolute;bottom:0;left:0;right:0;display:flex;gap:2px;padding:4px;background:linear-gradient(to top,rgba(0,0,0,.7),transparent);opacity:0;transition:opacity .2s}.asset-item:hover .asset-item-actions{opacity:1}.asset-item-actions button{flex:1;padding:4px;background:#ffffffe6;border:none;border-radius:4px;font-size:10px;cursor:pointer;transition:background .2s}.asset-item-actions button:hover{background:#fff}.asset-library-toggle{position:absolute;right:16px;bottom:16px;width:48px;height:48px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border:none;border-radius:50%;color:#fff;font-size:20px;cursor:pointer;box-shadow:0 4px 12px #3b82f666;transition:all .2s;z-index:999}.asset-library-toggle:hover{transform:scale(1.1);box-shadow:0 6px 16px #3b82f680}.selection-box{position:absolute;border:2px dashed #3b82f6;background:#3b82f61a;pointer-events:none;z-index:9999}.character-maker-node{background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;overflow:hidden;min-width:400px;min-height:500px;display:flex;flex-direction:column}.character-maker-node.selected{box-shadow:0 0 0 3px #8b5cf6,0 4px 20px #8b5cf64d}.char-maker-header{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;padding:10px 14px;font-weight:600;font-size:14px;display:flex;justify-content:space-between;align-items:center}.char-maker-actions{display:flex;gap:6px}.char-maker-actions button{background:#fff3;border:none;border-radius:6px;color:#fff;width:28px;height:28px;cursor:pointer;font-size:14px;transition:background .2s}.char-maker-actions button:hover{background:#ffffff4d}.char-maker-content{flex:1;padding:12px;display:flex;flex-direction:column;gap:12px;overflow-y:auto;max-height:calc(100% - 50px)}.char-preset-panel{background:#f8f9fa;border-radius:8px;padding:10px;margin-bottom:8px}.preset-save{display:flex;gap:8px;margin-bottom:8px}.preset-save input{flex:1;padding:8px;border:1px solid #e5e7eb;border-radius:6px;font-size:13px}.preset-save button{padding:8px 14px;background:#8b5cf6;color:#fff;border:none;border-radius:6px;font-size:13px;cursor:pointer}.preset-save button:disabled{opacity:.5;cursor:not-allowed}.preset-list{max-height:120px;overflow-y:auto}.preset-empty{color:#9ca3af;font-size:12px;text-align:center;padding:10px}.preset-item{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;background:#fff;border-radius:6px;margin-bottom:4px}.preset-item span{flex:1;cursor:pointer;font-size:13px}.preset-item span:hover{color:#8b5cf6}.preset-item button{background:none;border:none;color:#9ca3af;cursor:pointer;font-size:16px}.preset-item button:hover{color:#ef4444}.char-silhouette{position:relative;width:100%;padding-top:100%;background:#f1f5f9;border-radius:10px;overflow:hidden}.char-tpose-bg{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6}.char-part-area{position:absolute;background:#8b5cf61a;border:2px dashed rgba(139,92,246,.3);border-radius:6px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .2s}.char-part-area:hover{background:#8b5cf633;border-color:#8b5cf680}.char-part-area.active{background:#8b5cf64d;border-color:#8b5cf6;border-style:solid}.char-part-area.has-selection{background:#22c55e26;border-color:#22c55e}.char-part-area.has-selection.active{background:#22c55e40}.part-label{font-size:10px;font-weight:600;color:#6b7280}.part-count{font-size:9px;background:#22c55e;color:#fff;padding:1px 5px;border-radius:10px;margin-top:2px}.char-options-panel{background:#f8f9fa;border-radius:8px;padding:10px;border:1px solid #e5e7eb}.options-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-weight:600;font-size:13px;color:#374151}.options-header button{background:none;border:none;color:#9ca3af;cursor:pointer;font-size:14px}.options-grid{display:flex;flex-wrap:wrap;gap:6px}.char-option-btn{padding:6px 12px;background:#fff;border:1px solid #e5e7eb;border-radius:16px;font-size:12px;cursor:pointer;color:#555;transition:all .2s}.char-option-btn:hover{border-color:#8b5cf6;color:#8b5cf6}.char-option-btn.active{background:#8b5cf61a;border-color:#8b5cf6;color:#8b5cf6}.char-summary{background:#f0fdf4;border-radius:8px;padding:10px;border:1px solid #bbf7d0}.summary-title{font-size:12px;font-weight:600;color:#15803d;margin-bottom:6px}.summary-tags{display:flex;flex-wrap:wrap;gap:4px}.summary-tag{padding:4px 8px;background:#dcfce7;color:#15803d;border-radius:12px;font-size:11px;cursor:pointer;transition:background .2s}.summary-tag:hover{background:#bbf7d0}.char-prompt-preview{background:#f1f5f9;border-radius:8px;padding:10px}.char-prompt-preview label{display:block;font-size:11px;font-weight:600;color:#6b7280;margin-bottom:4px}.char-prompt-preview p{margin:0;font-size:12px;color:#374151;line-height:1.4;word-break:break-word}.character-maker-drag{background:linear-gradient(135deg,#8b5cf61a,#a855f71a)!important;border-color:#8b5cf64d!important}.character-maker-drag:hover{border-color:#8b5cf6!important;background:linear-gradient(135deg,#8b5cf633,#a855f733)!important}.ai-generator-node-v2{width:100%;height:100%;background:#111827;border-radius:12px;box-shadow:0 4px 24px #0000004d;overflow:hidden;display:flex;flex-direction:column;color:#fff}.ai-generator-node-v2.selected{box-shadow:0 0 0 3px #8b5cf6,0 4px 24px #8b5cf64d}.aig-header{padding:12px 16px;background:linear-gradient(135deg,#8b5cf6,#3b82f6);display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:15px}.aig-header-actions{display:flex;gap:4px}.aig-header-actions button{padding:6px 12px;background:#fff3;border:none;border-radius:6px;color:#fff;font-size:12px;cursor:pointer;transition:background .2s}.aig-header-actions button:hover{background:#ffffff4d}.aig-header-actions button.active{background:#fff6}.aig-body{flex:1;padding:16px;display:flex;flex-direction:column;gap:16px;overflow:hidden;background:#1f2937}.aig-main-layout{display:flex;gap:16px;flex:1;min-height:0}.aig-categories{width:100px;display:flex;flex-direction:column;gap:4px;flex-shrink:0}.aig-category-btn{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#374151;border:none;border-radius:8px;color:#9ca3af;font-size:12px;cursor:pointer;transition:all .15s;text-align:left}.aig-category-btn:hover{background:#4b5563;color:#fff}.aig-category-btn.active{background:#3b82f6;color:#fff}.aig-category-btn.settings-btn{margin-top:auto;background:#4b5563}.aig-category-btn .cat-icon{font-size:14px}.aig-category-btn .cat-name{flex:1;font-weight:500}.aig-settings-content{flex:1;overflow-y:auto;min-width:0}.char-settings-panel{background:#374151;border-radius:10px;padding:16px;height:100%;overflow-y:auto}.char-settings-panel h4{margin:0 0 16px;font-size:15px;color:#fff;border-bottom:2px solid #4b5563;padding-bottom:10px}.setting-group{margin-bottom:16px}.setting-group label{display:block;font-size:12px;color:#9ca3af;margin-bottom:8px;font-weight:600}.option-buttons{display:flex;flex-wrap:wrap;gap:6px}.option-buttons button{padding:8px 14px;background:#4b5563;border:none;border-radius:6px;color:#d1d5db;font-size:12px;cursor:pointer;transition:all .15s;white-space:nowrap}.option-buttons button:hover{background:#6b7280;color:#fff;transform:translateY(-1px)}.option-buttons button.active{background:#3b82f6;color:#fff;box-shadow:0 2px 8px #3b82f666}.aig-settings-view{display:flex;flex-direction:column;gap:16px;padding:8px}.aig-field{display:flex;flex-direction:column;gap:6px}.aig-field label{font-size:12px;color:#9ca3af;font-weight:500}.aig-field input,.aig-field select{padding:10px 12px;background:#374151;border:1px solid #4b5563;border-radius:8px;color:#fff;font-size:13px}.aig-field input:focus,.aig-field select:focus{outline:none;border-color:#3b82f6}.aig-input-row{display:flex;gap:8px}.aig-input-row input{flex:1}.aig-input-row button{padding:10px 14px;background:#4b5563;border:none;border-radius:8px;color:#fff;font-size:12px;cursor:pointer}.aig-input-row button:hover{background:#6b7280}.aig-reset-btn{padding:10px 16px;background:#ef4444;border:none;border-radius:8px;color:#fff;font-size:13px;cursor:pointer;transition:background .2s}.aig-reset-btn:hover{background:#dc2626}.aig-prompt-preview{background:#374151;border-radius:10px;padding:14px 16px;border-left:4px solid #3b82f6}.aig-prompt-preview .prompt-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.aig-prompt-preview label{font-size:13px;color:#9ca3af;font-weight:600}.aig-prompt-preview .copy-btn{padding:6px 14px;background:#4b5563;border:none;border-radius:6px;color:#d1d5db;font-size:12px;cursor:pointer;transition:all .2s}.aig-prompt-preview .copy-btn:hover{background:#3b82f6;color:#fff}.aig-prompt-preview p{margin:0;font-size:12px;color:#d1d5db;line-height:1.6;word-break:break-word;max-height:80px;overflow-y:auto}.aig-error{padding:10px 12px;background:#ef444433;border:1px solid #ef4444;border-radius:8px;color:#fca5a5;font-size:12px}.aig-generate-btn{padding:16px 24px;background:linear-gradient(135deg,#8b5cf6,#3b82f6);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s}.aig-generate-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #8b5cf680}.aig-generate-btn:disabled{opacity:.5;cursor:not-allowed}.aig-gallery{background:#374151;border-radius:8px;padding:12px}.aig-gallery>label{display:block;font-size:12px;color:#9ca3af;margin-bottom:10px;font-weight:600}.aig-gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:8px;max-height:200px;overflow-y:auto}.aig-gallery-item{position:relative;border-radius:6px;overflow:hidden;cursor:pointer;background:repeating-conic-gradient(#e5e7eb,#e5e7eb 25%,#f3f4f6 0%,#f3f4f6 50%) 50% / 12px 12px}.aig-gallery-item img{width:100%;height:auto;object-fit:contain;transition:transform .2s}.aig-gallery-item:hover img{transform:scale(1.05)}.aig-download-btn{position:absolute;bottom:4px;right:4px;width:24px;height:24px;background:#000000b3;border:none;border-radius:4px;color:#fff;font-size:12px;cursor:pointer;opacity:0;transition:opacity .2s}.aig-gallery-item:hover .aig-download-btn{opacity:1}.aig-clear-btn{margin-top:10px;padding:8px 12px;background:#4b5563;border:none;border-radius:6px;color:#9ca3af;font-size:12px;cursor:pointer;width:100%}.aig-clear-btn:hover{background:#6b7280;color:#fff}.ai-generator-node-v2 .react-flow__handle{width:14px;height:14px;background:#8b5cf6;border:2px solid #1f2937}.aig-main-layout{display:flex;flex:1;gap:12px;min-height:0;overflow:hidden}.aig-main-layout .aig-categories{width:160px;flex-shrink:0;display:grid;grid-template-columns:1fr 1fr;gap:4px;align-content:start;overflow-y:auto}.settings-btn{margin-top:auto!important;background:#4b5563!important;border-top:1px solid #374151!important}.settings-btn.active{background:#6b7280!important}.aig-main-layout .aig-settings-content{flex:1;min-width:0;overflow-y:auto}.aig-gallery-sidebar{width:180px;flex-shrink:0;background:#374151;border-radius:10px;display:flex;flex-direction:column;overflow:hidden}.aig-gallery-sidebar .gallery-header{padding:12px 14px;background:#4b5563;display:flex;justify-content:space-between;align-items:center;font-size:13px;font-weight:600}.aig-gallery-sidebar .gallery-header .clear-btn{background:transparent;border:none;color:#9ca3af;cursor:pointer;font-size:12px;padding:2px}.aig-gallery-sidebar .gallery-header .clear-btn:hover{color:#ef4444}.aig-gallery-sidebar .gallery-scroll{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:8px}.aig-gallery-sidebar .gallery-scroll::-webkit-scrollbar{width:4px}.aig-gallery-sidebar .gallery-scroll::-webkit-scrollbar-thumb{background:#6b7280;border-radius:2px}.aig-gallery-sidebar .gallery-empty{flex:1;display:flex;align-items:center;justify-content:center;text-align:center;color:#6b7280;font-size:11px;padding:12px}.aig-gallery-sidebar .gallery-item{position:relative;border-radius:6px;overflow:hidden;cursor:pointer;flex-shrink:0;background:repeating-conic-gradient(#e5e7eb,#e5e7eb 25%,#f3f4f6 0%,#f3f4f6 50%) 50% / 12px 12px}.aig-gallery-sidebar .gallery-item img{width:100%;height:auto;object-fit:contain;transition:transform .2s}.aig-gallery-sidebar .gallery-item:hover img{transform:scale(1.05)}.aig-gallery-sidebar .gallery-item .download-btn{position:absolute;bottom:4px;right:4px;width:24px;height:24px;background:#000000b3;border:none;border-radius:4px;color:#fff;font-size:12px;cursor:pointer;opacity:0;transition:opacity .2s}.aig-gallery-sidebar .gallery-item:hover .download-btn{opacity:1}.aig-gallery-sidebar .gallery-item-actions{position:absolute;bottom:0;left:0;right:0;display:flex;gap:2px;padding:4px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);opacity:0;transition:opacity .2s}.aig-gallery-sidebar .gallery-item:hover .gallery-item-actions{opacity:1}.aig-gallery-sidebar .gallery-item .action-btn{flex:1;padding:4px;background:#ffffffe6;border:none;border-radius:4px;font-size:10px;cursor:pointer;transition:background .2s}.aig-gallery-sidebar .gallery-item .action-btn:hover{background:#fff}.aig-model-badge{font-size:11px;font-weight:500;background:#fff3;padding:4px 10px;border-radius:12px}.char-settings-panel .api-key-row{display:flex;gap:8px}.char-settings-panel .api-key-row input{flex:1;padding:10px 12px;background:#4b5563;border:1px solid #6b7280;border-radius:8px;color:#fff;font-size:13px}.char-settings-panel .api-key-row input:focus{outline:none;border-color:#3b82f6}.char-settings-panel .api-key-row button{padding:10px 12px;background:#4b5563;border:none;border-radius:8px;color:#fff;cursor:pointer}.char-settings-panel .api-key-row button:hover{background:#6b7280}.char-settings-panel select{width:100%;padding:10px 12px;background:#4b5563;border:1px solid #6b7280;border-radius:8px;color:#fff;font-size:13px;cursor:pointer}.char-settings-panel select:focus{outline:none;border-color:#3b82f6}.char-settings-panel .reset-btn{padding:10px 16px;background:#ef4444;border:none;border-radius:8px;color:#fff;font-size:13px;cursor:pointer;width:100%;transition:background .2s}.char-settings-panel .reset-btn:hover{background:#dc2626}.char-settings-panel .api-help{padding:10px;background:#4b5563;border-radius:8px}.char-settings-panel .api-help p{margin:0 0 8px;color:#9ca3af;font-size:11px}.char-settings-panel .api-help a{color:#60a5fa;font-size:12px;text-decoration:none}.char-settings-panel .api-help a:hover{text-decoration:underline}.asset-sidebar{position:absolute;top:48px;right:0;bottom:0;width:60px;background:#18181b;border-left:1px solid #27272a;display:flex;flex-direction:column;z-index:100;transition:width .2s ease}.asset-sidebar.open{width:240px}.library-resize-handle{position:absolute;left:0;top:0;bottom:0;width:6px;cursor:ew-resize;background:transparent;z-index:10;transition:background .2s}.library-resize-handle:hover,.library-resize-handle:active{background:#3b82f680}.asset-sidebar-header{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#27272a;border-bottom:1px solid #3f3f46}.asset-sidebar-header h3{margin:0;font-size:13px;font-weight:600;color:#fff;white-space:nowrap;overflow:hidden}.asset-sidebar:not(.open) .asset-sidebar-header h3{font-size:16px;text-align:center}.asset-sidebar-header button{background:transparent;border:none;color:#a1a1aa;font-size:14px;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s}.asset-sidebar-header button:hover{background:#ffffff1a;color:#fff}.asset-sidebar-content{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:8px}.asset-sidebar-content::-webkit-scrollbar{width:4px}.asset-sidebar-content::-webkit-scrollbar-thumb{background:#3f3f46;border-radius:2px}.library-category-tabs{display:flex;flex-wrap:wrap;gap:4px;padding-bottom:8px;border-bottom:1px solid #3f3f46;margin-bottom:8px}.library-category-tab{padding:4px 10px;font-size:11px;border:none;border-radius:12px;background:#27272a;color:#a1a1aa;cursor:pointer;transition:all .2s;white-space:nowrap}.library-category-tab:hover{background:#3f3f46;color:#fff}.library-category-tab.active{background:var(--cat-color, #3b82f6);color:#fff}.library-category-add{padding:4px 8px;font-size:12px;font-weight:700;border:1px dashed #4b5563;border-radius:12px;background:transparent;color:#6b7280;cursor:pointer;transition:all .2s}.library-category-add:hover{border-color:#8b5cf6;color:#8b5cf6}.library-category-input{display:flex;gap:4px;margin-bottom:8px}.library-category-input input{flex:1;padding:6px 10px;font-size:12px;border:1px solid #4b5563;border-radius:6px;background:#1f2937;color:#fff;outline:none}.library-category-input input:focus{border-color:#8b5cf6}.library-category-input button{padding:6px 10px;font-size:12px;border:none;border-radius:6px;cursor:pointer;transition:all .2s}.library-category-input button:first-of-type{background:#10b981;color:#fff}.library-category-input button:first-of-type:hover{background:#059669}.library-category-input button:last-of-type{background:#4b5563;color:#fff}.library-category-input button:last-of-type:hover{background:#6b7280}.asset-category-select{flex:1;padding:4px;font-size:10px;border:none;border-radius:4px;background:#8b5cf6e6;color:#fff;cursor:pointer;max-width:60px}.asset-category-select:hover{background:#8b5cf6}.asset-sidebar-empty{flex:1;display:flex;align-items:center;justify-content:center;text-align:center;color:#6b7280;font-size:12px;padding:16px}.asset-sidebar-list{display:flex;flex-direction:column;gap:8px}.asset-sidebar-item{position:relative;background:repeating-conic-gradient(#333,#333 25%,#27272a 0%,#27272a 50%) 50% / 12px 12px;border-radius:8px;overflow:hidden;cursor:pointer;transition:transform .2s}.asset-sidebar-item:hover{transform:scale(1.02)}.asset-sidebar-item img{width:100%;height:auto;object-fit:contain}.asset-sidebar-actions{position:absolute;bottom:0;left:0;right:0;display:flex;gap:2px;padding:4px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);opacity:0;transition:opacity .2s}.asset-sidebar-item:hover .asset-sidebar-actions{opacity:1}.asset-sidebar-actions button{flex:1;padding:6px;background:#ffffffe6;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:background .2s}.asset-sidebar-actions button:hover{background:#fff}.asset-upload-zone{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:12px;border:2px dashed #4b5563;border-radius:8px;background:#1f2937;cursor:pointer;transition:all .2s}.asset-upload-zone:hover,.asset-upload-zone.dragging{border-color:#8b5cf6;background:#2d3748}.asset-upload-zone span{font-size:12px;color:#9ca3af}.asset-upload-zone .upload-hint{font-size:10px;color:#6b7280}.asset-clear-all{margin-top:8px;padding:10px;background:#374151;border:none;border-radius:6px;color:#9ca3af;font-size:12px;cursor:pointer;transition:all .2s}.asset-clear-all:hover{background:#ef4444;color:#fff}.workspace-container .react-flow-canvas{right:60px}.asset-sidebar.open~.react-flow-canvas,.workspace-container:has(.asset-sidebar.open) .react-flow-canvas{right:200px}.style-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.style-card{display:flex;flex-direction:column;gap:6px;padding:14px;border:2px solid #4b5563;border-radius:10px;background:#1f2937;cursor:pointer;transition:all .2s ease;text-align:left;color:#d1d5db}.style-card:hover{border-color:#8b5cf6;background:#2d3748;transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf633}.style-card.active{border-color:#8b5cf6;background:linear-gradient(135deg,#8b5cf6,#a78bfa);color:#fff}.style-card.active .style-desc{color:#ffffffd9}.style-name{font-size:14px;font-weight:600}.style-desc{font-size:11px;color:#9ca3af;line-height:1.3}.race-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.race-card{display:flex;flex-direction:column;gap:4px;padding:12px 10px;border:2px solid #4b5563;border-radius:10px;background:#1f2937;cursor:pointer;transition:all .2s ease;text-align:center;color:#d1d5db}.race-card:hover{border-color:#10b981;background:#2d3748;transform:scale(1.02)}.race-card.active{border-color:#10b981;background:linear-gradient(135deg,#10b981,#34d399);color:#fff}.race-card.active .race-features{color:#ffffffd9}.race-name{font-size:13px;font-weight:600}.race-features{font-size:10px;color:#9ca3af;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ai-generator-node-v2 *::-webkit-scrollbar,.char-settings-panel::-webkit-scrollbar,.aig-settings-content::-webkit-scrollbar,.gallery-scroll::-webkit-scrollbar,.style-grid::-webkit-scrollbar,.race-grid::-webkit-scrollbar{width:6px}.ai-generator-node-v2 *::-webkit-scrollbar-track,.char-settings-panel::-webkit-scrollbar-track,.aig-settings-content::-webkit-scrollbar-track,.gallery-scroll::-webkit-scrollbar-track,.style-grid::-webkit-scrollbar-track,.race-grid::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.ai-generator-node-v2 *::-webkit-scrollbar-thumb,.char-settings-panel::-webkit-scrollbar-thumb,.aig-settings-content::-webkit-scrollbar-thumb,.gallery-scroll::-webkit-scrollbar-thumb,.style-grid::-webkit-scrollbar-thumb,.race-grid::-webkit-scrollbar-thumb{background:#8b5cf666;border-radius:3px;transition:background .2s}.ai-generator-node-v2 *::-webkit-scrollbar-thumb:hover,.char-settings-panel::-webkit-scrollbar-thumb:hover,.aig-settings-content::-webkit-scrollbar-thumb:hover,.gallery-scroll::-webkit-scrollbar-thumb:hover,.style-grid::-webkit-scrollbar-thumb:hover,.race-grid::-webkit-scrollbar-thumb:hover{background:#8b5cf6b3;cursor:pointer}.ai-generator-node-v2 *,.char-settings-panel,.aig-settings-content,.gallery-scroll,.style-grid,.race-grid{scrollbar-width:thin;scrollbar-color:rgba(139,92,246,.4) rgba(255,255,255,.1)}.ai-generator-node-v2 button:not(:disabled),.style-card,.race-card,.aig-category-btn,.option-buttons button,.gallery-item img{cursor:pointer}.ai-generator-node-v2 button:disabled{cursor:not-allowed;opacity:.5}.aig-header{cursor:grab}.aig-header:active{cursor:grabbing}.ai-generator-node-v2 input[type=text],.ai-generator-node-v2 input[type=password]{cursor:text}.ai-generator-node-v2 input[type=range]{cursor:ew-resize}.ai-generator-node-v2 input[type=checkbox]{cursor:pointer}.option-buttons button{transition:all .15s ease}.option-buttons button:hover:not(.active){background:#f3f4f6;border-color:#9ca3af;transform:translateY(-1px)}.option-buttons button.active{transform:scale(1.02)}.aig-category-btn{transition:all .15s ease}.aig-category-btn:hover:not(.active){background:#ffffff1a;transform:translate(2px)}.aig-generate-btn{transition:all .2s ease}.aig-generate-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf666}.aig-generate-btn:active:not(:disabled){transform:translateY(0)}.gallery-item{transition:all .2s ease}.gallery-item:hover{transform:scale(1.05);z-index:10}.gallery-item img{transition:all .2s ease}.gallery-item:hover img{box-shadow:0 4px 16px #0000004d}.ai-generator-node-v2 input:focus,.ai-generator-node-v2 select:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf633}.ai-generator-node-v2 button:focus-visible{outline:2px solid #8b5cf6;outline-offset:2px}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.char-settings-panel{animation:fadeIn .2s ease-out}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.aig-generate-btn:disabled{animation:pulse 1.5s ease-in-out infinite}.context-menu-item{padding:8px 12px;color:#fff;cursor:pointer;border-radius:4px;font-size:13px;transition:background .15s ease}.context-menu-item:hover{background:#8b5cf64d}.context-menu-delete:hover{background:#ef44444d}.context-menu-divider{height:1px;background:#444;margin:4px 0}.context-menu-submenu-title{padding:6px 12px 4px;color:#888;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.image-popup-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:popupOverlayFadeIn .25s ease-out}@keyframes popupOverlayFadeIn{0%{background:#0000;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}to{background:#000000d9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}}.image-popup-content{position:relative;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;gap:16px;animation:popupContentZoomIn .3s cubic-bezier(.34,1.56,.64,1)}@keyframes popupContentZoomIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.image-popup-content img{max-width:100%;max-height:75vh;object-fit:contain;border-radius:8px;box-shadow:0 8px 32px #00000080;animation:popupImageFloat .4s ease-out}@keyframes popupImageFloat{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.image-popup-close{position:absolute;top:-40px;right:-10px;width:36px;height:36px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:50%;color:#fff;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.image-popup-close:hover{background:#fff3;transform:scale(1.1)}.image-popup-prompt{display:flex;align-items:center;gap:12px;background:#ffffff1a;padding:12px 16px;border-radius:8px;max-width:600px;max-height:100px;overflow-y:auto}.image-popup-prompt span{color:#e0e0e0;font-size:13px;line-height:1.4;flex:1;white-space:pre-wrap}.image-popup-prompt button{background:#ffffff26;border:none;border-radius:6px;padding:6px 10px;color:#fff;cursor:pointer;transition:all .2s;flex-shrink:0}.image-popup-prompt button:hover{background:#ffffff40}.image-popup-actions{display:flex;gap:12px}.image-popup-actions button{background:#3b82f6cc;border:none;border-radius:8px;padding:10px 20px;color:#fff;font-size:14px;cursor:pointer;transition:all .2s}.image-popup-actions button:hover{background:#3b82f6;transform:translateY(-2px)}.zoom-indicator{position:absolute;bottom:24px;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:500;pointer-events:none;z-index:5;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.1)}.link-card-node{background:#1e1e2e;border:1px solid #3b82f6;border-radius:10px;padding:12px;min-width:240px;color:#e0e0e0;font-size:13px;transition:all .2s}.link-card-node:hover{border-color:#60a5fa;box-shadow:0 4px 12px #3b82f633}.link-card-node.selected{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f64d}.link-card-edit{display:flex;flex-direction:column;gap:8px}.link-card-edit input{background:#2a2a3e;border:1px solid #444;border-radius:6px;padding:8px 10px;color:#e0e0e0;font-size:13px;width:100%}.link-card-edit input:focus{border-color:#3b82f6;outline:none}.link-card-edit-buttons{display:flex;gap:8px}.link-card-edit-buttons button{flex:1;padding:6px 12px;border:none;border-radius:6px;font-size:12px;cursor:pointer;transition:all .15s}.link-card-edit-buttons .save-btn{background:#3b82f6;color:#fff}.link-card-edit-buttons .save-btn:hover{background:#2563eb}.link-card-edit-buttons .cancel-btn{background:#374151;color:#9ca3af}.link-card-edit-buttons .cancel-btn:hover{background:#4b5563}.link-card-display{cursor:pointer}.link-card-header{display:flex;align-items:center;gap:8px;margin-bottom:6px}.link-card-favicon{width:16px;height:16px;border-radius:4px}.link-card-title{font-weight:600;color:#f0f0f0;font-size:14px}.link-card-url{color:#60a5fa;font-size:11px;word-break:break-all;margin-bottom:6px}.link-card-hint{color:#6b7280;font-size:10px}.link-card-node .react-flow__handle{width:10px;height:10px;background:#3b82f6;border:2px solid #1e1e2e}.checklist-node{background:#1e1e2e;border:1px solid #22c55e;border-radius:10px;padding:12px;min-width:220px;color:#e0e0e0;font-size:13px;transition:all .2s;box-sizing:border-box;position:relative}.checklist-node:hover{border-color:#4ade80;box-shadow:0 4px 12px #22c55e33}.checklist-node.selected{border-color:#22c55e;box-shadow:0 0 0 2px #22c55e4d}.checklist-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;flex-shrink:0}.checklist-title{font-weight:600;font-size:14px;color:#f0f0f0;cursor:pointer}.checklist-title:hover{color:#4ade80}.checklist-title-input{background:#2a2a3e;border:1px solid #22c55e;border-radius:4px;padding:4px 8px;color:#e0e0e0;font-size:14px;font-weight:600;width:100%}.checklist-progress{font-size:11px;color:#22c55e;font-weight:500}.checklist-progress-bar{height:4px;background:#2a2a3e;border-radius:2px;margin-bottom:10px;overflow:hidden;flex-shrink:0}.checklist-progress-fill{height:100%;background:linear-gradient(90deg,#22c55e,#4ade80);border-radius:2px;transition:width .3s ease}.checklist-items{display:flex;flex-direction:column;gap:6px;flex:1;min-height:0;overflow-y:auto;margin-bottom:10px}.checklist-item{display:flex;align-items:center;gap:8px;padding:6px 8px;background:#2a2a3e;border-radius:6px;transition:all .15s}.checklist-item:hover{background:#333348}.checklist-item.checked .checklist-item-text{text-decoration:line-through;color:#6b7280}.checklist-checkbox{width:16px;height:16px;cursor:pointer;accent-color:#22c55e}.checklist-item-text{flex:1;color:#e0e0e0;font-size:12px}.checklist-item-delete{width:20px;height:20px;background:transparent;border:none;color:#6b7280;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;border-radius:4px;opacity:0;transition:all .15s}.checklist-item:hover .checklist-item-delete{opacity:1}.checklist-item-delete:hover{background:#ef4444;color:#fff}.checklist-add{display:flex;gap:6px;flex-shrink:0}.checklist-add-input{flex:1;background:#2a2a3e;border:1px solid #444;border-radius:6px;padding:6px 10px;color:#e0e0e0;font-size:12px}.checklist-add-input:focus{border-color:#22c55e;outline:none}.checklist-add-btn{width:28px;height:28px;background:#22c55e;border:none;border-radius:6px;color:#fff;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s}.checklist-add-btn:hover:not(:disabled){background:#16a34a}.checklist-add-btn:disabled{background:#374151;color:#6b7280;cursor:not-allowed}.checklist-node .react-flow__handle{width:10px;height:10px;background:#22c55e;border:2px solid #1e1e2e}
